{"version":3,"file":"static/js/6414.f916913c.chunk.js","mappings":"+TAIm6C,SAASA,EAAEC,GAAG,MAAMD,EAAE,IAAIE,EAAAA,GAAEC,EAAEF,EAAEG,mBAAmBH,EAAEI,SAASC,EAAAA,EAAEC,OAAON,EAAEI,SAASC,EAAAA,EAAEE,OAAOR,EAAES,QAAQC,EAAAA,EAAET,GAAGD,EAAES,QAAQE,EAAAA,EAAEV,GAAGD,EAAES,QAAQG,EAAAA,GAAEX,GAAG,MAAMY,OAAOC,EAAEC,SAASC,GAAGhB,EAAE,OAAOgB,EAAEP,QAAQQ,EAAAA,IAAGC,EAAAA,EAAAA,IAAEJ,EAAEb,GAAGe,EAAEG,SAASC,IAAI,IAAIC,EAAAA,EAAE,UAAUpB,GAAGA,EAAEqB,SAAStB,EAAEuB,WAAWH,IAAII,EAAAA,EAAEC,SAAS,QAAQzB,EAAE0B,SAASN,IAAI,iBAAiB,QAAQjB,GAAGH,EAAE0B,SAASN,IAAI,QAAQ,SAASnB,EAAE0B,mBAAmB3B,EAAEuB,WAAWH,IAAII,EAAAA,EAAEI,OAAO,QAAQ3B,EAAE4B,kBAAiBC,EAAAA,EAAAA,IAAEhB,GAAGd,EAAEuB,WAAWH,IAAII,EAAAA,EAAEO,OAAO,QAAQ/B,EAAE0B,SAASN,IAAI,cAAc,SAASN,EAAEkB,KAAKZ,KAAIa,EAAAA,EAAAA,GAACC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+DAEz4DlC,EAAE0B,kBAAkB,sCAAsC,aAC9E1B,EAAE4B,gBAAgBf,EAAEkB,KAAKZ,KAAIa,EAAAA,EAAAA,GAACG,IAAAA,GAAAD,EAAAA,EAAAA,GAAA,2FACsBrB,EAAEkB,KAAKZ,KAAIa,EAAAA,EAAAA,GAACI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,2FAC/DhC,EAAE,gDAAgD,KAGnDA,GAAGH,EAAES,QAAQ6B,EAAAA,EAAErC,GAAGe,EAAEgB,KAAKZ,KAAIa,EAAAA,EAAAA,GAACM,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,kFAG3BhC,EAAE,2BAA2B,KAC9BF,EAAE4B,gBAAgBb,EAAEG,SAASC,IAAI,IAAIoB,EAAAA,EAAE,oBAAoBvC,GAAGA,EAAEwC,oBAAoBzB,EAAEG,SAASC,IAAI,IAAIC,EAAAA,EAAE,eAAepB,GAAGyC,EAAEzC,EAAE0C,YAAY1C,EAAEqB,UAAUN,EAAEgB,KAAKZ,KAAIa,EAAAA,EAAAA,GAACW,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,yMAE5GnB,EAAEgB,KAAKZ,KAAIa,EAAAA,EAAAA,GAACY,IAAAA,GAAAV,EAAAA,EAAAA,GAAA,kCAA6BnB,EAAEgB,KAAKZ,KAAIa,EAAAA,EAAAA,GAACa,IAAAA,GAAAX,EAAAA,EAAAA,GAAA,mHAC3GlC,EAAEI,SAASC,EAAAA,EAAEyC,uBAAsBd,EAAAA,EAAAA,GAACe,IAAAA,GAAAb,EAAAA,EAAAA,GAAA,2BAAsB,GACvCF,EAAAA,EAAEgB,MAAMC,EAAAA,GAG3BjD,EAAEI,SAASC,EAAAA,EAAEE,OAAMyB,EAAAA,EAAAA,GAACkB,IAAAA,GAAAhB,EAAAA,EAAAA,GAAA,uCAAkC,GAEtDlC,EAAEI,SAASC,EAAAA,EAAEC,OAAM0B,EAAAA,EAAAA,GAACmB,IAAAA,GAAAjB,EAAAA,EAAAA,GAAA,kEAA2DlC,EAAEoD,uBAAuBC,EAAAA,EAAE/C,MAAM,2CAA2C,IAAK,KAEjKP,CAAC,CAAC,SAAS0C,EAAEzC,EAAEU,GAAG,MAAML,EAAE,EAAEL,EAAE,GAAGW,EAAEX,EAAE,GAAGU,EAAE,GAAGL,EAAE,OAAO,IAAIM,GAAGT,EAAE,GAAGS,EAAET,IAAIA,EAAE,IAAIF,EAAE,GAAGA,EAAE,GAAGU,EAAE,GAAGA,EAAE,GAAGL,GAAGM,EAAET,EAAE,IAAIF,EAAE,GAAGA,EAAE,GAAGU,EAAE,GAAGA,EAAE,GAAGL,GAAGM,EAAET,EAAE,IAAIF,EAAE,GAAGA,EAAE,GAAGU,EAAE,GAAGA,EAAE,GAAGL,GAAGM,EAAET,EAAE,GAAGQ,EAAE,GAAGR,EAAE,CAAC,MAAMA,GAAEF,EAAAA,EAAAA,MAAIa,EAAEyC,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,MAAM3D,GAAG4D,OAAOC,YAAY,CAACC,MAAM,W,wYCvB4tE,MAAMC,EAAGC,WAAAA,CAAY/D,GAAE,IAAAgE,EAACC,KAAKC,cAAS,EAAOD,KAAKE,QAAQ,IAAIC,EAAAA,EAAEH,KAAKI,WAAW,CAACC,OAAO,EAAEC,SAAS,MAAMN,KAAKO,cAAc,CAACC,KAAK,SAASR,KAAKS,kBAAkB,EAAET,KAAKU,eAAe,IAAIC,MAAMX,KAAKY,wBAAuB,EAAGZ,KAAKa,YAAW,EAAGb,KAAKc,gBAAgB,EAAEd,KAAKe,QAAQ,GAAGf,KAAKgB,aAAY,EAAGhB,KAAKiB,gBAAgB,EAAEjB,KAAKkB,gBAAgB,IAAIlB,KAAKmB,eAAc,EAAGnB,KAAKoB,iBAAgBrD,EAAAA,EAAAA,MAAIiC,KAAKqB,YAAY,KAAKrB,KAAKsB,iBAAgBC,EAAAA,EAAAA,MAAIvB,KAAKwB,sBAAqB,EAAGxB,KAAKyB,UAAU,IAAIC,EAAAA,EAAE,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,IAAI7B,KAAK8B,0BAA0B,IAAIJ,EAAAA,EAAE1B,KAAK+B,gCAA+B,EAAG/B,KAAKgC,aAAY,EAAGhC,KAAKiC,YAAW,EAAGjC,KAAKkC,WAAU,EAAGlC,KAAKmC,gBAAe,EAAGnC,KAAKoC,OAAO,KAAKpC,KAAKqC,WAAW,KAAKrC,KAAKsC,WAAU,EAAGtC,KAAKuC,UAAS,EAAGvC,KAAKwC,WAAU,EAAGxC,KAAKyC,WAAU,EAAGzC,KAAK0C,OAAOC,EAAAA,GAAEC,KAAK5C,KAAK6C,UAAS,EAAG7C,KAAK8C,OAAO,IAAIlF,EAAAA,EAAEmF,aAAa/C,KAAKgD,gBAAgB,CAACC,kBAAiB7G,EAAAA,EAAAA,MAAI8G,wBAAuBnG,EAAAA,EAAAA,MAAIoG,UAAU,GAAGnD,KAAKoD,sBAAqB,EAAGpD,KAAKqD,8BAA6B,EAAGrD,KAAKsD,WAAU,EAAGtD,KAAKyB,UAAU8B,iBAAiBxH,EAAEyH,KAAKD,iBAAiBlE,OAAOoE,OAAOzD,KAAKjE,GAAG,MAAMW,EAAiB,QAAhBqD,EAACC,KAAKwD,KAAKE,aAAK,IAAA3D,OAAA,EAAfA,EAAiB4D,OAAOjH,GAAGsD,KAAKE,QAAQ0D,SAASlH,EAAE,CAACmH,OAAAA,GAAU7D,KAAK8D,sBAAsBC,EAAG/D,KAAKgE,4BAA4BhE,KAAKiE,iBAAiB,KAAKjE,KAAKwD,KAAK,KAAKxD,KAAKE,QAAQ,IAAI,CAAC,UAAIgE,GAAQ,IAAAC,EAAC,OAAgB,QAAhBA,EAAOnE,KAAKwD,YAAI,IAAAW,OAAA,EAATA,EAAWD,MAAM,CAAC,iBAAIE,GAAgB,OAAOpE,KAAKqE,cAAc,CAAC,iBAAID,CAAcrI,GAAGiE,KAAKqE,eAAetI,EAAEiE,KAAK+B,gCAA+B,EAAG/B,KAAKwB,sBAAqB,EAAGxB,KAAKsE,qBAAqB,CAAC,iBAAIC,GAAgB,OAAOvE,KAAKU,cAAc,CAAC,iBAAI6D,CAAcxI,GAAGiE,KAAKgE,4BAA4BhE,KAAKiE,iBAAiB,KAAKjE,KAAKU,eAAe3E,EAAEyI,QAAQxE,KAAKsE,qBAAqB,CAAC,aAAIG,CAAU1I,GAAGA,IAAIiE,KAAKa,aAAab,KAAKa,WAAW9E,EAAEiE,KAAKsE,sBAAsB,CAAC,aAAIG,GAAY,OAAOzE,KAAKa,UAAU,CAAC6D,cAAAA,GAAiB,OAAO1E,KAAKc,kBAAkB,IAAId,KAAKc,iBAAiBd,KAAKsE,uBAAsB5H,EAAAA,EAAAA,KAAG,KAAKsD,KAAKc,kBAAkB,IAAId,KAAKc,iBAAiBd,KAAKsE,qBAAqB,GAAG,CAAC,UAAIK,CAAO5I,GAAGA,IAAIiE,KAAKe,UAAUf,KAAKe,QAAQhF,EAAEiE,KAAKsE,sBAAsB,CAAC,UAAIK,GAAS,OAAO3E,KAAKe,OAAO,CAAC,cAAI6D,CAAW7I,GAAGA,IAAIiE,KAAKgB,cAAchB,KAAKgB,YAAYjF,EAAEiE,KAAKsE,sBAAsB,CAAC,cAAIM,GAAa,OAAO5E,KAAKgB,WAAW,CAAC,kBAAI6D,GAAiB,OAAO7E,KAAKoB,eAAe,CAAC,kBAAIyD,CAAe9I,GAAG+I,EAAG/I,KAAKiE,KAAKoD,sBAAqB,IAAIpE,EAAAA,EAAAA,GAAEgB,KAAKoB,gBAAgBrF,GAAGiE,KAAKsE,qBAAqB,CAAC,kBAAIS,GAAiB,OAAO/E,KAAKwB,uBAAuBxB,KAAKwB,sBAAqB,EAAGxB,KAAKwD,KAAKwB,mBAAmBC,eAAejF,KAAKkF,yBAAyBlF,KAAKsB,iBAAiBtB,KAAKmB,eAAenB,KAAKqB,cAAcrB,KAAKqB,aAAYtD,EAAAA,EAAAA,OAA4yT,SAAYhC,EAAE6B,EAAElB,GAAG,OAAOX,EAAEoJ,aAAa,IAAI,QAAQ,OAAOhI,EAAAA,EAAAA,IAAET,IAAG,EAAG,IAAI,SAAS,CAAC,MAAMD,GAAE2I,EAAAA,EAAAA,IAAErJ,EAAEiJ,mBAAmBzB,mBAAyB8B,EAAAA,EAAAA,IAAEzH,EAAE,EAAE0H,EAAG,EAAE7I,EAAEkI,SAAQY,EAAAA,EAAAA,IAAEvI,EAAAA,EAAAA,IAAEsI,EAAG,KAAItI,EAAAA,EAAAA,IAAEsI,EAAG,IAAI5I,EAAK,EAAE,CAAj+T8I,CAAGxF,KAAKwD,KAAKxD,KAAKsB,gBAAgBtB,KAAKqB,cAAcrB,KAAKqB,cAAcrB,KAAKqB,YAAY,OAAOrB,KAAKsB,eAAe,CAAC,kBAAIyD,CAAehJ,GAAGiE,KAAKwD,KAAKwB,mBAAmBS,iBAAiB1J,EAAEiE,KAAKyB,WAAWzB,KAAKkF,yBAAyBlF,KAAKyB,SAAS,CAAC,YAAIiE,GAAW,OAAO1F,KAAKyB,SAAS,CAAC,YAAIiE,CAAS3J,IAAG4J,EAAAA,EAAAA,IAAE5J,EAAEiE,KAAKyB,WAAWzB,KAAK4F,wBAAwB,CAACA,sBAAAA,GAAyB5F,KAAKwB,sBAAqB,EAAGxB,KAAKoD,sBAAqB,EAAGpD,KAAK+B,gCAA+B,EAAG/B,KAAKsE,sBAAsBtE,KAAK8C,OAAO+C,KAAK,kBAAkB,CAACH,SAAS1F,KAAKyB,WAAW,CAAC,4BAAIyD,GAA2B,OAAOlF,KAAK+B,gCAAgC/B,KAAK8F,8BAA8B9F,KAAK+F,kCAAkC/F,KAAK8B,2BAA2B9B,KAAK8B,yBAAyB,CAAC,4BAAIoD,CAAyBnJ,IAAG4J,EAAAA,EAAAA,IAAE5J,EAAEiE,KAAKyB,WAAWzB,KAAK8F,8BAA8B9F,KAAKyB,UAAUI,GAAG7B,KAAKI,WAAWC,OAAOL,KAAK+F,kCAAkC/F,KAAKsE,sBAAsBtE,KAAK8C,OAAO+C,KAAK,kBAAkB,CAACH,SAAS1F,KAAKyB,WAAW,CAACsE,+BAAAA,GAAkC,MAAMhK,EAAE,MAAMiE,KAAKI,WAAWE,SAASN,KAAKI,WAAWE,SAASN,KAAK0F,SAAS7D,GAAG,EAAE7B,KAAK8B,0BAA0BH,EAAE3B,KAAK0F,SAAS/D,EAAE3B,KAAK8B,0BAA0BF,EAAE5B,KAAK0F,SAAS9D,EAAE5B,KAAK8B,0BAA0BD,EAAE9F,EAAEiE,KAAKI,WAAWC,OAAOL,KAAK8B,0BAA0ByB,kBAAiByC,EAAAA,EAAAA,IAAEhG,KAAK0F,SAASnC,kBAAkBvD,KAAKwB,sBAAqB,EAAGxB,KAAKoD,sBAAqB,EAAGpD,KAAK+B,gCAA+B,CAAE,CAACkE,iBAAAA,GAAoB,OAAM,CAAE,CAAC,YAAIC,GAAW,OAAOlG,KAAKsC,SAAS,CAAC,YAAI4D,CAASnK,GAAGA,IAAIiE,KAAKsC,YAAYtC,KAAKsC,UAAUvG,EAAEiE,KAAKmG,YAAYnG,KAAKwC,WAAWxC,KAAKsC,WAAWtC,KAAKsE,sBAAsB,CAAC,YAAI8B,GAAW,OAAOpG,KAAKwC,SAAS,CAAC,YAAI4D,CAASrK,GAAGA,IAAIiE,KAAKwC,YAAYxC,KAAKwC,UAAUzG,EAAEiE,KAAKmG,YAAYnG,KAAKwC,WAAWxC,KAAKsC,WAAWtC,KAAKsE,sBAAsB,CAAC,YAAI+B,GAAW,OAAOrG,KAAKyC,SAAS,CAAC,YAAI4D,CAAStK,GAAGA,IAAIiE,KAAKyC,YAAYzC,KAAKyC,UAAU1G,EAAEiE,KAAKsE,sBAAsBtE,KAAK8C,OAAO+C,KAAK,iBAAiB,CAACS,OAAOvK,EAAE,SAAS,aAAa,CAAC,SAAI2H,GAAQ,OAAO1D,KAAK0C,MAAM,CAAC,SAAIgB,CAAM3H,GAAGA,IAAIiE,KAAK0C,SAAS1C,KAAK0C,OAAO3G,EAAEiE,KAAKsE,sBAAsB,CAACiC,kBAAAA,CAAmBxK,EAAE6B,GAAGA,EAAEoC,KAAK0D,OAAO3H,EAAEiE,KAAK0D,QAAQ3H,CAAC,CAACoK,WAAAA,CAAYpK,GAAGA,IAAIiE,KAAK6C,WAAW7C,KAAK6C,SAAS9G,EAAEiE,KAAK8C,OAAO+C,KAAK,gBAAgB,CAACS,QAAO,IAAKvK,EAAE,QAAQ,YAAY,CAAC,WAAIyK,GAAU,OAAOxG,KAAK6C,QAAQ,CAAC,kBAAI4D,GAAiB,OAAOzG,KAAK0G,wBAAwB1G,KAAKgD,eAAe,CAAC0D,qBAAAA,GAAwB,IAAI1G,KAAKoD,qBAAqB,OAA8H,IAAIrH,EAAE,GAA7HiE,KAAKgD,gBAAgBG,UAAUnD,KAAKE,QAAQyG,yBAAyB3G,KAAK+E,gBAAgB/E,KAAKoD,sBAAqB,EAAY0B,EAAG9E,KAAKoB,iBAAiB,CAAC,MAAMxD,EAAEoC,KAAK4G,+BAA+BC,GAAI9K,GAAED,EAAAA,EAAAA,GAAE8B,EAAEA,EAAEoC,KAAK+E,eAAe,MAAMhJ,EAAEiE,KAAK+E,eAAe/E,KAAKE,QAAQ4G,sBAAsB/K,EAAEiE,KAAKgD,gBAAgBE,wBAAwBlD,KAAKE,QAAQ6G,eAAe/G,KAAKgD,gBAAgBE,uBAAuBlD,KAAKgD,gBAAgBC,iBAAiB,CAAC,wBAAI+D,GAAuB,OAAOhH,KAAK8D,qBAAqB,CAAC,wBAAIkD,CAAqBjL,GAAGiE,KAAK8D,sBAAsB/H,EAAEiE,KAAKoD,sBAAqB,EAAGpD,KAAKsE,qBAAqB,CAAC,YAAI2C,GAAW,OAAOjH,KAAKsD,SAAS,CAAC4D,oBAAAA,CAAqBtJ,EAAElB,GAAG,IAAIsD,KAAKyE,UAAU,OAAO,KAAK,MAAMzH,GAAER,EAAAA,EAAAA,IAAEoB,EAAEuJ,GAAI1K,EAAEuD,KAAKoH,oBAAoB1K,GAAGN,GAAG,EAAE4D,KAAKS,kBAAkB,OAAOT,KAAKO,cAAcC,MAAM,IAAI,QAAQ,IAAGpB,EAAAA,EAAAA,IAAEY,KAAKyG,eAAexD,iBAAiBjG,GAAGP,EAAEA,EAAE,OAAOuD,KAAKyG,eAAevD,uBAAuB,GAAG9G,EAAE,MAAM,IAAI,OAAO,CAAC,MAAML,EAAEiE,KAAKO,cAAc8G,MAAMzJ,EAAEoC,KAAKsH,+BAA+B5K,EAAEsD,KAAKuH,0BAA0B3J,EAAE4J,GAAIzK,EAAEN,EAAEuD,KAAKyG,eAAetD,UAAU3G,GAAEiL,EAAAA,EAAAA,IAAEzH,KAAKE,QAAQlD,EAAE0K,GAAI,GAAG,MAAMlL,EAAE,OAAO,KAAK,IAAI,MAAMQ,KAAKjB,EAAE,CAAC,GAAG,IAAIiB,EAAE2K,OAAO,SAAS,MAAM5L,GAAEC,EAAAA,EAAAA,GAAEsJ,EAAGtI,EAAE,GAAGN,GAAG,IAAI,IAAIkB,EAAE,EAAEA,EAAEZ,EAAE2K,OAAO/J,IAAI,CAAC,MAAMnB,GAAET,EAAAA,EAAAA,GAAE4L,EAAG5K,EAAEY,GAAGlB,GAAG0B,GAAEuD,EAAAA,EAAAA,KAAEkG,EAAAA,EAAAA,IAAE9L,EAAEU,EAAEqL,GAAItL,GAAG,GAAG,MAAM4B,GAAGA,EAAErB,EAAEA,EAAE,CAAC,MAAMa,GAAE9B,EAAAA,EAAAA,GAAEiM,EAAAA,GAAEC,MAAMjM,EAAEU,IAAGmF,EAAAA,EAAAA,GAAEhE,EAAEA,EAAE,IAAI,MAAMlB,GAAE4B,EAAAA,EAAAA,IAAEyJ,EAAAA,GAAEC,OAAO,OAAOhI,KAAKE,QAAQ4G,sBAAsBlJ,EAAElB,GAAGA,EAAE,GAAGN,CAAC,EAAC6L,EAAAA,EAAAA,GAAElM,EAAEU,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,OAAO,KAAAyL,EAAC,MAAMnM,EAAEiE,KAAKO,cAAc4H,UAAUvK,EAA2B,QAA1BsK,EAAClI,KAAKO,cAAcF,cAAM,IAAA6H,EAAAA,EAAE1J,EAAAA,GAAE9B,EAAEsD,KAAKsH,+BAA+BvK,EAAEiD,KAAKuH,0BAA0B7K,EAAE8K,GAAIhL,EAAEC,EAAEuD,KAAKyG,eAAetD,UAAU7E,GAAEmJ,EAAAA,EAAAA,IAAEzH,KAAKE,QAAQlD,EAAE0K,GAAI,GAAG,MAAMpJ,EAAE,OAAO,KAAK,MAAM1B,GAAEwB,EAAAA,EAAAA,IAAEgK,EAAGrL,GAAGiC,GAAE/C,EAAAA,EAAAA,GAAEoM,EAAGtM,EAAEa,GAAG0L,GAAEtM,EAAAA,EAAAA,GAAEuM,EAAG3K,EAAEb,IAAGyL,EAAAA,EAAAA,IAAEF,EAAEtJ,EAAEyJ,GAAI,MAAMnL,EAAEoL,EAAG,IAAGC,EAAAA,EAAAA,IAAEF,EAAGnK,EAAEhB,KAAIsL,EAAAA,EAAAA,GAAEtL,EAAEgL,GAAG9L,EAAEA,EAAE,OAAOwD,KAAKyG,eAAevD,uBAAuB,GAAG9G,EAAE,KAAK,CAAC,IAAI,SAAS,CAAC,MAAMiL,MAAMtL,EAAEoM,UAAUvK,GAAGoC,KAAKO,cAAc7D,EAAEsD,KAAKsH,+BAA+BvK,EAAEiD,KAAKuH,0BAA0B7K,EAAE8K,GAAIhL,EAAEC,EAAEuD,KAAKE,QAAQyG,yBAAyB3G,KAAK+E,gBAAgBnI,GAAE6K,EAAAA,EAAAA,IAAEzH,KAAKE,QAAQlD,EAAE0K,GAAI,GAAG,MAAM9K,EAAE,OAAO,KAAK,MAAMoC,GAAEZ,EAAAA,EAAAA,IAAEgK,EAAGrL,GAAGuL,GAAErM,EAAAA,EAAAA,GAAEoM,EAAGzK,EAAEoB,GAAG1B,EAAE0C,KAAK6I,iCAAiCN,IAAIC,EAAAA,EAAAA,IAAElL,EAAEgL,EAAEG,GAAI,MAAMtL,EAAEuL,EAAG,KAAIC,EAAAA,EAAAA,IAAEF,EAAG7L,EAAEO,GAAG,MAAM,IAAI,MAAMH,KAAKjB,EAAE,CAAC,GAAG,IAAIiB,EAAE2K,OAAO,SAAS,MAAM5L,GAAEC,EAAAA,EAAAA,GAAEsJ,EAAGtI,EAAE,GAAGD,GAAG,IAAI,IAAIa,EAAE,EAAEA,EAAEZ,EAAE2K,OAAO/J,IAAI,CAAC,MAAMlB,GAAEV,EAAAA,EAAAA,GAAE4L,EAAG5K,EAAEY,GAAGb,GAAGN,GAAEK,EAAAA,EAAAA,KAAE+K,EAAAA,EAAAA,IAAE9L,EAAEW,EAAEoL,GAAI3K,GAAG,GAAG,MAAMV,GAAGA,EAAED,EAAEA,EAAE,CAAC,MAAMoB,GAAE9B,EAAAA,EAAAA,GAAEiM,EAAAA,GAAEC,MAAMjM,EAAEW,IAAGkF,EAAAA,EAAAA,GAAEhE,EAAEA,EAAE,IAAI,MAAMZ,GAAEsB,EAAAA,EAAAA,IAAEyJ,EAAAA,GAAEC,OAAO,OAAOhI,KAAKE,QAAQ4G,sBAAsBlJ,EAAEZ,GAAGA,EAAE,GAAGZ,CAAC,EAAC6L,EAAAA,EAAAA,GAAElM,EAAEW,EAAE,CAAC,CAAC,KAAK,CAAC,SAAQX,EAAAA,EAAAA,IAAEiE,KAAKO,eAAe,OAAO,IAAI,CAACuI,MAAAA,GAA4B,IAArB/M,EAACgN,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAC,CAACE,cAAc,CAAC,GAAI,MAAMrL,EAAEoC,KAAKkE,OAAO,IAAItG,EAAE,OAAO,MAAMlB,EAAEX,EAAEkN,cAAc,MAAMvM,EAAEwM,eAAelJ,KAAKmJ,aAAa,IAAIC,EAAAA,EAAExL,EAAE,CAACyL,UAAS,EAAGC,aAAaC,EAAAA,EAAEC,OAAO9M,EAAEwM,cAAclJ,KAAKmJ,aAAaM,KAAK,OAAD7L,QAAC,IAADA,OAAC,EAADA,EAAG8L,aAAY1J,KAAKmJ,aAAavL,EAAE8L,UAAUhN,EAAEwM,gBAAgBxM,EAAEiN,uBAAuBjN,EAAEiN,uBAAuB,GAAG,EAAE3J,KAAK4J,sBAAsBlN,EAAEmN,qBAAqB,MAAM7J,KAAK4J,wBAAwB5J,KAAK4J,sBAAsB,IAAIE,IAAIpN,EAAEmN,qBAAqB7J,KAAK4J,uBAAuB5J,KAAKE,QAAQ0D,SAAS5D,KAAKwD,KAAKE,MAAMC,QAAQ3D,KAAKsD,WAAU,EAAGtD,KAAKsE,uBAAsByF,EAAAA,EAAAA,yBAAE/J,KAAKyB,UAAU8B,iBAAiBvD,KAAKwD,KAAKD,oBAAoBvD,KAAK0F,SAAS,IAAIhE,EAAAA,EAAE,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE0B,iBAAiBvD,KAAKwD,KAAKD,mBAAmB,CAACyG,MAAAA,GAA6B,MAAMpM,GAA3BmL,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAC,CAACE,cAAc,CAAC,IAAcA,cAAcrL,EAAE+L,wBAAwB,MAAMjN,EAAE,IAAIkB,EAAE+L,sBAAsB3J,KAAKgE,4BAA4BtH,IAAIkB,EAAEsL,cAAc,MAAKzM,EAAAA,EAAAA,IAAEuD,KAAKmJ,eAAenJ,KAAKiE,iBAAiB,KAAKjE,KAAKmJ,aAAa,KAAKnJ,KAAK4J,sBAAsB,KAAK5J,KAAKsD,WAAU,CAAE,CAAC2G,YAAAA,GAAejK,KAAKE,QAAQ0D,SAAS5D,KAAKwD,KAAKE,MAAMC,QAAQ3D,KAAKoD,sBAAqB,EAAGpD,KAAKsE,qBAAqB,CAAC4F,iBAAAA,CAAkBnO,IAAGoO,EAAAA,EAAAA,cAAEnK,KAAK0F,SAAS0E,EAAGrO,EAAEwH,oBAAmB1B,EAAAA,EAAAA,IAAE9F,EAAEsO,OAAOD,IAAKpK,KAAK4F,wBAAwB,CAACE,2BAAAA,GAA6B,IAAAwE,EAAAC,EAAAC,EAAAC,EAAC,GAAG,MAAMzK,KAAKoE,cAAc,OAAO,IAAIrI,EAAE,KAAK6B,EAAE,EAAE,MAAMlB,GAAEgO,EAAAA,EAAAA,IAAE1K,KAAKoE,cAA4C,QAA/BkG,EAACtK,KAAK0F,SAASnC,wBAAgB,IAAA+G,EAAAA,EAAEtK,KAAKwD,KAAKmH,kBAAkBpH,kBAAkB,OAAOvD,KAAKoE,cAAcwG,MAAM,IAAI,gBAAgB7O,EAAuD,QAAtDwO,GAACM,EAAAA,EAAAA,IAAE7K,KAAKwD,KAAKmH,kBAAkB3K,KAAK0F,SAAS,iBAAS,IAAA6E,EAAAA,EAAE,EAAE,MAAM,IAAI,qBAAqB3M,GAAwD,QAAtD4M,GAACK,EAAAA,EAAAA,IAAE7K,KAAKwD,KAAKmH,kBAAkB3K,KAAK0F,SAAS,iBAAS,IAAA8E,EAAAA,EAAE,GAAG9N,EAAE,MAAM,IAAI,oBAAoBkB,GAAuD,QAArD6M,GAACI,EAAAA,EAAAA,IAAE7K,KAAKwD,KAAKmH,kBAAkB3K,KAAK0F,SAAS,gBAAQ,IAAA+E,EAAAA,EAAE,GAAG/N,EAAE,MAAM,IAAI,kBAAkBkB,EAAElB,EAAE,OAAOkB,IAAIoC,KAAKI,WAAWC,QAAQtE,IAAIiE,KAAKI,WAAWE,UAAUN,KAAKI,WAAWC,OAAOzC,OAAOoC,KAAKI,WAAWE,SAASvE,SAAI,CAAM,CAACuI,mBAAAA,GAAsB,IAAItE,KAAKsD,UAAU,OAAO,IAAItD,KAAKyE,UAAU,YAAYzE,KAAKgE,4BAA4B,MAAMjI,EAAEiE,KAAKsH,+BAA+B1J,EAAE4J,EAAG,IAAG,IAAKxH,KAAKY,uBAAuB,CAAC,MAAMlE,EAAEsD,KAAK8K,gBAAgB9K,KAAKe,QAAQf,KAAKwG,SAASzK,EAAEiE,KAAKuH,0BAA0B7K,EAAEkB,EAAE,MAAMoC,KAAKuH,0BAA0BxL,EAAE6B,GAAG,MAAMmN,eAAerO,GAAGsD,KAAKgL,yBAAyBhO,GAAGgD,KAAKwG,QAAQyE,EAAAA,GAAEC,QAAQD,EAAAA,GAAEE,YAAYnL,KAAKqG,SAAS4E,EAAAA,GAAEG,SAASH,EAAAA,GAAEI,YAAY5O,EAAEuD,KAAKc,gBAAgB,EAAE,IAAI,MAAMwK,UAAUlP,EAAEmP,QAAQxO,KAAKL,EAAE,CAAC,GAAGD,EAAE,CAAC,IAAI,MAAMV,KAAKgB,EAAEhB,EAAEyP,SAAQ,EAAG,QAAQ,CAAC,MAAMzP,GAAGK,EAAE6O,EAAAA,GAAEQ,OAAOR,EAAAA,GAAErI,KAAKlG,GAAGN,EAAEuG,EAAAA,GAAE8I,OAAO9I,EAAAA,GAAEC,KAAKpG,GAAGT,IAAIiB,EAAEZ,KAAKA,EAAE6O,EAAAA,GAAEQ,KAAKnN,GAAG5B,IAAIsD,KAAK0D,MAAMtH,KAAKA,EAAEuG,EAAAA,GAAE8I,KAAK,GAAGjP,GAAG8B,EAAE,IAAI,MAAMtB,KAAKD,EAAEC,EAAEwO,SAAQ,EAAGxO,EAAE0O,eAAe9N,OAAO,IAAI,MAAMA,KAAKb,EAAEa,EAAE4N,SAAQ,CAAE,CAAC,CAACR,sBAAAA,GAAyB,GAAG,MAAMhL,KAAKiE,iBAAiB,CAAC,MAAMlI,EAAEiE,KAAKmJ,aAAavL,EAAE,GAAGlB,EAAE,IAAIiP,IAAI3L,KAAKuE,cAAcqH,SAASC,IAA2B,IAAzBC,UAAUC,SAAShQ,IAAG8P,EAAInP,EAAEsP,IAAIjQ,KAAK6B,EAAEqO,KAAKlQ,GAAGW,EAAEQ,IAAInB,GAAG,IAAI,MAAMiB,EAAE,IAAI8M,IAAI9J,KAAKU,eAAekL,SAAS7P,IAAI,MAAM6B,EAAE,IAAIsO,EAAAA,EAAE,CAACC,YAAW,EAAGC,WAAW,CAACrQ,EAAE+P,YAAYpP,EAAEM,EAAEgL,IAAIjM,EAAEuP,YAAY,GAAG5O,EAAEuP,KAAKrO,GAAGZ,EAAEqP,IAAItQ,EAAEuP,UAAU5O,EAAE,IAAI,MAAMD,EAAE,GAAGO,EAAE4O,SAAS,CAAC7P,EAAE6B,IAAInB,EAAEwP,KAAK,CAACX,UAAU1N,EAAE2N,QAAQxP,MAAMiE,KAAKiE,iBAAiB,CAAC8G,eAAetO,EAAE6P,MAAMvQ,EAAEwQ,UAAU3O,EAAE,CAAC,OAAOoC,KAAKwM,uBAAuBxM,KAAKiE,gBAAgB,CAACuI,oBAAAA,GAAuB,MAAMzQ,EAAEiE,KAAKkE,OAAO,GAAGlE,KAAKqD,8BAA8B,MAAMrD,KAAKiE,mBAAmBlI,EAAE,OAAO,MAAMgP,eAAenN,EAAE0O,MAAM5P,EAAE6P,UAAUvP,GAAGgD,KAAKiE,iBAAiBjH,EAAE4O,SAAShO,IAAI,MAAMlB,EAAEsD,KAAK4J,sBAAsB5M,EAAEN,EAAEsL,IAAIpK,EAAE6L,KAAK,EAAE,IAAIzM,GAAGjB,EAAEmB,IAAIU,GAAGlB,EAAE2P,IAAIzO,EAAE6L,GAAGzM,EAAE,EAAE,IAAIY,EAAEgO,SAASa,IAAe,IAAblB,QAAQ3N,GAAE6O,EAAI/P,EAAEgQ,QAAQ9O,GAAG7B,EAAE2Q,QAAQ9O,EAAE,IAAIoC,KAAKqD,8BAA6B,CAAE,CAACW,yBAAAA,GAA4B,MAAMjI,EAAEiE,KAAKkE,OAAO,IAAIlE,KAAKqD,8BAA8B,MAAMrD,KAAKiE,mBAAmBlI,EAAE,OAAO,MAAMgP,eAAenN,EAAE0O,MAAM5P,EAAE6P,UAAUvP,GAAGgD,KAAKiE,iBAAiBrG,EAAEgO,SAASe,IAAe,IAAbpB,QAAQ3N,GAAE+O,EAAIjQ,EAAEkQ,WAAWhP,GAAG7B,EAAE6Q,WAAWhP,EAAE,IAAIZ,EAAE4O,SAAShO,IAAI,MAAMlB,EAAEsD,KAAK4J,sBAAsB5M,EAAEN,EAAEsL,IAAIpK,EAAE6L,IAAI,IAAIzM,GAAGjB,EAAE8Q,OAAOjP,GAAGlB,EAAEoQ,OAAOlP,EAAE6L,KAAK/M,EAAE2P,IAAIzO,EAAE6L,GAAGzM,EAAE,EAAE,IAAIgD,KAAKqD,8BAA6B,CAAE,CAAC+D,mBAAAA,CAAoBrL,GAAG,OAAOiE,KAAK8K,gBAAgB9K,KAAK2E,QAAO,IAAK,UAAU5I,EAAEiE,KAAKkB,gBAAgB,EAAE,CAAC4J,eAAAA,CAAgB/O,EAAE6B,GAAG,OAAO7B,GAAG6B,EAAEoC,KAAKiB,gBAAgB,EAAE,CAACqG,4BAAAA,GAA+B,OAAOtH,KAAKgB,YAAY,EAAEhB,KAAKyG,eAAetD,SAAS,CAAC0F,gCAAAA,CAAiC9M,GAAG,MAAM6B,EAAEoC,KAAKsH,+BAA+B5K,EAAEsD,KAAKuH,0BAA0B3J,EAAEmP,GAAI,OAAOC,EAAAA,EAAAA,GAAEjR,EAAEW,EAAE,IAAIA,EAAE,IAAIA,EAAE,IAAI,CAACkK,8BAAAA,CAA+B7K,GAAG,MAAM6B,EAAEoC,KAAK6I,iCAAiC9M,GAAG,OAAOkR,EAAAA,EAAAA,GAAElR,EAAE6B,EAAEoC,KAAK+E,eAAe,CAACwC,yBAAAA,CAA0BxL,EAAE6B,GAAG,OAAO0K,EAAAA,EAAAA,IAAE1K,EAAE7B,EAAE,EAAE,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGiE,KAAKqB,cAAa/D,EAAAA,EAAAA,IAAEM,EAAEA,EAAEoC,KAAKqB,cAAa/D,EAAAA,EAAAA,IAAEM,EAAEA,EAAEoC,KAAKoB,iBAAiBxD,EAAE,KAAKoC,KAAK+E,eAAe,GAAGnH,EAAE,KAAKoC,KAAK+E,eAAe,GAAGnH,EAAE,KAAKoC,KAAK+E,eAAe,GAAGnH,EAAE,IAAI,EAAE,MAAMoC,KAAK8D,uBAAuB9D,KAAK8D,sBAAsBlG,GAAGA,CAAC,CAAC,QAAIsP,GAAO,IAAInR,GAAE,EAAG,GAAG,MAAMiE,KAAKiE,iBAAiB,IAAI,MAAMrG,KAAKoC,KAAKiE,iBAAiB8G,eAAe,CAAC,IAAI,MAAMrO,KAAKkB,EAAE2N,QAAQ,GAAG7O,EAAE8O,QAAQ,CAACzP,GAAE,EAAG,KAAK,CAAC,GAAGA,EAAE,KAAK,CAAC,MAAM,CAACoR,uBAAuBpR,EAAE,EAAE,SAAS+I,EAAG/I,GAAG,OAAO,IAAIA,EAAE,KAAK,IAAIA,EAAE,KAAK,IAAIA,EAAE,GAAG,CAA4L,MAAMoL,GAAG/K,EAAAA,EAAAA,MAAI0L,GAAGsF,EAAAA,EAAAA,MAAI1F,GAAG2F,EAAAA,EAAAA,MAAIjF,GAAGxL,EAAAA,EAAAA,MAAImQ,GAAGhP,EAAAA,EAAAA,MAAIyJ,GAAGzJ,EAAAA,EAAAA,MAAI0K,GAAG6E,EAAAA,EAAAA,MAAIhI,GAAG/D,EAAAA,EAAAA,MAAIqG,GAAGrG,EAAAA,EAAAA,MAAImH,GAAGnH,EAAAA,EAAAA,MAAI8G,GAAG9G,EAAAA,EAAAA,MAAIgH,GAAGhH,EAAAA,EAAAA,MAAIsF,GAAGtF,EAAAA,EAAAA,MAAI6I,EAAG,IAAI1I,EAAAA,EAAE,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE0B,iBAAiB,OAAOQ,EAAGA,M,kDCAvne,MAAMhI,EAAE+D,WAAAA,CAAY/D,GAAW,IAATiB,EAAC+L,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAACnL,EAAAA,GAAEgF,KAAM5C,KAAK8L,SAAS/P,EAAEiE,KAAKsL,UAAUtO,CAAC,E,wLCAylB,SAASgC,EAAEpB,GAAiC,IAA/BxB,EAAC2M,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,GAAAA,UAAA,GAAChL,EAAAA,GAAEwP,sBAAsB9Q,IAACsM,UAAApB,OAAA,QAAAqB,IAAAD,UAAA,KAAAA,UAAA,GAAK,MAAMhM,GAAEhB,EAAAA,EAAAA,IAAE6B,GAAGU,IAAIV,EAAE,GAAG,GAAG,OAAOnB,EAAE,IAAIU,EAAAA,EAAE,CAACC,MAAML,EAAEyQ,WAAWlP,EAAEmP,SAASnQ,EAAAA,GAAEoQ,KAAKC,eAAevR,EAAEwR,cAAa,IAAK,IAAI9R,EAAAA,EAAE,CAACsB,MAAML,EAAEyQ,WAAWlP,EAAEmP,SAASnQ,EAAAA,GAAEoQ,KAAKC,eAAevR,EAAEwR,cAAa,GAAI,CAA8I,MAAMhR,EAAEyC,OAAOC,OAAO,CAACuO,cAAc,GAAGC,aAAa,EAAEC,WAAW,GAAG9M,gBAAgB,MAAMgH,EAAE5I,OAAOC,OAAO,CAACsB,wBAAuB,EAAGgE,YAAW,IAAK,SAAS3I,EAAEF,EAAEuC,EAAEF,EAAEpB,GAAG,MAAMM,GAAElB,EAAAA,EAAAA,GAAEM,EAAAA,GAAEsL,MAAMjM,EAAEqC,GAAGL,EAAES,EAAElB,GAAEb,EAAAA,EAAAA,GAAEC,EAAAA,GAAEsL,MAAMhL,EAAEM,GAAGc,EAAE5B,EAAAA,GAAEwL,QAAOpK,EAAAA,EAAAA,IAAEG,EAAEA,GAAG,MAAMjC,GAAEiB,EAAAA,EAAAA,GAAEL,EAAAA,GAAEsL,MAAM1J,EAAEP,GAAG,OAAOiQ,KAAKC,MAAMnS,EAAE,GAAGA,EAAE,GAAG,CAAC,SAAS0C,EAAEzC,EAAE6B,EAAExB,EAAEW,GAAG,MAAMP,GAAE8B,EAAAA,EAAAA,GAAE5B,EAAAA,GAAEsL,MAAMjM,GAAGqC,GAAEE,EAAAA,EAAAA,GAAE5B,EAAAA,GAAEsL,MAAMpK,GAAGZ,GAAEP,EAAAA,EAAAA,GAAEC,EAAAA,GAAEsL,MAAMxL,EAAE4B,GAAG,OAAOrB,EAAE,GAAGP,EAAE,GAAGO,EAAE,GAAGP,EAAE,GAAGO,EAAE,GAAGP,EAAE,GAAGO,EAAE,GAAG,EAAEA,EAAE,GAAGqB,EAAE,GAAGrB,EAAE,GAAGqB,EAAE,GAAGrB,EAAE,GAAGqB,EAAE,GAAGrB,EAAE,GAAG,EAAEA,EAAE,GAAGC,EAAE,GAAGD,EAAE,GAAGC,EAAE,GAAGD,EAAE,IAAIC,EAAE,GAAGD,EAAE,IAAI,EAAEA,EAAE,IAAIX,EAAE,GAAGW,EAAE,IAAIX,EAAE,GAAGW,EAAE,IAAIX,EAAE,GAAGW,EAAE,IAAI,EAAEA,CAAC,C,wGCAntC,MAAMP,UAAUJ,EAAAA,EAAE0D,WAAAA,CAAY/D,GAAGmS,MAAMnS,GAAGiE,KAAKmO,WAAW,KAAKnO,KAAKoO,YAAWpR,EAAAA,EAAAA,KAAG,CAAC,UAAIqR,GAAS,OAAO,MAAMrO,KAAKmO,WAAWnO,KAAKmO,WAAWE,OAAO,IAAI,CAAC,aAAIC,GAAY,OAAOtO,KAAKoO,UAAU,CAAC,aAAIE,CAAUtR,IAAGjB,EAAAA,EAAAA,GAAEiE,KAAKoO,WAAWpR,GAAG,MAAMgD,KAAKmO,aAAanO,KAAKmO,WAAWE,OAAO3C,eAAe1L,KAAKoO,WAAW,CAACG,QAAAA,GAAWvO,KAAKiH,UAAUjH,KAAKwO,iBAAiB,CAACC,gBAAAA,GAAmB,GAAG,MAAMzO,KAAKmO,WAAW,OAAO,MAAMpS,EAAEiE,KAAKmO,WAAWE,OAAOrR,EAAEgD,KAAKwD,KAAKU,OAAOlH,EAAE4P,WAAW7Q,EAAEqQ,YAAYrQ,EAAE2S,sBAAsB1O,KAAK2O,iBAAiB5S,GAAGA,EAAEyP,QAAQxL,KAAKwL,QAAQxO,EAAE0P,QAAQ3Q,EAAEqQ,WAAW,CAACoC,eAAAA,GAAkBxO,KAAK4O,mBAAmB,MAAM7S,EAAEiE,KAAKwD,KAAKU,OAAO,IAAInI,EAAE,OAAO,MAAMiB,EAAE,IAAIP,EAAAA,EAAEV,EAAE,CAACsN,UAAS,EAAGC,aAAa5M,EAAAA,EAAE8M,OAAOpN,EAAE,IAAIwB,EAAAA,EAAE,CAACuO,YAAW,IAAK/P,EAAEsP,eAAe1L,KAAKoO,WAAWpO,KAAK6O,0BAA0B7O,KAAK2O,iBAAiBvS,GAAGL,EAAE2Q,QAAQtQ,EAAEgQ,YAAYpM,KAAK8O,yBAAyB9R,GAAGjB,EAAEmB,IAAIF,KAAKjB,EAAEmB,IAAId,GAAGY,EAAEE,IAAId,GAAGA,EAAEoP,QAAQxL,KAAKwL,QAAQxL,KAAKmO,WAAW,CAAC7B,MAAMtP,EAAEqR,OAAOjS,EAAE,CAACwS,gBAAAA,GAAmB,MAAM7S,EAAEiE,KAAKwD,KAAKU,OAAO,MAAMlE,KAAKmO,YAAYpS,IAAIA,EAAE8Q,OAAO7M,KAAKmO,WAAWE,QAAQrO,KAAKmO,WAAW7B,MAAMzI,UAAU7D,KAAK8O,yBAAyB9R,IAAIjB,EAAE8Q,OAAO7P,EAAE,IAAIjB,EAAE6Q,WAAW5M,KAAKmO,WAAWE,OAAOjC,YAAYpM,KAAKmO,WAAWE,OAAOU,UAAU/O,KAAKgP,2BAA2BhP,KAAKmO,WAAW,KAAK,CAACc,gBAAAA,CAAiBlT,GAAG,MAAMiE,KAAKmO,aAAanO,KAAKmO,WAAWE,OAAO7C,QAAQzP,EAAE,E,kDCA7qD,MAAM6B,EAAE,gBAAIgQ,GAAe,OAAO5N,KAAKkP,aAAa,CAAC,gBAAItB,CAAa7R,GAAGiE,KAAKkP,cAAcnT,CAAC,CAAC+D,WAAAA,CAAYlC,GAAGoC,KAAKkP,eAAc,EAAGlP,KAAKsD,WAAU,EAAGtD,KAAKmP,mBAAkB,EAAGnP,KAAKoP,UAAS,EAAGpP,KAAKwD,KAAK5F,EAAE4F,KAAKxD,KAAKqP,SAAQtT,EAAAA,EAAAA,KAAG,IAAI6B,EAAE4F,KAAK8L,QAAQvT,IAAIiE,KAAKmP,oBAAoBpT,EAAEiE,KAAKuP,mBAAmBvP,KAAKwP,oBAAoB,GAAG,CAACC,eAAAA,CAAgB1T,GAAG,IAAI6B,GAAE,EAAG,IAAI,MAAMZ,KAAKjB,EAAEiB,KAAKgD,KAAK,aAAahD,EAAEY,EAAE7B,EAAEiB,GAAGgD,KAAKhD,GAAGjB,EAAEiB,GAAG0S,QAAQC,MAAM,8BAA8B3S,GAAGgD,KAAKiH,SAASrJ,CAAC,CAACiG,OAAAA,GAAU7D,KAAKiH,UAAS,EAAGjH,KAAKqP,QAAQxC,QAAQ,CAAC,YAAI5F,GAAW,OAAOjH,KAAKsD,SAAS,CAAC,YAAI2D,CAASlL,GAAGA,IAAIiE,KAAKsD,WAAWtD,KAAKwD,KAAKU,SAASlE,KAAKsD,UAAUvH,EAAEiE,KAAKsD,YAAYtD,KAAKmP,kBAAkBnP,KAAKuP,oBAAoBvP,KAAKsD,WAAWtD,KAAKmP,mBAAmBnP,KAAKwP,oBAAoBxP,KAAK4P,iBAAiB7T,GAAG,CAAC6T,gBAAAA,CAAiB7T,GAAG,CAAC,WAAIyP,GAAU,OAAOxL,KAAKoP,QAAQ,CAAC,WAAI5D,CAAQzP,GAAGA,IAAIiE,KAAKoP,WAAWpP,KAAKoP,SAASrT,EAAEiE,KAAKiH,UAAUjH,KAAKiP,iBAAiBlT,GAAG,CAACwT,gBAAAA,GAAmBvP,KAAKwO,kBAAkBxO,KAAKmP,mBAAkB,EAAGnP,KAAKiP,iBAAiBjP,KAAKwL,QAAQ,CAACgE,iBAAAA,GAAoBxP,KAAK4O,mBAAmB5O,KAAKmP,mBAAkB,CAAE,E,oFCAh+B,SAAS1S,EAAEA,EAAE6B,GAAG,IAAIA,EAAEb,kBAAkB,OAAO,MAAMV,EAAEN,EAAEE,QAAOZ,EAAAA,EAAAA,IAAEgB,EAAEuB,GAAGvB,EAAEE,SAASC,IAAI,IAAIR,EAAAA,EAAE,uBAAuB,CAACX,EAAEW,IAAIA,EAAEiH,OAAOkM,sBAAsB,IAAInT,EAAAA,EAAE,mBAAmBX,GAAGA,EAAE+T,mBAAmB/S,EAAEe,KAAKZ,KAAId,EAAAA,EAAAA,GAAC4B,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qYAOzY,C,mUCPykC,MAAMmH,UAAU3I,EAAAA,EAAEsT,iBAAAA,CAAkBhU,GAAG,OAAO,IAAIuB,EAAAA,EAAEvB,EAAEiU,KAAK5K,EAAE6K,OAAOjI,MAAMvI,MAAMO,KAAKkQ,eAAelU,EAAE,CAACmU,iBAAAA,CAAkBpU,GAAG,MAAMK,EAAE4D,KAAKkQ,cAAczT,EAAEV,IAAIuC,EAAAA,EAAE8R,KAAK1T,EAAEX,IAAIuC,EAAAA,EAAE+R,UAAU,OAAOpU,EAAAA,EAAAA,IAAE,CAACqU,SAASlU,EAAED,SAASyB,EAAAA,EAAEvB,OAAOD,EAAED,SAASyB,EAAAA,EAAEtB,QAAQF,EAAEmU,YAAY,KAAK9T,EAAEM,EAAAA,IAAEP,EAAAA,EAAAA,IAAET,GAAGyU,SAAQ5O,EAAAA,EAAAA,IAAExF,EAAEqR,UAAUgD,UAAU,CAACC,KAAKhU,EAAE0C,EAAAA,GAAEuR,KAAKvU,EAAEuB,eAAeyB,EAAAA,GAAEwR,OAAOxR,EAAAA,GAAEuR,MAAME,WAAWpU,EAAEL,EAAEoR,WAAWR,EAAAA,GAAE,MAAKlR,EAAAA,EAAAA,IAAEC,GAAG+U,WAAW3T,EAAAA,GAAE4T,cAActU,GAAGC,EAAE,KAAK0B,EAAAA,IAAG,CAAC4S,kBAAAA,GAAqB,OAAOhR,KAAKmQ,kBAAkBnQ,KAAKkQ,cAAc/Q,qBAAqB,EAAEiG,EAAE6K,OAAO,IAAI7T,EAAAA,EAAE2B,EAAAA,GAAG,IAAI,kCAA0C,MAAMkK,UAAUrL,EAAAA,EAAEkD,WAAAA,GAAcoO,SAASnF,WAAW/I,KAAK7D,OAAOyB,EAAAA,EAAEvB,MAAM2D,KAAKyN,SAASzQ,EAAAA,GAAE4F,KAAK5C,KAAKb,qBAAqBb,EAAAA,EAAE8R,KAAKpQ,KAAKiR,eAAc,EAAGjR,KAAKuQ,aAAY,EAAGvQ,KAAKwN,YAAW,EAAGxN,KAAKvC,mBAAkB,EAAGuC,KAAKrC,gBAAe,EAAGqC,KAAK9D,kBAAiB,EAAG8D,KAAKkR,iBAAgB,CAAE,GAAEnV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,GAAE,CAACyU,MAAMvT,EAAAA,EAAEwT,SAASnJ,EAAEoJ,UAAU,cAAS,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,GAAE,CAACyU,MAAMnU,EAAAA,GAAEoU,SAASnJ,EAAEoJ,UAAU,gBAAW,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,GAAE,CAACyU,MAAM7S,EAAAA,EAAE8S,SAASnJ,EAAEoJ,UAAU,4BAAuB,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,MAAKuL,EAAEoJ,UAAU,qBAAgB,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,MAAKuL,EAAEoJ,UAAU,mBAAc,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,MAAKuL,EAAEoJ,UAAU,kBAAa,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,MAAKuL,EAAEoJ,UAAU,yBAAoB,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,MAAKuL,EAAEoJ,UAAU,sBAAiB,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,MAAKuL,EAAEoJ,UAAU,wBAAmB,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,MAAKuL,EAAEoJ,UAAU,uBAAkB,IAAQtV,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,GAAE,CAAC4U,YAAW,KAAMrJ,EAAEoJ,UAAU,qBAAgB,GAAQ,MAAMrV,EAAE,IAAI8N,IAAI,CAAC,CAAC9K,EAAAA,EAAEzB,SAAS,GAAG,CAACyB,EAAAA,EAAEnB,OAAO,GAAG,CAACmB,EAAAA,EAAEtB,OAAO,KCAr1C,MAAMuK,UAAUlK,EAAAA,GAAE+B,WAAAA,CAAY/D,GAAGmS,MAAMnS,EAAE,IAAI4F,GAAG3B,KAAKuR,eAAc,EAAGvR,KAAKwR,SAAS,IAAI1H,IAAI,CAAC,CAAC7N,EAAAA,EAAEwV,gBAAgB1V,GAAGA,IAAIa,EAAAA,EAAE8U,YAAWpU,EAAAA,EAAAA,IAAEvB,KAAKiE,KAAK2R,gBAAgB,CAAC1V,EAAAA,EAAE2V,qBAAqB7V,IAAGuB,EAAAA,EAAAA,IAAEvB,IAAIiE,KAAK2R,gBAAgB3R,KAAK6R,WAAWrE,YAAY,CAACvR,EAAAA,EAAE6V,0CAA0C/V,IAAGuB,EAAAA,EAAAA,IAAEvB,IAAIiE,KAAK2R,iBAAiB3R,KAAK6R,WAAWrE,cAAcxN,KAAK+R,eAAe,IAAIhI,EAAE/J,KAAKgS,0BAA0B3M,CAAC,CAAC4M,gBAAAA,CAAiBlW,EAAE6B,GAAG,OAAOoC,KAAK+R,eAAe5V,OAAOJ,EAAEiE,KAAK+R,eAAetE,SAASzN,KAAK6R,WAAWpE,SAASzN,KAAK+R,eAAed,cAAcjR,KAAK6R,WAAWZ,cAAcjR,KAAK+R,eAAexB,YAAYvQ,KAAK2R,eAAe3R,KAAK+R,eAAevE,WAAWxN,KAAK6R,WAAWrE,WAAWxN,KAAK+R,eAAetU,kBAAkBuC,KAAK6R,WAAWpU,kBAAkBuC,KAAK+R,eAAepU,eAAeqC,KAAK6R,WAAWlU,eAAeqC,KAAK+R,eAAe5S,qBAAqBvB,EAAEuB,qBAAqBa,KAAK+R,eAAe7V,iBAAiB0B,EAAE1B,iBAAiB8D,KAAK+R,eAAeb,gBAAgBtT,EAAEsU,iBAAiBhB,gBAAgBlR,KAAK+R,cAAc,CAACI,SAAAA,CAAUpW,EAAEiB,EAAER,EAAE8B,EAAEF,EAAExB,GAAG,GAAGoD,KAAK6R,WAAWpU,kBAAkB,CAAC,MAAMT,EAAEjB,EAAEsB,WAAW2K,IAAI7K,EAAAA,EAAEO,QAAQJ,EAAE,CAAC8U,cAAcA,CAACrW,EAAEgB,EAAEN,EAAE6B,KAAK,MAAMF,GAAER,EAAAA,EAAAA,GAAE2D,EAAEvE,EAAEqV,KAAK,EAAE/T,GAAGtB,EAAEqV,KAAK,EAAE/T,EAAE,GAAGtB,EAAEqV,KAAK,EAAE/T,EAAE,IAAI1B,GAAEgB,EAAAA,EAAAA,GAAE0P,EAAEvR,EAAEgB,EAAEN,GAAG,OAAOL,EAAAA,EAAAA,GAAEgC,EAAEA,EAAE4B,KAAK6R,WAAW/B,gBAAgBtT,EAAEmH,OAAOgD,yBAAyBvI,KAAI1B,EAAAA,EAAAA,GAAEE,EAAEA,EAAEwB,GAAG,CAACxB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,EAAE0V,YAAYvW,IAAI,MAAM6B,GAAEb,EAAAA,EAAAA,IAAEhB,EAAEwF,GAAG,OAAO9E,EAAAA,EAAAA,IAAEV,EAAEiE,KAAK6R,WAAW/B,gBAAgBtT,EAAEmH,OAAOgD,yBAAyB/I,GAAG,IAAG0K,EAAAA,EAAAA,IAAEvM,EAAES,EAAE8B,EAAEF,EAAEd,EAAEV,EAAE,MAAM0L,EAAAA,EAAAA,IAAEvM,EAAES,EAAE8B,EAAEF,OAAE,EAAOxB,EAAE,CAAC2V,gBAAAA,CAAiBxW,GAAG,OAAO,IAAIC,EAAED,EAAE,CAACyW,kBAAAA,GAAqB,OAAO,IAAI3Q,EAAE7B,KAAK6R,WAAWpU,kBAAkB,CAAC,kBAAIkU,GAAiB,OAAO3R,KAAK6R,WAAWzU,MAAM,GAAG,GAAG4C,KAAK6R,WAAWY,oBAAoB,EAAE,MAAMzW,UAAUoD,EAAAA,EAAEsT,SAAAA,CAAU3W,GAAG,OAAOiE,KAAK2S,gBAAgBnU,EAAEzC,EAAE,EAAE,MAAM4F,UAAU3C,EAAAA,GAAEc,WAAAA,GAAcoO,SAASnF,WAAW/I,KAAK5C,OAAMZ,EAAAA,EAAAA,IAAE,EAAE,EAAE,EAAE,GAAGwD,KAAKvB,aAAYjC,EAAAA,EAAAA,IAAE,EAAE,EAAE,EAAE,KAAKwD,KAAKzB,kBAAiBxC,EAAAA,EAAAA,IAAEiB,EAAAA,EAAAA,MAAI,CAAC,IAAI,IAAI,KAAKgD,KAAK8P,gBAAgB,GAAG9P,KAAKyS,sBAAqB,EAAGzS,KAAKwN,YAAW,EAAGxN,KAAKiR,eAAc,EAAGjR,KAAKyN,SAAS3R,EAAAA,GAAE8G,KAAK5C,KAAKvC,mBAAkB,EAAGuC,KAAKrC,gBAAe,CAAE,EAAE,MAAMkE,EAAE/B,WAAAA,CAAY/D,GAAGiE,KAAKvC,kBAAkB1B,EAAE,MAAM6B,GAAEQ,EAAAA,EAAAA,MAAIwU,MAAMzV,EAAAA,EAAEI,UAAUqV,MAAMzV,EAAAA,EAAEU,QAAQmC,KAAKvC,mBAAmBG,EAAEgV,MAAMzV,EAAAA,EAAEO,QAAQsC,KAAK6S,mBAAmBjV,CAAC,CAACkV,YAAAA,CAAa/W,GAAG,OAAOA,EAAEsB,WAAW2K,IAAI7K,EAAAA,EAAEI,UAAUwV,QAAQpL,MAAM,CAACqL,KAAAA,CAAMjX,EAAE6B,EAAExB,EAAEM,EAAEM,GAAG,IAAGmN,EAAAA,EAAAA,IAAE/N,EAAE4D,KAAK6S,mBAAmB9W,EAAE6B,EAAElB,EAAEM,GAAGgD,KAAKvC,kBAAkB,CAAC,IAAIrB,EAAEiB,WAAW2O,IAAI7O,EAAAA,EAAEO,QAAQ,MAAM,IAAIuV,MAAM,GAADC,OAAI/V,EAAAA,EAAEO,OAAM,yEAAwE,CAAC,MAAM3B,EAAEK,EAAEiB,WAAW2K,IAAI7K,EAAAA,EAAEO,SAAQsP,EAAAA,EAAAA,IAAE,IAAIjR,EAAEoX,MAAM,MAAM3W,EAAEE,EAAE0W,SAASjW,EAAAA,EAAEO,OAAOY,EAAAA,IAAG,IAAI9B,EAAE,MAAM,IAAIyW,MAAM,8BAA8B9V,EAAAA,EAAEO,SAAQ0H,EAAAA,EAAAA,IAAErJ,EAAE6B,EAAEpB,EAAEQ,EAAE,CAAC,CAAC,EAAE,MAAMuE,GAAEvE,EAAAA,EAAAA,MAAIsQ,GAAEtQ,EAAAA,EAAAA,K,wHCA77G,IAAIP,EAAE,cAAcC,EAAAA,EAAEoD,WAAAA,CAAY9C,GAAGkR,MAAMlR,EAAE,CAACqW,UAAAA,GAAarT,KAAKsT,YAAWvX,EAAAA,EAAAA,KAAG,IAAIiE,KAAKuT,iBAAiB/H,UAAUxO,GAAGgD,KAAKwL,QAAQxO,GAAGY,EAAAA,IAAG,CAAC4V,UAAAA,GAAaxT,KAAKyT,eAAezT,KAAK0T,SAAS1T,KAAK2T,SAASC,OAAO,CAACC,YAAAA,GAAe7T,KAAK8T,KAAK,WAAU,EAAG,GAAGrX,GAAEO,EAAAA,EAAAA,GAAE,EAACZ,EAAAA,EAAAA,GAAE,4CAA4CK,E","sources":["../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/RenderObject.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ScreenSizeScaling as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{ShaderOutput as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as s,addViewNormal as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as m}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as v}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{TransparencyPassType as f}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as u}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function p(e){const p=new v,b=e.multipassEnabled&&(e.output===r.Color||e.output===r.Alpha);p.include(a,e),p.include(o,e),p.include(i,e);const{vertex:h,fragment:C}=p;return C.include(n),s(h,e),C.uniforms.add(new g(\"uColor\",(e=>e.color))),p.attributes.add(u.POSITION,\"vec3\"),p.varyings.add(\"vWorldPosition\",\"vec3\"),b&&p.varyings.add(\"depth\",\"float\"),e.screenSizeEnabled&&p.attributes.add(u.OFFSET,\"vec3\"),e.shadingEnabled&&(t(h),p.attributes.add(u.NORMAL,\"vec3\"),p.varyings.add(\"vViewNormal\",\"vec3\")),h.code.add(m`\n    void main(void) {\n      vWorldPosition = ${e.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),e.shadingEnabled&&h.code.add(m`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),h.code.add(m`\n    ${b?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),b&&p.include(l,e),C.code.add(m`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${b?\"terrainDepthTest(depth);\":\"\"}\n    `),e.shadingEnabled?(C.uniforms.add(new c(\"shadingDirection\",(e=>e.shadingDirection))),C.uniforms.add(new g(\"shadedColor\",(e=>w(e.shadingTint,e.color)))),C.code.add(m`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):C.code.add(m`vec4 finalColor = uColor;`),C.code.add(m`\n      ${e.output===r.ObjectAndLayerIdColor?m`finalColor.a = 1.0;`:\"\"}\n      if (finalColor.a < ${m.float(d)}) {\n        discard;\n      }\n      ${e.output===r.Alpha?m`fragColor = vec4(finalColor.a);`:\"\"}\n\n      ${e.output===r.Color?m`fragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType===f.Color?\"fragColor = premultiplyAlpha(fragColor);\":\"\"}`:\"\"}\n    }\n    `),p}function w(e,o){const r=1-e[3],i=e[3]+o[3]*r;return 0===i?(b[3]=i,b):(b[0]=(e[0]*e[3]+o[0]*o[3]*r)/i,b[1]=(e[1]*e[3]+o[1]*o[3]*r)/i,b[2]=(e[2]*e[3]+o[2]*o[3]*r)/i,b[3]=o[3],b)}const b=e(),h=Object.freeze(Object.defineProperty({__proto__:null,build:p},Symbol.toStringTag,{value:\"Module\"}));export{h as S,p as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import{deg2rad as s}from\"../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../core/maybe.js\";import{createScreenPointArray as r,createRenderScreenPointArray3 as n,screenPointObjectToArray as a,castRenderScreenPointArray as c}from\"../../../core/screenUtils.js\";import{fromMat4 as l}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{copy as d,set as _,multiply as u,identity as g}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{squaredDistance as f}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{g as p,t as b,e as v,h as y,c as j,a as L,s as S,f as R}from\"../../../chunks/vec32.js\";import{create as O,ZEROS as w}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as T}from\"../../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as A,projectPoint as E}from\"../../../geometry/projection.js\";import{computeENUToSphericalPCPFLocalRotation as D}from\"../../../geometry/projection/localRotationUtils.js\";import{sphericalPCPFtoLonLatElevation as F}from\"../../../geometry/projection/projectors.js\";import{containsPointObject as z}from\"../../../geometry/support/aaBoundingRect.js\";import{create as P,distance2 as C,fromPoints as I,closestRayDistance2 as x}from\"../../../geometry/support/lineSegment.js\";import{create as M,fromPositionAndNormal as k,intersectRay as U}from\"../../../geometry/support/plane.js\";import{create as W}from\"../../../geometry/support/ray.js\";import{sv3d as B}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as N,hydratedSpatialReference as H}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationOffset as V}from\"../../../support/elevationInfoUtils.js\";import{getElevationAtPoint as q}from\"../support/ElevationProvider.js\";import{fromScreen as G}from\"../support/geometryUtils/ray.js\";import{Camera as Y}from\"../webgl-engine/lib/Camera.js\";import{Object3D as J}from\"../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as K}from\"../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import{ManipulatorStateCustomFlags as X,ManipulatorStateFlags as Z}from\"../../interactive/interfaces.js\";import $ from\"../../../geometry/Point.js\";class ee{constructor(e){this.metadata=void 0,this._camera=new Y,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=new Array,this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=m(),this._worldFrame=null,this._renderLocation=O(),this._renderLocationDirty=!0,this._location=new $({x:0,y:0,z:0}),this._elevationAlignedLocation=new $,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.consumesClicks=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=X.None,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:r(),renderScreenPointArray:n(),pixelSize:0},this._screenLocationDirty=!0,this._engineResourcesAddedToStage=!1,this._attached=!1,this._location.spatialReference=e.view.spatialReference,Object.assign(this,e);const i=this.view.state?.camera;i&&this._camera.copyFrom(i)}destroy(){this._applyObjectTransform=pe,this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}get _stage(){return this.view?._stage}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),i((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){te(e)&&(this._screenLocationDirty=!0),d(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=m()),ie(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){N(e,this._location),this._notifyLocationChanged()}_notifyLocationChanged(){this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){N(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){const e=null!=this._elevation.override?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y,this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=H(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(te(this._modelTransform)){const t=this._calculateModelTransformOffset(me);e=p(t,t,this.renderLocation)}else e=this.renderLocation;this._camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}get attached(){return this._attached}intersectionDistance(t,i){if(!this.available)return null;const s=a(t,se),o=this._getCollisionRadius(i),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(f(this.screenLocation.screenPointArray,s)<o*o)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ce),n=o*this.screenLocation.pixelSize,a=G(this._camera,s,re);if(null==a)return null;for(const s of e){if(0===s.length)continue;const e=v(he,s[0],i);for(let t=1;t<s.length;t++){const o=v(de,s[t],i),l=x(I(e,o,oe),a);if(null!=l&&l<n*n){const t=p(B.get(),e,o);y(t,t,.5);const i=c(B.get());return this._camera.projectToRenderScreen(t,i),i[2]+r}j(e,o)}}break}case\"disc\":{const e=this.collisionType.direction,t=this.collisionType.offset??w,i=this._getWorldToScreenObjectScale(),n=this._calculateObjectTransform(i,ce),a=o*this.screenLocation.pixelSize,c=G(this._camera,s,re);if(null==c)return null;const h=l(ne,n),d=b(ue,e,h),_=v(ge,t,n);k(_,d,le);const u=_e;if(U(le,c,u)&&L(u,_)<a*a)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),n=this._calculateObjectTransform(i,ce),a=o*this._camera.computeScreenPixelSizeAt(this.renderLocation),h=G(this._camera,s,re);if(null==h)return null;const d=l(ne,n),_=b(ue,t,d),u=this._calculateModelTransformPosition(ge);k(u,_,le);const g=_e;if(!U(le,h,g))break;for(const s of e){if(0===s.length)continue;const e=v(he,s[0],n);for(let t=1;t<s.length;t++){const i=v(de,s[t],n),o=C(I(e,i,oe),g);if(null!=o&&o<a*a){const t=p(B.get(),e,i);y(t,t,.5);const s=c(B.get());return this._camera.projectToRenderScreen(t,s),s[2]+r}j(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){const t=this._stage;if(!t)return;const i=e.manipulator3D;null==i.engineLayerId?(this._engineLayer=new Q(t,{pickable:!1,updatePolicy:K.SYNC}),i.engineLayerId=this._engineLayer.id):t?.getObject&&(this._engineLayer=t.getObject(i.engineLayerId)),i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,null==this._materialIdReferences&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new $({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;this._removeResourcesFromStage(),i&&(t.engineLayerId=null,o(this._engineLayer)),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){E(this.location,fe,e.spatialReference)&&z(e.extent,fe)&&this._notifyLocationChanged()}_evaluateElevationAlignment(){if(null==this.elevationInfo)return;let e=null,t=0;const i=V(this.elevationInfo,this.location.spatialReference??this.view.elevationProvider.spatialReference);switch(this.elevationInfo.mode){case\"on-the-ground\":e=q(this.view.elevationProvider,this.location,\"ground\")??0;break;case\"relative-to-ground\":t=(q(this.view.elevationProvider,this.location,\"ground\")??0)+i;break;case\"relative-to-scene\":t=(q(this.view.elevationProvider,this.location,\"scene\")??0)+i;break;case\"absolute-height\":t=i}return t!==this._elevation.offset||e!==this._elevation.override?(this._elevation.offset=t,void(this._elevation.override=e)):void 0}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ce;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?Z.Focused:Z.Unfocused)|(this.selected?Z.Selected:Z.Unselected),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.visible=!1;continue}const e=(r&Z.All)!==Z.None,i=(r&X.All)!==X.None,a=!e||(s&r)==(r&Z.All),c=!i||(this.state&r)==(r&X.All);if(a&&c)for(const s of n)s.visible=!0,s.transformation=t;else for(const t of n)t.visible=!1}}_ensureEngineResources(){if(null==this._engineResources){const e=this._engineLayer,t=[],i=new Set;this.renderObjects.forEach((({geometry:{material:e}})=>{i.has(e)||(t.push(e),i.add(e))}));const s=new Map;this._renderObjects.forEach((e=>{const t=new J({castShadow:!1,geometries:[e.geometry]}),i=s.get(e.stateMask)||[];i.push(t),s.set(e.stateMask,i)}));const o=[];s.forEach(((e,t)=>o.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:o,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){const e=this._stage;if(this._engineResourcesAddedToStage||null==this._engineResources||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;s.forEach((t=>{const i=this._materialIdReferences,s=i.get(t.id)||0;0===s&&e.add(t),i.set(t.id,s+1)})),t.forEach((({objects:t})=>{i.addMany(t),e.addMany(t)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(){const e=this._stage;if(!this._engineResourcesAddedToStage||null==this._engineResources||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:t})=>{i.removeMany(t),e.removeMany(t)})),s.forEach((t=>{const i=this._materialIdReferences,s=i.get(t.id);1===s?(e.remove(t),i.delete(t.id)):i.set(t.id,s-1)})),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ae);return S(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return R(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return _(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&u(t,t,this._worldFrame),u(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,null!=this._applyObjectTransform&&this._applyObjectTransform(t),t}get test(){let e=!1;if(null!=this._engineResources)for(const t of this._engineResources.objectsByState){for(const i of t.objects)if(i.visible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function te(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function ie(e,t,i){switch(e.viewingMode){case\"local\":return g(i),!0;case\"global\":{const o=T(e.renderCoordsHelper.spatialReference);return F(t,0,he,0,o.radius),D(s(he[0]),s(he[1]),i),!0}}}const se=r(),oe=P(),re=W(),ne=h(),ae=m(),ce=m(),le=M(),he=O(),de=O(),_e=O(),ue=O(),ge=O(),me=O(),fe=new $({x:0,y:0,z:0,spatialReference:null}),pe=()=>{};export{ee as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ManipulatorStateFlags as t}from\"../../interactive/interfaces.js\";class e{constructor(e,s=t.None){this.geometry=e,this.stateMask=s}}export{e as RenderObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{colorVectorToColorAndOpacity as e}from\"../../../core/colorUtils.js\";import{invert as t}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{f as r,b as o,e as n,n as c}from\"../../../chunks/vec32.js\";import{sv3d as i,sm4d as a}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as l}from\"../../../layers/graphics/hydratedFeatures.js\";import{computeCentroid as s}from\"../layers/graphics/graphicUtils.js\";import{CullFaceOptions as u}from\"../webgl-engine/lib/basicInterfaces.js\";import{RenderOccludedFlag as m}from\"../webgl-engine/lib/Material.js\";import{ColorMaterial as p}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as g}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(t,r=m.OccludeAndTransparent,o=!0){const n=e(t),c=!(t[3]<1);return o?new g({color:n,writeDepth:c,cullFace:u.Back,renderOccluded:r,isDecoration:!0}):new p({color:n,writeDepth:c,cullFace:u.Back,renderOccluded:r,isDecoration:!0})}function f(t,r=m.OccludeAndTransparent){const o=e(t);return new p({color:o,writeDepth:!0,cullFace:u.Front,renderOccluded:r,isDecoration:!0})}const h=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1}),j=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function b(e,c,l,s){const u=r(i.get(),e,l),m=w(u,o(i.get(),s,u),l,a.get());t(m,m);const p=n(i.get(),c,m);return Math.atan2(p[1],p[0])}function w(e,t,r,n){const a=c(i.get(),e),l=c(i.get(),t),s=o(i.get(),a,l);return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=0,n[4]=l[0],n[5]=l[1],n[6]=l[2],n[7]=0,n[8]=s[0],n[9]=s[1],n[10]=s[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function O(e,t){const r=e.getViewForGraphic(t);return null!=r&&\"computeAttachmentOrigin\"in r?r.computeAttachmentOrigin(t,e.spatialReference):null}function y(e,t,r){const o=O(e,r);null==o?D(t,r.geometry):t.elevationAlignedLocation=o}function D(e,t){if(null==t)return;const r=\"mesh\"===t.type?t.anchor:s(t);null!=r&&(e.location=l(r))}export{b as calculateInputRotationTransform,w as calculateTranslateRotateFromBases,d as createManipulatorMaterial,f as createManipulatorOutlineMaterial,O as getGraphicAttachmentOrigin,y as placeAtGraphic,h as rotateManipulatorDefaults,j as worldScaledManipulatorSettings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{VisualElement as r}from\"./VisualElement.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as i}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as o}from\"../../webgl-engine/lib/WebGLLayer.js\";class a extends r{constructor(e){super(e),this._resources=null,this._transform=s()}get object(){return null!=this._resources?this._resources.object:null}get transform(){return this._transform}set transform(s){e(this._transform,s),null!=this._resources&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(null==this._resources)return;const e=this._resources.object,s=this.view._stage;s.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,s.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new o(e,{pickable:!1,updatePolicy:i.SYNC}),r=new t({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),r.visible=this.visible,this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;null!=this._resources&&e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this.forEachExternalMaterial((s=>{e.remove(s)})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){null!=this._resources&&(this._resources.object.visible=e)}}export{a as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";class t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=e((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this?\"attached\"===s?t=e[s]:this[s]=e[s]:console.error(\"Cannot set unknown property\",s);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{addCameraPosition as e}from\"./util/View.glsl.js\";import{FloatPassUniform as i}from\"../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";function o(o,c){if(!c.screenSizeEnabled)return;const n=o.vertex;e(n,c),n.uniforms.add(new i(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio)),new i(\"screenSizeScale\",(e=>e.screenSizeScale))),n.code.add(r`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));\nreturn viewDirectionDistance * perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}export{o as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as n,oitBlending as a,oitDepthWrite as p,OITPolygonOffset as l}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{TransparencyPassType as c}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as d}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as h}from\"../materials/DefaultTechniqueConfiguration.js\";import{S as m}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{CompareFunction as f}from\"../../../webgl/enums.js\";import{makePipelineState as b,cullingParams as y,defaultDepthWriteParams as S,defaultColorWriteParams as g}from\"../../../webgl/renderState.js\";class T extends o{initializeProgram(e){return new u(e.rctx,T.shader.get().build(this.configuration),v)}_setPipelineState(e){const r=this.configuration,o=e===c.NONE,i=e===c.FrontFace;return b({blending:r.output!==t.Color&&r.output!==t.Alpha||!r.transparent?null:o?n:a(e),culling:y(r.cullFace),depthTest:{func:i?f.LESS:r.shadingEnabled?f.LEQUAL:f.LESS},depthWrite:o?r.writeDepth?S:null:p(e),colorWrite:g,polygonOffset:o||i?null:l})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}T.shader=new r(m,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends h{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=c.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.multipassEnabled=!1,this.cullAboveGround=!1}}e([i({count:t.COUNT})],j.prototype,\"output\",void 0),e([i({count:s.COUNT})],j.prototype,\"cullFace\",void 0),e([i({count:c.COUNT})],j.prototype,\"transparencyPassType\",void 0),e([i()],j.prototype,\"hasSlicePlane\",void 0),e([i()],j.prototype,\"transparent\",void 0),e([i()],j.prototype,\"writeDepth\",void 0),e([i()],j.prototype,\"screenSizeEnabled\",void 0),e([i()],j.prototype,\"shadingEnabled\",void 0),e([i()],j.prototype,\"multipassEnabled\",void 0),e([i()],j.prototype,\"cullAboveGround\",void 0),e([i({constValue:!1})],j.prototype,\"occlusionPass\",void 0);const v=new Map([[d.POSITION,0],[d.NORMAL,1],[d.OFFSET,2]]);export{T as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,v as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,h as r,g as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as c}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as l}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as h,isColorAlphaOrOID as u}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as p}from\"../lib/basicInterfaces.js\";import f from\"../lib/GLMaterial.js\";import{Material as m,MaterialParameters as d}from\"../lib/Material.js\";import{RenderSlot as b}from\"../lib/RenderSlot.js\";import{assert as S}from\"../lib/Util.js\";import{VertexAttribute as g}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as E,writePosition as T}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as _}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as A,vertexAttributeLocations as F,ShadedColorMaterialTechnique as w}from\"../shaders/ShadedColorMaterialTechnique.js\";class j extends m{constructor(e){super(e,new x),this.supportsEdges=!0,this.produces=new Map([[b.OPAQUE_MATERIAL,e=>e===h.Highlight||u(e)&&!this._isTransparent],[b.TRANSPARENT_MATERIAL,e=>u(e)&&this._isTransparent&&this.parameters.writeDepth],[b.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>u(e)&&this._isTransparent&&!this.parameters.writeDepth]]),this._configuration=new A,this._vertexAttributeLocations=F}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,s,a,c,l,h){if(this.parameters.screenSizeEnabled){const s=e.attributes.get(g.OFFSET),u={applyToVertex:(e,n,o,c)=>{const l=t(O,s.data[3*c],s.data[3*c+1],s.data[3*c+2]),h=t(M,e,n,o);return r(l,l,this.parameters.screenSizeScale*a.camera.computeScreenPixelSizeAt(l)),i(h,h,l),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,O);return o(e,this.parameters.screenSizeScale*a.camera.computeScreenPixelSizeAt(t))}};_(e,a,c,l,u,h)}else _(e,a,c,l,void 0,h)}createGLMaterial(e){return new v(e)}createBufferWriter(){return new z(this.parameters.screenSizeEnabled)}get _isTransparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}class v extends f{beginSlot(e){return this.ensureTechnique(w,e)}}class x extends d{constructor(){super(...arguments),this.color=a(1,1,1,1),this.shadingTint=a(0,0,0,.25),this.shadingDirection=e(s(),[.5,-.5,-.5]),this.screenSizeScale=14,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=p.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0}}class z{constructor(e){this.screenSizeEnabled=e;const t=l().vec3f(g.POSITION).vec3f(g.NORMAL);this.screenSizeEnabled&&t.vec3f(g.OFFSET),this.vertexBufferLayout=t}elementCount(e){return e.attributes.get(g.POSITION).indices.length}write(e,t,r,i,s){if(E(r,this.vertexBufferLayout,e,t,i,s),this.screenSizeEnabled){if(!r.attributes.has(g.OFFSET))throw new Error(`${g.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const e=r.attributes.get(g.OFFSET);S(3===e.size);const a=i.getField(g.OFFSET,c);if(!a)throw new Error(\"unable to acquire view for \"+g.OFFSET);T(e,t,a,s)}}}}const O=s(),M=s();export{j as ShadedColorMaterial,x as ShadedColorMaterialParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n"],"names":["p","e","v","b","multipassEnabled","output","r","Color","Alpha","include","a","o","i","vertex","h","fragment","C","n","s","uniforms","add","g","color","attributes","u","POSITION","varyings","screenSizeEnabled","OFFSET","shadingEnabled","t","NORMAL","code","m","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","l","_templateObject4","c","shadingDirection","w","shadingTint","_templateObject5","_templateObject6","_templateObject7","ObjectAndLayerIdColor","_templateObject8","float","d","_templateObject9","_templateObject10","transparencyPassType","f","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","ee","constructor","_this$view$state","this","metadata","_camera","Y","_elevation","offset","override","collisionType","type","collisionPriority","_renderObjects","Array","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","O","_renderLocationDirty","_location","$","x","y","z","_elevationAlignedLocation","_elevationAlignedLocationDirty","interactive","selectable","grabbable","consumesClicks","cursor","grabCursor","_grabbing","dragging","_hovering","_selected","_state","X","None","_focused","events","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_engineResourcesAddedToStage","_attached","spatialReference","view","assign","state","camera","copyFrom","destroy","_applyObjectTransform","pe","_removeResourcesFromStage","_engineResources","_stage","_this$view","elevationInfo","_elevationInfo","_updateEngineObject","renderObjects","slice","available","disableDisplay","radius","worldSized","modelTransform","te","renderLocation","renderCoordsHelper","toRenderCoords","elevationAlignedLocation","viewingMode","T","F","he","D","ie","fromRenderCoords","location","N","_notifyLocationChanged","emit","_evaluateElevationAlignment","_updateElevationAlignedLocation","H","grabbableForEvent","grabbing","_setFocused","hovering","selected","action","updateStateEnabled","focused","screenLocation","_ensureScreenLocation","computeScreenPixelSizeAt","_calculateModelTransformOffset","me","projectToRenderScreen","renderToScreen","applyObjectTransform","attached","intersectionDistance","se","_getCollisionRadius","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","ce","G","re","length","de","I","oe","B","get","j","_this$collisionType$o","direction","ne","ue","_","ge","k","le","_e","U","L","_calculateModelTransformPosition","attach","arguments","undefined","manipulator3D","engineLayerId","_engineLayer","Q","pickable","updatePolicy","K","SYNC","id","getObject","engineLayerReferences","_materialIdReferences","materialIdReferences","Map","A","detach","onViewChange","onElevationChange","E","fe","extent","_this$location$spatia","_q","_q2","_q3","V","elevationProvider","mode","q","_getFocusedSize","objectsByState","_ensureEngineResources","Z","Focused","Unfocused","Selected","Unselected","stateMask","objects","visible","All","transformation","Set","forEach","_ref","geometry","material","has","push","J","castShadow","geometries","set","layer","materials","_addResourcesToStage","_ref2","addMany","_ref3","removeMany","remove","delete","ae","S","R","test","areAnyResourcesVisible","P","W","M","OccludeAndTransparent","writeDepth","cullFace","Back","renderOccluded","isDecoration","calloutLength","calloutWidth","discRadius","Math","atan2","super","_resources","_transform","object","transform","recreate","createResources","recreateGeometry","removeAllGeometries","createGeometries","destroyResources","createExternalResources","forEachExternalMaterial","dispose","destroyExternalResources","updateVisibility","_isDecoration","_resourcesCreated","_visible","_handle","ready","_createResources","_destroyResources","applyProperties","console","error","onAttachedChange","perScreenPixelRatio","screenSizeScale","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","transparent","culling","depthTest","func","LESS","LEQUAL","depthWrite","colorWrite","polygonOffset","initializePipeline","hasSlicePlane","cullAboveGround","count","COUNT","prototype","constValue","supportsEdges","produces","OPAQUE_MATERIAL","Highlight","_isTransparent","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","_configuration","_vertexAttributeLocations","getConfiguration","multipassTerrain","intersect","applyToVertex","data","applyToAabb","createGLMaterial","createBufferWriter","forceTransparentMode","beginSlot","ensureTechnique","vec3f","vertexBufferLayout","elementCount","indices","write","Error","concat","size","getField","initialize","addHandles","analysisViewData","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set"],"sourceRoot":""}