"use strict";(self.webpackChunksc_tbm=self.webpackChunksc_tbm||[]).push([[4723],{56002:(t,e,n)=>{function r(t){let e,n,r=[],i=!1;return function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return i&&e===this&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(o,r)||(n=t.apply(this,o),e=this,r=o,i=!0),n}}n.d(e,{B:()=>r})},82307:(t,e,n)=>{n.d(e,{NE:()=>r,fn:()=>i});const r={redo:"r",undo:"z",center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},i={toggle:"Control"}},75543:(t,e,n)=>{n.d(e,{FX:()=>I,Mn:()=>N,WG:()=>O,ej:()=>b,en:()=>F,fT:()=>it,i7:()=>x,jf:()=>V,qR:()=>P,xW:()=>nt});var r=n(18690),i=n(15941),s=n(19555),o=n(72745),l=n(20664),a=n(9392),u=n(43047),c=n(55855),h=n(63885),p=n(7137),d=n(13927),f=n(93582),v=n(94966),g=n(23862),y=n(79337),m=n(74050);class L{intersect(t){return G(this,t)}closestPoints(t){return[this.closestTo(t)]}}class x extends L{constructor(t){super(),this.point=t}equals(t){return this===t||it(t)&&(0,l.j)(this.point,t.point)}closestTo(){return(0,g.o8)(this.point)}}class _ extends L{constructor(t,e,n){super(),this.start=t,this.end=e,this.lineLike={start:t,end:e,type:n}}equals(t){return this===t||st(t)&&this.lineLike.type===t.lineLike.type&&(0,l.j)(this.start,t.start)&&(0,l.j)(this.end,t.end)}closestTo(t){const e=(0,y.Yv)(t,this.lineLike);return(0,g._7)(e)}}class N extends _{constructor(t,e){super(t,e,m.Vv.LINE)}}class A extends _{constructor(t,e){super(t,e,m.Vv.RAY)}}class M extends L{constructor(t){super(),this.constraints=t}equals(t){return this===t||rt(t)&&(0,r.aI)(this.constraints,t.constraints,((t,e)=>t.equals(e)))}closestTo(t){let e,n=1/0;for(const r of this.constraints){const i=r.closestTo(t),s=(0,l.a)(t,i);s<n&&(n=s,e=i)}return e?(0,g.o8)(e):t}closestPoints(t){return this.constraints.flatMap((e=>e===this?[]:e.closestPoints(t)))}}class b extends L{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||at(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const e=(0,y.Nm)(t,this.center,this.radius);return(0,g._7)(e)}}class w extends L{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||ut(t)&&(0,l.j)(this.center,t.center)&&this.radius===t.radius}closestTo(t){const e=(0,y.Nm)(t,this.center,this.radius);return e[2]=this.center[2],(0,g._7)(e)}asCircle(){return new E((0,g.o8)(this.center),this.radius,(0,g.fA)(0,0,1))}}class E extends L{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;super(),this.center=t,this.radius=e,this.normal=n,this.slicePlane=r}equals(t){return this===t||ct(t)&&(0,l.j)(this.center,t.center)&&(0,l.j)(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:e,radius:n}=this;(0,d._I)(this.getPlane(T),t,j);const r=(0,l.z)(j,j,e),i=(0,l.p)(r);if((0,y.Zj)(i,0))return(0,g.o8)(t);const s=n/Math.sqrt(i),o=(0,l.r)((0,a.vt)(),e,r,s),{slicePlane:u}=this;if(u&&!(0,y.F2)(u,o)){var c;const e=B(u,this);return null!==(c=null===e||void 0===e?void 0:e.closestTo(t))&&void 0!==c?c:(0,g.o8)(t)}return(0,g._7)(o)}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.vt)();return(0,d.O_)(this.center,this.normal,t)}}const j=(0,a.vt)(),T=(0,d.vt)();class P extends L{constructor(t){super(),this.z=t}equals(t){return this===t||ot(t)&&this.z===t.z}closestTo(t){return(0,g._7)((0,a.fA)(t[0],t[1],this.z))}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.vt)();return(0,l.s)(z,0,0,this.z),(0,d.O_)(z,a.Cb,t)}}const z=(0,a.vt)();class Z extends L{constructor(t,e,n){super(),this.start=t,this.end=e,this.planeLike={start:(0,g.Xz)(t),end:(0,g.Xz)(e),type:n}}equals(t){return this===t||lt(t)&&this.planeLike.type===t.planeLike.type&&(0,l.j)(this.start,t.start)&&(0,l.j)(this.end,t.end)}closestTo(t){return(0,g._7)((0,y.r2)(t,this.planeLike))}closestEndTo(t){const{start:e,end:n}=this.planeLike;return Math.sign((0,s.Om)((0,s.Re)(S,n,e),(0,s.Re)(k,(0,g.Xz)(t),e)))>0?this.end:this.start}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.vt)();const e=(0,l.c)(R,this.end);return e[2]+=1,(0,d.Cr)(this.start,this.end,e,t)}getSlicePlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.vt)();const{start:e,end:n,type:r}=this.planeLike;if(r===y.pJ.PLANE)return;const i=(0,l.s)(R,e[0],e[1],0),s=(0,l.s)(H,n[0],n[1],0),o=(0,l.f)(H,s,i);return(0,d.O_)(i,o,t),t}}const S=(0,o.vt)(),k=(0,o.vt)(),R=(0,a.vt)(),H=(0,a.vt)();class I extends Z{constructor(t,e){super(t,e,y.pJ.HALF_PLANE)}}class O extends Z{constructor(t,e){super(t,e,y.pJ.PLANE)}}class q extends L{constructor(t,e){super(),this.sphere=(0,f.k)(t,e)}equals(t){return this===t||ht(t)&&(0,f.l)(this.sphere,t.sphere)}closestTo(t){const e=(0,f.p)(this.sphere,t,(0,a.vt)());return(0,g._7)(e)}get center(){return(0,f.g)(this.sphere)}get radius(){return this.sphere[3]}}class F extends L{constructor(t,e,n){super(),this.start=t,this.end=e,this.getZ=n,this.planeLike={start:(0,g.Xz)(t),end:(0,g.Xz)(e),type:y.pJ.PLANE}}equals(t){return this===t||pt(t)&&(0,l.j)(this.start,t.start)&&(0,l.j)(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return function(t,e){var n;const r=(0,y.r2)(e,t.planeLike);return r[2]=null!==(n=t.getZ(r[0],r[1]))&&void 0!==n?n:dt,(0,g._7)(r)}(this,t)}addIfOnTheGround(t,e){for(const r of e){var n;const e=null!==(n=this.getZ(r[0],r[1]))&&void 0!==n?n:0;(0,y.Zj)(r[2],e)&&(r[2]=e,t.push(r))}}}class V extends L{constructor(t,e,n,r,i){super(),this._origin=t,this._spatialReference=e,this._distanceMeters=n,this._elevationMeters=r,this._directionDegrees=i}equals(t){return this===t||function(t){return t instanceof V}(t)&&(0,s.t2)(this._origin,t._origin)&&this._distanceMeters===t._distanceMeters&&this._elevationMeters===t._elevationMeters&&this._directionDegrees===t._directionDegrees}closestTo(t){var e;let[n,r,i]=t;if((0,s.hZ)(X,n,r),null!=this._directionDegrees&&null!=this._distanceMeters)(0,p.vN)(X,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(null!=this._directionDegrees)!function(t,e,n,r,i){var s;let{azimuth:o,distance:l}=(0,p._3)(D,e,r,i);null!==(s=o)&&void 0!==s||(o=0);let a=l*Math.cos((o-n)*h.eh);a=Math.max(0,a),(0,p.vN)(t,e,n,a,i)}(X,this._origin,this._directionDegrees,X,this._spatialReference);else if(null!=this._distanceMeters){const{azimuth:t}=(0,p._3)(C,this._origin,X,this._spatialReference);(0,p.vN)(X,this._origin,null!==t&&void 0!==t?t:0,this._distanceMeters,this._spatialReference)}return(0,g.vt)(X[0],X[1],null!==(e=this._elevationMeters)&&void 0!==e?e:i)}}const X=[0,0],C=new p.Zj;const D=new p.Zj;function G(t,e){if(rt(t)){const n=[];for(const r of t.constraints){const t=r.intersect(e);t&&n.push(t)}return nt(n)}if(rt(e))return G(e,t);if(pt(t))return K(t,e);if(pt(e))return K(e,t);if(it(t)){const{point:n}=t;if(it(e))return(0,l.j)(n,e.point)?t:void 0;const r=e.closestTo(n);return(0,l.G)(r,n)?t:void 0}if(st(t)){if(it(e))return G(e,t);if(st(e))return tt((0,y.SO)(t.lineLike,e.lineLike));if(ot(e))return U(t,e);if(lt(e))return tt((0,y.Mc)(e.planeLike,t.lineLike));if(at(e))return tt((0,y.K4)(t.lineLike,e.center,e.radius));if(ct(e))return tt((0,y.IB)(t.lineLike,e));if(ut(e))return function(t,e){let{lineLike:n}=t,{center:r,radius:i}=e;const s=r[2];return tt((0,y.K4)(n,r,i).filter((t=>(0,y.Zj)(t[2],s))))}(t,e);if(ht(e))return function(t,e){let{lineLike:n}=t,{sphere:r}=e;return tt((0,f.m)(r,n.start,n.end))}(t,e)}else if(ot(t)){if(it(e)||st(e))return G(e,t);if(ot(e))return function(t,e){return(0,y.Zj)(t.z,e.z)?t:void 0}(t,e);if(lt(e))return function(t,e){let{z:n}=t,{planeLike:r}=e;const[i,s]=r.start,[o,l]=r.end,a=(0,g.fA)(i,s,n),u=(0,g.fA)(o,l,n);return r.type===y.pJ.PLANE?new N(a,u):new A(a,u)}(t,e);if(at(e))return function(t,e){const[n,r]=e.center;return new w((0,g.fA)(n,r,t.z),e.radius)}(t,e);if(ct(e))return Y(t,e);if(ut(e))return function(t,e){return(0,y.Zj)(e.center[2],t.z)?e:void 0}(t,e);if(ht(e))return function(t,e){let{center:n,radius:r}=e;const i=Math.abs(n[2]-t.z);if(i>r&&!(0,y.Zj)(i,r))return;const s=(0,g.fA)(n[0],n[1],t.z),o=Math.sqrt(r**2-i**2);return(0,y.Zj)(o,0)?void 0:new w(s,o)}(t,e)}else if(lt(t)){if(it(e)||st(e)||ot(e))return G(e,t);if(lt(e))return $((0,y.b_)(t.planeLike,e.planeLike));if(at(e))return $((0,y.Bn)(t.planeLike,e.center,e.radius));if(ct(e))return J(t,e);if(ut(e))return W(t,e);if(ht(e))return Q(t,e)}else if(at(t)){if(it(e)||st(e)||ot(e)||lt(e))return G(e,t);if(at(e))return $((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius));if(ct(e))return;if(ut(e))return function(t,e){const n=(0,s.hG)((0,g.Xz)(t.center),(0,g.Xz)(e.center));return(0,y.Zj)(n,0)&&(0,y.Zj)(t.radius,e.radius)?e:et((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius),e.center[2])}(t,e);if(ht(e))return}else if(ct(t)){if(it(e)||st(e)||ot(e)||lt(e)||at(e))return G(e,t);if(ct(e))return;if(ut(e))return void e.asCircle();if(ht(e))return}else if(ut(t)){if(it(e)||st(e)||ot(e)||lt(e)||at(e)||ct(e))return G(e,t);if(ut(e))return function(t,e){if(!(0,y.HG)(t.center,e.center))return;const n=(0,s.hG)((0,g.Xz)(t.center),(0,g.Xz)(e.center));return(0,y.Zj)(n,0)&&(0,y.Zj)(t.radius,e.radius)?t:et((0,y.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius),t.center[2])}(e,t);if(ht(e))return}else if(ht(t)){if(it(e)||st(e)||ot(e)||lt(e)||at(e)||ut(e))return G(e,t);if(ht(e))return}}const U=(()=>{const t=(0,d.vt)();return(e,n)=>{const{start:r,end:i}=e;if((0,y.HG)(r,i)&&(0,y.Zj)(r[2],n.z))return e;const s=(0,a.vt)();return(0,d.U5)(n.getPlane(t),r,i,s)?new x((0,g._7)(s)):void 0}})();const B=(()=>{const t=(0,c.vt)(),e=(0,a.vt)(),n=(0,a.vt)();return(r,s,o)=>{const{normal:c,center:h,radius:p}=s;(0,v.VV)(c,e,n);const f=(0,d.Qj)(r),m=p*(0,l.k)(f,e),L=p*(0,l.k)(f,n);(0,u.s)(t,h[0],h[1],h[2],1);const _=(0,u.g)(r,t),N=Math.hypot(m,L),A=(0,y.Zj)(N,0);if((0,y.Zj)((0,d.Io)(r,h),0)){if(A)return s;if((0,y.Zj)(p,0))return!o||(0,y.F2)(o,h)?new x((0,g.o8)(h)):void 0;(0,l.b)(e,f,c),(0,l.n)(e,e);const t=new Array,n=(0,a.o8)(h);(0,l.r)(n,n,e,p),o&&!(0,y.F2)(o,n)||t.push(n);const r=(0,a.o8)(h);return(0,l.r)(r,r,e,-p),o&&!(0,y.F2)(o,r)||t.push(r),tt(t)}if(A)return;const M=-_/N;if(Math.abs(M)>1||(0,y.Zj)(M,1))return;const b=Math.atan(m/L),w=(0,i.YN)(M)-b,E=Math.PI-w,j=new Array,T=(0,a.vt)();(0,l.r)(T,h,e,p*Math.cos(w)),(0,l.r)(T,T,n,p*Math.sin(w)),j.push(T);const P=(0,a.vt)();return(0,l.r)(P,h,e,p*Math.cos(E)),(0,l.r)(P,P,n,p*Math.sin(E)),j.push(P),tt(o?(0,y.UL)(o,j):j)}})();const Y=(()=>{const t=(0,d.vt)();return(e,n)=>B(e.getPlane(t),n,n.slicePlane)})();const W=(()=>{const t=(0,d.vt)();return(e,n)=>{let{center:r,radius:i}=n;const s=(0,y.Bn)(e.planeLike,r,i),o=r[2];e.getSlicePlane(t);const l=new Array;for(const[a,u]of s){const e=[a,u,o];(0,y.F2)(t,e)&&l.push(e)}return tt(l)}})(),J=(()=>{const t=(0,d.vt)(),e=(0,d.vt)();return(n,r)=>B(n.getPlane(t),r,n.getSlicePlane(e))})(),Q=(()=>{const t=(0,d.vt)();return(e,n)=>{let{center:r,radius:i}=n;const s=e.getPlane(t),o=(0,d.mN)(s,r),u=Math.abs(o);if(u>i&&!(0,y.Zj)(u,i))return;const c=(0,a.o8)((0,d.Qj)(s)),h=(0,l.r)((0,a.vt)(),r,c,o),p=Math.sqrt(i**2-o**2);return(0,y.Zj)(p,0)?new x((0,g._7)((0,d._I)(s,r,(0,a.vt)()))):new E((0,g._7)(h),p,c,e.getSlicePlane())}})();function K(t,e){const{planeLike:n,getZ:r}=t,i=new Array;if(it(e))t.addIfOnTheGround(i,(0,y.VT)(n,e.point));else if(st(e))t.addIfOnTheGround(i,(0,y.Mc)(n,e.lineLike));else if(at(e))for(const[o,l]of(0,y.Bn)(n,e.center,e.radius)){const t=r(o,l);null!=t&&i.push((0,a.fA)(o,l,t))}else if(lt(e)||pt(e))for(const[o,l]of(0,y.b_)(n,e.planeLike)){var s;const t=null!==(s=r(o,l))&&void 0!==s?s:dt;i.push((0,a.fA)(o,l,t))}return tt(i)}function $(t){return nt(t.map((t=>{let[e,n]=t;const r=(0,g.fA)(e,n,0),i=(0,g.fA)(e,n,1);return new N(r,i)})))}function tt(t){return nt(t.map((t=>t?new x((0,g._7)(t)):void 0)))}function et(t,e){return tt(t.map((t=>{let[n,r]=t;return[n,r,e]})))}function nt(t){var e;if(0!==t.length)return 1===t.length?null!==(e=t[0])&&void 0!==e?e:void 0:new M(t.filter(r.Ru))}function rt(t){return t instanceof M}function it(t){return t instanceof x}function st(t){return t instanceof _}function ot(t){return t instanceof P}function lt(t){return t instanceof Z}function at(t){return t instanceof b}function ut(t){return t instanceof w}function ct(t){return t instanceof E}function ht(t){return t instanceof q}function pt(t){return t instanceof F}const dt=0},23862:(t,e,n)=>{n.d(e,{Lp:()=>h,Xz:()=>a,_7:()=>l,fA:()=>u,io:()=>d,o8:()=>c,vf:()=>p,vt:()=>o,xF:()=>f});var r=n(9392),i=n(18117),s=n(12482);function o(t,e,n){return(0,r.fA)(t,e,n)}function l(t){return t}function a(t){return t}function u(t,e,n){return(0,r.fA)(t,e,n)}function c(t){return(0,r.o8)(t)}function h(t,e,n){let{coordinateHelper:r,elevationInfo:i}=n;return t?p(r.vectorToDehydratedPoint(t,v),e,i):null}function p(t,e,n){var i,o;if(null==t)return null;if(null==e)return(0,r.fA)(t.x,t.y,null!==(i=t.z)&&void 0!==i?i:0);if("2d"===e.type)return(0,r.fA)(t.x,t.y,0);const l=null!==(o=(0,s.wS)(e,t,n,s.qt))&&void 0!==o?o:0;return(0,r.fA)(t.x,t.y,l)}function d(t,e){return(0,i.T)(t[0],t[1],t[2],e)}function f(t,e,n,r){let{z:o,m:l}=n;const{spatialReference:a,elevationInfo:u}=r;let c;if(null==o&&null==l)c=void 0;else if(null==e||"2d"===e.type)c=null!==o&&void 0!==o?o:void 0;else{var h;c=null!==(h=(0,s.xS)(e,t,a,s.qt,u))&&void 0!==h?h:0}const p=(0,i.T)(t[0],t[1],c,a);return null!=l&&(p.m=l,p.hasM=!0),p}const v=(0,i.T)(0,0,0,null)},63078:(t,e,n)=>{n.d(e,{N:()=>c});var r=n(35143),i=n(69539),s=n(42553),o=n(46053),l=n(85842);let a=class extends s.oY{constructor(){super(...arguments),this.enabled=!0}};(0,r._)([(0,o.MZ)({type:Boolean})],a.prototype,"enabled",void 0),a=(0,r._)([(0,l.$)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],a);let u=class extends s.oY{constructor(t){super(t),this.lineSnapper=new a,this.parallelLineSnapper=new a,this.rightAngleSnapper=new a,this.rightAngleTriangleSnapper=new a,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new i.A([255,127,0]),this.orangeTransparent=new i.A([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,r._)([(0,o.MZ)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"lineSnapper",void 0),(0,r._)([(0,o.MZ)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"parallelLineSnapper",void 0),(0,r._)([(0,o.MZ)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"rightAngleSnapper",void 0),(0,r._)([(0,o.MZ)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"rightAngleTriangleSnapper",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],u.prototype,"shortLineThreshold",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],u.prototype,"distance",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"pointThreshold",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"intersectionParallelLineThreshold",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"parallelLineThreshold",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],u.prototype,"verticalLineThresholdMeters",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"touchSensitivityMultiplier",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"pointOnLineThreshold",void 0),(0,r._)([(0,o.MZ)({type:i.A,nonNullable:!0})],u.prototype,"orange",void 0),(0,r._)([(0,o.MZ)({type:i.A,nonNullable:!0})],u.prototype,"orangeTransparent",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"lineHintWidthReference",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"lineHintWidthTarget",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],u.prototype,"lineHintFadedExtensions",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"parallelLineHintWidth",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],u.prototype,"parallelLineHintLength",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],u.prototype,"parallelLineHintOffset",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],u.prototype,"rightAngleHintSize",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],u.prototype,"rightAngleHintOutlineSize",void 0),(0,r._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],u.prototype,"satisfiesConstraintScreenThreshold",void 0),u=(0,r._)([(0,l.$)("esri.views.interactive.snapping.Settings.Defaults")],u);const c=new u},13284:(t,e,n)=>{n.d(e,{e:()=>r});class r{constructor(t){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.editGeometryOperations=t.editGeometryOperations,this.elevationInfo=t.elevationInfo,this.pointer=t.pointer,this.vertexHandle=t.vertexHandle,this.excludeFeature=t.excludeFeature,this.feature=t.feature,this.visualizer=t.visualizer,this.selfSnappingZ=t.selfSnappingZ}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},99791:(t,e,n)=>{var r;n.d(e,{n:()=>r}),function(t){t[t.FEATURE=1]="FEATURE",t[t.SELF=2]="SELF",t[t.ALL=3]="ALL"}(r||(r={}))},61237:(t,e,n)=>{n.d(e,{L:()=>p});var r=n(30726),i=n(50346),s=n(68134),o=n(74e3),l=n(32535),a=n(12482),u=n(70825),c=n(13284),h=n(59752);function p(t){let{predicate:e=(()=>!0),snappingManager:n,snappingContext:l,updatingHandles:p,useZ:y=!0}=t;const m=new u.rh;if(null==n)return{snappingStep:[g,m],cancelSnapping:g};let L,x=null,_=null,N=null;const A=()=>{var t;x=(0,r.DC)(x),n.doneSnapping(),null!==(t=_)&&void 0!==t&&t.frameTask.remove(),_=null,L=(0,r.xt)(L),N=null},M=function(t,e,n){return(0,i.sg)((async(r,i)=>{let{frameTask:s,point:l,scenePoint:a,context:u,event:c,delta:h,getLastState:p}=r;const d=await s.schedule((()=>t.snap({point:l,scenePoint:a,context:u,signal:i})),i);if(d.valid){let r=await s.schedule((()=>d.apply()),i);const a=p();null!=a.point&&l!==a.point&&(r=t.update({point:a.point,scenePoint:a.scenePoint,context:u})),null!=a.updatePoint&&(0,o.CI)(r,a.updatePoint)||(v(c.mapEnd,r,h,e),n.execute(c))}}))}(n,y,m);let b=null,w=null,E=null;return{snappingStep:[t=>{if(!e(t))return t;const{action:r}=t;if("start"===r){const{info:e}=t,r=function(t){return"3d"===t.type?t.resourceController.scheduler.registerTask(h.W6.SNAPPING):h.nu}(n.view);if(_=function(t,e,n){return{context:new c.e({editGeometryOperations:t.editGeometryOperations,elevationInfo:t.elevationInfo,pointer:t.pointer,vertexHandle:null!=e.info?e.info.handle:null,excludeFeature:t.excludeFeature,feature:t.feature,visualizer:t.visualizer}),originalPos:null!=e.snapOrigin?t.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,originalScenePos:null!=e.scenePoints?e.scenePoints.sceneStart:null,frameTask:n}}(l,t,r),_.context.selfSnappingZ=null,!y&&null!=e){var o;const t=function(t,e){if(!t.hasZ())return null;const n=e.vertices;let r=null;for(const i of n){const e=t.getZ(i.pos);if(null!=r&&null!=e&&Math.abs(e-r)>1e-6)return null;null==r&&(r=e)}return r}(l.coordinateHelper,e.handle.component);null!=t&&(_.context.selfSnappingZ={value:t,elevationInfo:null!==(o=l.elevationInfo)&&void 0!==o?o:a.qt})}}if(null!=_){const{context:e,originalScenePos:o,originalPos:l}=_,{mapEnd:a,mapStart:u,scenePoints:c}=t,h=d(l,f(a,u)),g=f(u,l),m={...t,action:"update"},A=_.context,j=function(t,e){return null==t||null==e?null:d(t,f(e.sceneEnd,e.sceneStart))}(o,c),T=n.update({point:h,scenePoint:j,context:e});if(E=T,v(a,T,g,y),b=h,w=j,"end"!==r){const{frameTask:t}=_;null==x&&(x=new AbortController),N=e=>{p.addPromise((0,i.QZ)(M({frameTask:t,event:m,context:A,point:h,scenePoint:j,delta:g,getLastState:()=>({point:b,scenePoint:w,updatePoint:e.forceUpdate?null:E})},x.signal)))},N({forceUpdate:!1}),null==L&&(L=(0,s.wB)((()=>n.options.effectiveEnabled),(()=>{var t;return null===(t=N)||void 0===t?void 0:t({forceUpdate:!0})})))}}return"end"===r&&A(),t},m],cancelSnapping:t=>(A(),t)}}function d(t,e){let[n,r,i]=e;const s=(0,l.EL)(t);return s.x+=n,s.y+=r,s.hasZ&&(s.z+=i),s}function f(t,e){const n=t.hasZ&&e.hasZ?t.z-e.z:0;return[t.x-e.x,t.y-e.y,n]}function v(t,e,n,r){let[i,s,o]=n;t.x=e.x+i,t.y=e.y+s,r&&t.hasZ&&e.hasZ&&(t.z=e.z+o)}function g(t){return t}},14727:(t,e,n)=>{n.d(e,{b:()=>u});var r=n(54901),i=n(30484),s=n(23543),o=n(20578),l=n(23241),a=n(56572);class u{draw(t,e){const n=this._getUniqueHints(t),u=this.sortUniqueHints(n),c=[];for(const r of u)r instanceof i.v&&c.push(this.visualizeIntersectionPoint(r,e)),r instanceof s.c&&c.push(this.visualizeLine(r,e)),r instanceof o.r&&c.push(this.visualizeParallelSign(r,e)),r instanceof a.l&&c.push(this.visualizeRightAngleQuad(r,e)),r instanceof l._&&c.push(this.visualizePoint(r,e));return(0,r.vE)(c)}sortUniqueHints(t){return t}_getUniqueHints(t){const e=[];for(const n of t){let t=!0;for(const r of e)if(n.equals(r)){t=!1;break}t&&e.push(n)}return e}}},30484:(t,e,n)=>{n.d(e,{v:()=>o});var r=n(20664),i=n(99791),s=n(64753);class o extends s.m{constructor(t,e){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.n.ALL),this.intersectionPoint=t}equals(t){return t instanceof o&&(0,r.j)(this.intersectionPoint,t.intersectionPoint)}}},23543:(t,e,n)=>{n.d(e,{c:()=>o});n(81806),n(76460);var r=n(20664),i=n(99791),s=n(64753);class o extends s.m{constructor(t,e,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.n.ALL,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];super(r,s),this.type=t,this.lineStart=e,this.lineEnd=n,this.fadeLeft=o,this.fadeRight=l}equals(t){return t instanceof o&&this.type===t.type&&(0,r.j)(this.lineStart,t.lineStart)&&(0,r.j)(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return(0,r.q)(this.lineStart,this.lineEnd)}}},20578:(t,e,n)=>{n.d(e,{r:()=>o});n(81806),n(76460);var r=n(20664),i=n(99791),s=n(64753);class o extends s.m{constructor(t,e,n){super(n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.n.ALL),this.lineStart=t,this.lineEnd=e}equals(t){return t instanceof o&&(0,r.j)(this.lineStart,t.lineStart)&&(0,r.j)(this.lineEnd,t.lineEnd)}}},23241:(t,e,n)=>{n.d(e,{_:()=>s});var r=n(20664),i=n(64753);class s extends i.m{constructor(t,e,n){super(e,n),this.point=t}equals(t){return t instanceof s&&(0,r.j)(this.point,t.point)}}},56572:(t,e,n)=>{n.d(e,{l:()=>o});n(81806),n(76460);var r=n(20664),i=n(99791),s=n(64753);class o extends s.m{constructor(t,e,n,r){super(r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.n.ALL),this.previousVertex=t,this.centerVertex=e,this.nextVertex=n}equals(t){return t instanceof o&&(0,r.j)(this.previousVertex,t.previousVertex)&&(0,r.j)(this.centerVertex,t.centerVertex)&&(0,r.j)(this.nextVertex,t.nextVertex)}}},64753:(t,e,n)=>{n.d(e,{m:()=>r});class r{constructor(t,e){this.isDraped=t,this.domain=e}}},9730:(t,e,n)=>{n.d(e,{H3:()=>r,is:()=>m,Tu:()=>N,HN:()=>L,nf:()=>y,Mo:()=>v,BY:()=>_,xX:()=>g,pM:()=>f});var r,i=n(68134),s=n(41289),o=n(34154),l=n(18288),a=n(20664),u=n(18117),c=n(68295),h=n(88847),p=n(82307),d=n(23862);function f(t,e){const n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function v(t,e){return Math.sqrt(f(t,e))}function g(t,e){e.sort(((e,n)=>(0,a.a)(e.targetPoint,t)-(0,a.a)(n.targetPoint,t)))}function y(t,e,n){let{point:r,distance:i,returnEdge:a,vertexMode:h,coordinateHelper:{spatialReference:p},filter:d}=t;return n=null!=n?n.clone():new c.A({where:"1=1"}),d&&(n.geometry=d.geometry,n.distance=d.distance,n.spatialRelationship=d.spatialRelationship,n.where=(0,o.m)(n.where,d.where),n.timeExtent=(0,l.pJ)(n.timeExtent,d.timeExtent),n.objectIds=function(t,e){return t||e?e?t?Array.from((0,s.E$)(new Set(t),new Set(e))):e:t:null}(n.objectIds,d.objectIds)),{point:(0,u.T)(r[0],r[1],r[2],p.toJSON()),mode:e,distance:i,returnEdge:a,vertexMode:h,query:n.toJSON()}}function m(t,e,n){return{left:(0,d.Lp)(t.leftVertex.pos,e,n),right:(0,d.Lp)(t.rightVertex.pos,e,n)}}function L(t){return t.createQuery()}!function(t){t[t.TARGET=0]="TARGET",t[t.REFERENCE=1]="REFERENCE",t[t.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"}(r||(r={}));const x=Symbol("snapping-toggle");function _(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=(0,i.wB)((()=>({view:t.view,snappingOptions:t.snappingOptions})),(n=>{let{view:r,snappingOptions:i}=n;if(t.removeHandles(x),!r||!i)return;const s=h.o.TOOL,o=[r.on("key-down",(t=>{t.key!==p.fn.toggle||t.repeat||(i.enabledToggled=!0,e())}),s),r.on("key-up",(t=>{t.key===p.fn.toggle&&(i.enabledToggled=!1,e())}),s),r.on("pointer-move",(t=>{const n=t.native.ctrlKey;i.enabledToggled!==n&&(i.enabledToggled=n,e())}),s)];t.addHandles(o,x)}),i.pc);t.addHandles(n)}function N(t){var e;return function(t){return null!=t&&"object"==typeof t&&"declaredClass"in t&&"esri.WebMap"===t.declaredClass}(t)&&"utilityNetworks"in t&&!(null===(e=t.utilityNetworks)||void 0===e||!e.length)}},89646:(t,e,n)=>{n.d(e,{$h:()=>f,IP:()=>g,hF:()=>m,rT:()=>y,rZ:()=>r});var r,i=n(73582),s=n(24648),o=n(31633),l=n(19555),a=n(72745),u=n(20664),c=n(9392),h=n(14487),p=n(7137),d=n(80963);function f(t,e){if(null==t||null==e)return;const n=v(t,e);return null!=n?(0,s.Wq)(n,"radians","geographic"):void 0}!function(t){t.Absolute="absolute",t.Relative="relative",t.RelativeBilateral="relative-bilateral"}(r||(r={}));const v=(()=>{const t=(0,c.vt)(),e=(0,c.vt)();return(n,r)=>{var i,s;return(0,u.s)(t,n.x,n.y,null!==(i=n.z)&&void 0!==i?i:0),(0,u.s)(e,r.x,r.y,null!==(s=r.z)&&void 0!==s?s:0),g(t,e,n.spatialReference,r.spatialReference)}})(),g=(()=>{const t=(0,a.vt)(),e=(0,c.vt)(),n=(0,c.vt)();return(r,i,s,c)=>{if((0,u.j)(r,i))return;const f=(0,p.Xn)(s),v=(0,p.Xn)(c);if(f&&v&&(0,d.aI)(f,v)&&(0,h.F)(r,s,e,f)&&(0,h.F)(i,c,n,v)){const{azimuth:t}=(0,p._3)(L,e,n,f);return null!=t?(0,o.oU)(t,"degrees","radians"):void 0}t[0]=i[0]-r[0],t[1]=i[1]-r[1];let g=(0,l.g7)(a.JP,t);return t[0]<0&&(g=x-g),g}})();const y=(()=>{const t=(0,c.vt)();return function(e,n,r,i,l){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"geodesic";(0,u.c)(t,n);const c=m(l);if("geodesic"===a){const s=(0,p.Xn)(r);if(s&&(0,h.F)(t,r,t,s))return(0,p.vN)(e,t,c,i,s),e[2]=n[2],!!(0,h.F)(e,s,e,r)}const d=(0,s.g2)(c,"geographic","arithmetic"),f=(0,o.oU)(d,"degrees","radians"),v=n[0]+i*Math.cos(f),g=n[1]+i*Math.sin(f),y=n[2];return(0,u.s)(e,v,g,y),!0}})();function m(t){return null!=t?(0,s.g2)((0,o.oU)(t.value,t.unit,"degrees"),t.rotationType,"geographic"):void 0}const L=new p.Zj,x=2*Math.PI;new i.hr(-180,180)},79337:(t,e,n)=>{n.d(e,{Bn:()=>p,F2:()=>E,HG:()=>M,IB:()=>L,K4:()=>x,Mc:()=>d,Nm:()=>y,SO:()=>_,UL:()=>w,VT:()=>f,Yv:()=>m,Zj:()=>b,b_:()=>v,pJ:()=>j,r2:()=>g,t1:()=>N});var r=n(15941),i=n(19555),s=n(72745),o=n(20664),l=n(9392),a=n(53494),u=n(13927),c=n(94966),h=n(74050);function p(t,e,n){let{start:r,end:o,type:l}=t;const a=[],u=(0,i.Re)(P,o,r),c=(0,i.Re)(z,r,e),h=(0,i.m3)(u),p=2*(0,i.Om)(u,c),d=p*p-4*h*((0,i.m3)(c)-n*n);if(0===d){const t=-p/(2*h);(l===j.PLANE||t>=0)&&a.push((0,i.Ln)((0,s.vt)(),r,u,t))}else if(d>0){const t=Math.sqrt(d),e=(-p+t)/(2*h);(l===j.PLANE||e>=0)&&a.push((0,i.Ln)((0,s.vt)(),r,u,e));const n=(-p-t)/(2*h);(l===j.PLANE||n>=0)&&a.push((0,i.Ln)((0,s.vt)(),r,u,n))}return a}function d(t,e){const n=t.start,r=t.end,s=(0,i.Re)(P,r,n),u=(0,o.s)(S,-s[1],s[0],0),c=e.start,p=e.end,d=(0,o.z)(k,p,c),f=(0,o.k)(d,u),v=(0,o.s)(R,n[0],n[1],0),g=(0,o.z)(H,v,c),y=(0,o.k)(g,u),m=(0,a.FD)();if(Math.abs(f)<m)return Math.abs(y),[];const L=(0,o.r)(I,c,d,y/f);if(e.type===h.Vv.RAY){const t=(0,o.z)(O,L,c);if((0,o.k)(t,d)<-m)return[]}if(t.type===j.HALF_PLANE){const t=(0,i.jb)(z,L,n);if((0,i.Om)(t,s)<-m)return[]}return[(0,l.o8)(L)]}function f(t,e){return function(t,e){let{start:n,end:r,type:i}=t;const s=(0,o.z)(Z,e,n),u=(0,o.z)(S,r,n),c=(0,o.b)(k,u,s),p=(0,o.x)(c)/(0,o.x)(u),d=(0,a.FD)();if(p<d)switch(i){case h.Vv.LINE:return[(0,l.o8)(e)];case h.Vv.RAY:return(0,o.k)(u,s)<-d?[]:[(0,l.o8)(e)]}return[]}(A(F,e[2],t),e)}function v(t,e){return _(A(F,0,t),A(V,0,e)).map((t=>{let[e,n]=t;return(0,s.fA)(e,n)}))}function g(t,e){return m(t,A(F,t[2],e))}function y(t,e,n){const r=(0,i.Re)(P,t,e),s=(0,i.Bw)(r),o=0===s?1:n/s,a=(0,l.vt)();return(0,i.Ln)(a,e,r,o),a[2]=t[2],a}function m(t,e){let{start:n,end:r,type:i}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.vt)();const a=(0,o.z)(Z,t,n),u=(0,o.z)(S,r,n),c=(0,o.k)(a,u)/(0,o.k)(u,u);return(0,o.r)(s,n,u,i===h.Vv.RAY?Math.max(c,0):c)}const L=(()=>{const t=(0,l.vt)(),e=(0,l.vt)(),n=(0,l.vt)();return(r,a)=>{let{start:p,end:d}=r,{center:f,radius:v,normal:g,slicePlane:y}=a;const m=(0,u.O_)(f,g,q);if(b((0,u.Io)(m,p),0)&&b((0,u.Io)(m,d),0)){(0,c.VV)(g,t,e);const r=(r,s)=>((0,o.f)(n,s,f),(0,i.hZ)(r,(0,o.k)(n,t),(0,o.k)(n,e)),r),a=(0,h.IB)({start:r(P,p),end:r(z,d),type:h.Vv.LINE},s.uY,v),u=[];for(const[n,i]of a){const r=(0,o.c)((0,l.vt)(),f);(0,o.r)(r,r,t,n),(0,o.r)(r,r,e,i),y&&!E(y,r)||u.push(r)}return u}const L=(0,l.vt)();return(0,u.U5)(m,p,d,L)?!b((0,o.q)(L,f),v)||y&&!E(y,L)?[]:[L]:[]}})();function x(t,e,n){let{start:r,end:s,type:a}=t;const u=[],c=(0,o.f)(Z,s,r),p=(0,i.Re)(z,r,e),d=(0,i.m3)(c),f=2*(0,i.Om)(c,p),v=f*f-4*d*((0,i.m3)(p)-n*n);if(0===v){const t=-f/(2*d);(a===h.Vv.LINE||t>=0)&&u.push((0,o.r)((0,l.vt)(),r,c,t))}else if(v>0){const t=Math.sqrt(v),e=(-f+t)/(2*d);(a===h.Vv.LINE||e>=0)&&u.push((0,o.r)((0,l.vt)(),r,c,e));const n=(-f-t)/(2*d);(a===h.Vv.LINE||n>=0)&&u.push((0,o.r)((0,l.vt)(),r,c,n))}return u}function _(t,e){const n=t.start,r=t.end,i=e.start,s=e.end,u=(0,o.z)(Z,r,n),c=(0,o.z)(S,s,i),p=(0,o.z)(k,i,n),d=(0,o.b)(R,u,c);if(!b((0,o.k)(p,d),0))return[];const f=(0,o.x)(d);if(b(f,0))return[];const v=(0,o.b)(H,p,c),g=(0,o.k)(v,d)/f,y=(0,o.r)(I,n,u,g);if(t.type===h.Vv.RAY){const t=(0,o.z)(O,y,n);if((0,o.k)(u,t)<-(0,a.FD)())return[]}if(e.type===h.Vv.RAY){const t=(0,o.z)(O,y,i);if((0,o.k)(c,t)<-(0,a.FD)())return[]}return[(0,l.o8)(y)]}function N(t,e,n,r){const[o,l]=t,[a,u]=n,c=a-o,h=u-l,p=c*c+h*h,d=Math.sqrt(p);if(d>e+r)return[];if(d<Math.abs(e-r))return[];if(b(d,0)&&b(e,r))return[];const f=(e*e-r*r+p)/(2*d),v=Math.sqrt(e*e-f*f),g=v*h/d,y=v*c/d,[m,L]=(0,i.Cc)(P,t,n,f/d);return b(g,y)?[(0,s.fA)(m,L)]:[(0,s.fA)(m+g,L-y),(0,s.fA)(m-g,L+y)]}function A(t,e,n){let{start:r,end:i,type:s}=n;return(0,o.s)(t.start,r[0],r[1],e),(0,o.s)(t.end,i[0],i[1],e),t.type=T[s],t}function M(t,e){return b(t[2],e[2])}function b(t,e){return(0,r.Sp)(Math.abs(t-e),0,(0,a.FD)())}function w(t,e){return e.filter((e=>E(t,e)))}function E(t,e){return(0,u.Tj)(t,e)}var j;!function(t){t[t.PLANE=0]="PLANE",t[t.HALF_PLANE=1]="HALF_PLANE"}(j||(j={}));const T={[j.PLANE]:h.Vv.LINE,[j.HALF_PLANE]:h.Vv.RAY},P=(0,s.vt)(),z=(0,s.vt)(),Z=(0,l.vt)(),S=(0,l.vt)(),k=(0,l.vt)(),R=(0,l.vt)(),H=(0,l.vt)(),I=(0,l.vt)(),O=(0,l.vt)(),q=(0,u.vt)(),F={start:(0,l.vt)(),end:(0,l.vt)(),type:h.Vv.LINE},V={start:(0,l.vt)(),end:(0,l.vt)(),type:h.Vv.LINE}}}]);
//# sourceMappingURL=4723.f904b8bf.chunk.js.map