{"version":3,"file":"static/js/9845.bf64aa64.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssetErrors.js","../node_modules/@arcgis/core/layers/graphics/sources/support/uploadProgressWeights.js","../node_modules/@arcgis/core/support/progressUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/support/uploads.js","../node_modules/@arcgis/core/layers/graphics/sources/support/uploadAssets.js","../node_modules/@arcgis/core/layers/support/meshSpatialReferenceScaleUtils.js","../node_modules/@arcgis/core/rest/support/meshFeatureAttributes.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport s from\"../../../../core/Error.js\";const e=\"upload-assets\",o=()=>new Error;class r extends s{constructor(){super(`${e}:unsupported`,\"Layer does not support asset uploads.\",o())}}class t extends s{constructor(){super(`${e}:no-glb-support`,\"Layer does not support glb.\",o())}}class n extends s{constructor(){super(`${e}:no-supported-source`,\"No supported external source found\",o())}}class u extends s{constructor(){super(`${e}:not-base-64`,\"Expected gltf data in base64 format after conversion.\",o())}}class p extends s{constructor(){super(`${e}:unable-to-prepare-options`,\"Unable to prepare uploadAsset request options.\",o())}}class a extends s{constructor(s,r){super(`${e}:bad-response`,`Bad response. Uploaded ${s} items and received ${r} results.`,o())}}class d extends s{constructor(s,r){super(`${e}-layer:upload-failed`,`Failed to upload mesh file ${s}. Error code: ${r?.code??\"-1\"}. Error message: ${r?.messages??\"unknown\"}`,o())}}class c extends s{constructor(s){super(`${e}-layer:unsupported-format`,`The service allowed us to upload an asset of FormatID ${s}, but it does not list it in its supported formats.`,o())}}class l extends s{constructor(){super(`${e}:convert3D-failed`,\"convert3D failed.\")}}class i extends s{constructor(){super(\"invalid-input:no-model\",\"No supported model found\")}}class m extends s{constructor(){super(\"invalid-input:multiple-models\",\"Multiple supported models found\")}}export{a as BadResponseError,l as Convert3DFailedError,m as MultipleModelsError,t as NoGlbSupportError,i as NoModelError,n as NoSupportedSourceError,u as NotBase64Error,p as UnableToPrepareOptionsError,r as UnsupportedError,c as UnsupportedFormatUploadedError,d as UploadFailedError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e={upload:{createFromFiles:.8,loadMesh:.2},uploadAssetBlobs:{prepareAssetItems:.9,uploadAssetItems:.1},uploadConvertibleSource:{uploadEditSource:.5,serviceAssetsToGlb:.5},uploadLocalMesh:{meshToAssetBlob:.5,uploadAssetBlobs:.5}};export{e as uploadProgressWeights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{makeHandle as s}from\"../core/handleUtils.js\";import has from\"../core/has.js\";import{getOrCreateMapValue as t}from\"../core/MapUtils.js\";import{millisecondsFromSeconds as e,Seconds as r,Milliseconds as o}from\"../core/time.js\";function i(s,t=s=>{},e){return new n(s,t,e)}class n{constructor(s,t=s=>{},e){if(this.onProgress=t,this.taskName=e,this._progressMap=new Map,this._startTime=void 0,this._timingsMap=new Map,\"number\"==typeof s){this._weights={};for(let t=0;t<s;t++){const e=t,r=1/s;this._weights[e]=r,this._progressMap.set(e,0)}}else this._weights=s;this.emitProgress()}emitProgress(){let s=0;for(const[t,e]of this._progressMap.entries()){s+=e*this._weights[t]}if(1===s&&has(\"enable-feature:esri-3dofl-upload-timings\")){const s=Math.round(performance.now()-(this._startTime??0))/1e3;console.log(`${this.taskName} done in ${s} sec`);for(const[t,e]of this._timingsMap){const r=Math.round(e.end-e.start)/1e3,o=Math.round(r/s*100);console.log(this.taskName??\"Task\",{stepKey:t,stepTime:r,relativeTime:o})}}this.onProgress(s)}setProgress(s,e){if(this._progressMap.set(s,e),has(\"enable-feature:esri-3dofl-upload-timings\")){const r=performance.now();this._startTime??=r;const o=t(this._timingsMap,s,(()=>({start:r,end:0})));1===e&&(o.end=r)}this.emitProgress()}simulate(s,t){return a((t=>this.setProgress(s,t)),t)}makeOnProgress(s){return t=>this.setProgress(s,t)}}function a(t=s=>{},e=l){const r=performance.now();t(0);const o=setInterval((()=>{const s=performance.now()-r,o=1-Math.exp(-s/e);t(o)}),g);return s((()=>{clearInterval(o),t(1)}))}function h(s,t=c){return e(r(s*f/t))}function m(s,t=p){return e(r(s*f/t))}const c=10,p=10,f=8e-6,g=o(50),l=o(1e3);export{n as ProgressManager,m as estimatedConversionTime,h as estimatedTransferTime,i as makeProgressManager,a as simulateProgress};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{throwIfAborted as o}from\"../../../../core/promiseUtils.js\";import{join as t}from\"../../../../core/urlUtils.js\";import{isHostedAgolService as r}from\"../../../support/arcgisLayerUrl.js\";import{makeProgressManager as s,estimatedTransferTime as a}from\"../../../../support/progressUtils.js\";const n=1e6,i=20*n,p=2e9,l=3;async function m({data:m,name:f,description:d},u,h){let w=null;try{const y=t(u,\"uploads\"),j=t(y,\"info\"),{data:g}=await e(j,{query:{f:\"json\"},responseType:\"json\"});o(h);const q=r(u),z=g.maxUploadFileSize*n,T=q?p:z,U=q?Math.min(i,z):i;if(m.size>T)throw new Error(\"Data too large\");const A=t(y,\"register\"),{data:E}=await e(A,{query:{f:\"json\",itemName:c(f),description:d},responseType:\"json\",method:\"post\"});if(o(h),!E.success)throw new Error(\"Registration failed\");const{itemID:P}=E.item;w=t(y,P);const D=t(w,\"uploadPart\"),I=Math.ceil(m.size/U),M=new Array;for(let e=0;e<I;++e)M.push(m.slice(e*U,Math.min((e+1)*U,m.size)));const v=M.slice().reverse(),x=new Array,F=s(I,h?.onProgress,\"uploadItem\"),_=async()=>{for(;0!==v.length;){const t=M.length-v.length,r=v.pop(),s=new FormData,n=F.simulate(t,a(r.size));try{s.append(\"f\",\"json\"),s.append(\"file\",r),s.append(\"partId\",`${t}`);const{data:a}=await e(D,{timeout:0,body:s,responseType:\"json\",method:\"post\"});if(o(h),!a.success)throw new Error(\"Part upload failed\")}finally{n.remove()}}};for(let e=0;e<l&&0!==v.length;++e)x.push(_());await Promise.all(x);const b=t(w,\"commit\"),{data:C}=await e(b,{query:{f:\"json\",parts:M.map(((e,o)=>o)).join(\",\")},responseType:\"json\",method:\"post\"});if(o(h),!C.success)throw new Error(\"Commit failed\");return C.item}catch(y){if(null!=w){const o=t(w,\"delete\");await e(o,{query:{f:\"json\"},responseType:\"json\",method:\"post\"})}throw y}}function c(e){return e.replaceAll(\"/\",\"_\").replaceAll(\"\\\\\",\"_\")}export{m as uploadItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../request.js\";import has from\"../../../../core/has.js\";import s from\"../../../../core/Logger.js\";import{throwIfAborted as t,after as r,throwIfAbortError as o}from\"../../../../core/promiseUtils.js\";import{Milliseconds as n}from\"../../../../core/time.js\";import{join as a,parseData as i}from\"../../../../core/urlUtils.js\";import{generateBracedUUID as c}from\"../../../../core/uuid.js\";import{externalIsOnService as u,assetFormatId as l,ServiceAsset as p,ServiceAssetPart as m,externalSourceToMultiPart as f}from\"../../../../geometry/support/meshUtils/External.js\";import{UnsupportedError as g,NoSupportedSourceError as d,BadResponseError as y,UploadFailedError as w,UnsupportedFormatUploadedError as h,Convert3DFailedError as P,NoGlbSupportError as b,NotBase64Error as j,UnableToPrepareOptionsError as T}from\"./uploadAssetErrors.js\";import{uploadProgressWeights as A}from\"./uploadProgressWeights.js\";import{uploadItem as S}from\"./uploads.js\";import{getPrjFormatId as F,getWorldFileFormatId as v,getFormatIdMimeType as R,getMimeTypeFormatId as U,getGlbFormatId as x}from\"../../../support/infoFor3D.js\";import{getMeshTransformForMetersToSpatialReference as D}from\"../../../support/meshSpatialReferenceScaleUtils.js\";import{extractMeshFeatureTransform as N,extractMeshFeatureOrigin as E}from\"../../../../rest/support/meshFeatureAttributes.js\";import{makeProgressManager as C,estimatedConversionTime as O,simulateProgress as k}from\"../../../../support/progressUtils.js\";import I from\"../../../../geometry/SpatialReference.js\";async function B(e,s,t){const r=e.length;if(!r)return t?.onProgress?.(1),[];const o=C(r,t?.onProgress,\"uploadAssets\");return Promise.all(e.map(((e,r)=>q(e,s,{...t,onProgress:o.makeOnProgress(r)}))))}async function q(e,{layer:s,ongoingUploads:t},r){const o=t.get(e);if(o)return o;if(!ne(s))throw new g;if(L(e,s))return r?.onProgress?.(1),e;const n=H(e,s,r);t.set(e,n);try{await n}finally{t.delete(e)}return e}function L(e,s){const{parsedUrl:t}=s;return null!=t&&e.metadata.externalSources.some((e=>u(e,t)))}async function H(e,s,r){const{metadata:o}=e,{displaySource:n}=o,a=W(n?.source,s,{checkForConversionRequired:has(\"enable-feature:georeferenced-uploads\")}),i=null!=a?$(a,s,r):o.externalSources.length>0?J(e,s,r):z(e,s,r),c=await i;return t(r),e.addExternalSources([c]),e}async function $(e,s,t){return{source:await Q(e,s,t),original:!0,unitConversionDisabled:!0}}async function J(e,s,t){const r=ae(s),{externalSources:o}=e.metadata,n=M(o,s);if(!n)throw new d;const a=C(A.uploadConvertibleSource,t?.onProgress,\"uploadConvertibleSource\"),i=await Q(n,s,{onProgress:a.makeOnProgress(\"uploadEditSource\")});e.addExternalSources([{source:i,original:!0}]);const c=n.reduce(((e,{asset:s})=>s instanceof File?e+s.size:e),0),u=a.simulate(\"serviceAssetsToGlb\",O(c));try{const{source:o,transform:n,origin:a}=await se(i,s,r);return e.transform=n,a&&(e.metadata.georeferenced=!0,t?.useAssetOrigin&&(e.vertexSpace.origin=[a.x,a.y,a.z??0],e.spatialReference=a.spatialReference)),{source:o,unitConversionDisabled:!0}}finally{u.remove()}}async function z(e,s,t){const r=C(A.uploadLocalMesh,t?.onProgress,\"uploadLocalMesh\"),o=G(e,s,{...t,onProgress:r.makeOnProgress(\"meshToAssetBlob\")});return{source:await V([o],s,{...t,onProgress:r.makeOnProgress(\"uploadAssetBlobs\")}),extent:e.extent.clone(),original:!0}}async function G(e,s,r){const o=ae(s),n=await e.load(r),a=await n.toBinaryGLTF({origin:n.origin,signal:r?.signal,ignoreLocalTransform:!0,unitConversionDisabled:!0});return t(r),{blob:new Blob([a],{type:\"model/gltf-binary\"}),assetName:`${c()}.glb`,assetType:o}}function M(e,s){for(const t of e){const e=W(t.source,s);if(e)return e}return null}function W(e,{infoFor3D:s},t={}){if(!e)return null;const{supportedFormats:r,editFormats:o}=s,n=f(e),a=new Array,i=F(s),c=v(s);let u=!1;for(const l of n){const e=K(l,r);if(!e)return null;const{assetType:s}=e;if(t.checkForConversionRequired&&(s===i||s===c))return null;o.includes(s)&&(u=!0),a.push(e)}return u?a:null}function K(e,s){const t=l(e,s);return t?{asset:e,assetType:t}:null}async function Q(e,s,t){return V(e.map((e=>X(e,t))),s,t)}async function V(e,s,r){const o=C(A.uploadAssetBlobs,r?.onProgress,\"uploadAssetBlobs\"),n=await Z(e,s,{...r,onProgress:o.makeOnProgress(\"prepareAssetItems\")});t(r);const a=n.map((({item:e})=>e)),{uploadResults:i}=await _(a,s,{...r,onProgress:o.makeOnProgress(\"uploadAssetItems\")});return t(r),e.map(((e,t)=>ee(n[t],i[t],s)))}async function X(e,s){const{asset:r,assetType:o}=e;if(r instanceof File)return{blob:r,assetName:r.name,assetType:o};const n=await r.toBlob(s);return t(s),{blob:n,assetName:r.assetName,assetType:o}}async function Y(e,s,r){const{blob:n,assetType:a,assetName:c}=e;let u=null;try{const e=await S({data:n,name:c},s.url,r);t(r),u={assetType:a,assetUploadId:e.itemID}}catch(l){o(l),ie().warnOnce(`Service ${s.url} does not support the REST Uploads API.`)}if(!u){const e=await i(n);if(t(r),!e.isBase64)throw new j;u={assetType:a,assetData:e.data}}if(!u)throw new T;return{item:u,assetName:c}}function Z(e,s,r){const o=C(e.length,r?.onProgress,\"prepareAssetItems\");return Promise.all(e.map((async(e,n)=>{const a=Y(await e,s,{...r,onProgress:o.makeOnProgress(n)});return t(r),a})))}async function _(s,r,o){const n=k(o?.onProgress);try{const n=await e(a(r.parsedUrl.path,\"uploadAssets\"),{timeout:0,query:{f:\"json\",assets:JSON.stringify(s)},method:\"post\",responseType:\"json\"});if(t(o),n.data.uploadResults.length!==s.length)throw new y(s.length,n.data.uploadResults.length);return n.data}finally{n.remove()}}function ee(e,s,t){const{success:r}=s;if(!r){const{error:t}=s;throw new w(e.assetName,t)}const{assetHash:o}=s,{assetName:n,item:{assetType:a}}=e,{infoFor3D:{supportedFormats:i}}=t,c=R(a,i);if(!c)throw new h(a);return new p(n,c,[new m(`${t.parsedUrl.path}/assets/${o}`,o)])}async function se(e,s,t){const r=e.map((({assetName:e,parts:s})=>({assetName:e,assetHash:s[0].partHash})));let o;try{const e=a(s.parsedUrl.path,\"convert3D\"),n=s.capabilities?.operations.supportsAsyncConvert3D;o=(await(n?oe:re)(e,{query:{f:\"json\",assets:JSON.stringify(r),transportType:\"esriTransportTypeUrl\",targetFormat:t,async:n},responseType:\"json\",timeout:0})).data}catch(n){throw new P}return te(s,o)}function te(e,s){const t={source:s.assets.map((s=>{const t=U(s.contentType,e.infoFor3D.supportedFormats);if(!t)throw new h(t);return new p(s.assetName,s.contentType,[new m(s.assetURL,s.assetHash)])})),origin:void 0,transform:void 0};if(has(\"enable-feature:georeferenced-uploads\")&&s.transform){if(t.transform=N(s.transform),s.spatialReference){const e=I.fromJSON(s.spatialReference);t.origin=E(s.transform,e)}}else t.transform=D(e.spatialReference);return t}function re(s,t){return e(s,t)}async function oe(s,t){const o=(await e(s,t)).data.statusUrl;for(;;){const s=(await e(o,{query:{f:\"json\"},responseType:\"json\"})).data;switch(s.status){case\"Completed\":return e(s.resultUrl,{query:{f:\"json\"},responseType:\"json\"});case\"CompletedWithErrors\":throw new Error(s.status);case\"Failed ImportChanges\":case\"InProgress\":case\"Pending\":case\"ExportAttachments\":case\"ExportChanges\":case\"ExportingData\":case\"ExportingSnapshot\":case\"ImportAttachments\":case\"ProvisioningReplica\":case\"UnRegisteringReplica\":break;default:throw new Error}await r(ce)}}function ne(e){return!!e.infoFor3D&&!!e.url}function ae({infoFor3D:e}){const s=x(e);if(!s)throw new b;return s}function ie(){return s.getLogger(\"esri.layers.graphics.sources.support.uploadAssets\")}const ce=n(1e3);export{B as uploadAssets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as o}from\"../../core/unitUtils.js\";import r from\"../../geometry/support/MeshTransform.js\";function t(t){const e=1/o(t,1);return 1!==e?new r({scale:[e,e,e]}):void 0}export{t as getMeshTransformForMetersToSpatialReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import t from\"../../geometry/support/MeshTransform.js\";import o from\"../../geometry/Point.js\";function n(t,n,i=r){return new o({x:t[i.originX],y:t[i.originY],z:t[i.originZ],spatialReference:n})}function i(o,n=r){return new t({translation:[o[n.translationX],-o[n.translationZ],o[n.translationY]],rotationAxis:[o[n.rotationX],-o[n.rotationZ],o[n.rotationY]],rotationAngle:o[n.rotationDeg],scale:[o[n.scaleX],o[n.scaleZ],o[n.scaleY]]})}const r={originX:\"originX\",originY:\"originY\",originZ:\"originZ\",translationX:\"translationX\",translationY:\"translationY\",translationZ:\"translationZ\",scaleX:\"scaleX\",scaleY:\"scaleY\",scaleZ:\"scaleZ\",rotationX:\"rotationX\",rotationY:\"rotationY\",rotationZ:\"rotationZ\",rotationDeg:\"rotationDeg\"};export{n as extractMeshFeatureOrigin,i as extractMeshFeatureTransform};\n"],"names":["e","o","Error","r","s","constructor","super","concat","t","n","u","p","a","d","_r$code","_r$messages","code","messages","c","l","i","m","upload","createFromFiles","loadMesh","uploadAssetBlobs","prepareAssetItems","uploadAssetItems","uploadConvertibleSource","uploadEditSource","serviceAssetsToGlb","uploadLocalMesh","meshToAssetBlob","arguments","length","undefined","this","onProgress","taskName","_progressMap","Map","_startTime","_timingsMap","_weights","set","emitProgress","entries","has","_this$_startTime","Math","round","performance","now","console","log","_this$taskName","end","start","stepKey","stepTime","relativeTime","setProgress","_this$_startTime2","simulate","makeOnProgress","setInterval","exp","g","clearInterval","h","f","async","_ref","data","name","description","w","y","j","query","responseType","q","z","maxUploadFileSize","T","U","min","size","A","E","itemName","replaceAll","method","success","itemID","P","item","D","I","ceil","M","Array","push","slice","v","reverse","x","F","_","pop","FormData","append","timeout","body","remove","Promise","all","b","C","parts","map","join","B","_t$onProgress","call","_r$onProgress","layer","ongoingUploads","get","infoFor3D","url","ne","parsedUrl","metadata","externalSources","some","L","displaySource","W","source","checkForConversionRequired","Q","original","unitConversionDisabled","$","ae","addExternalSources","reduce","_ref2","asset","File","O","_a$z","transform","origin","_ref5","assetName","assetHash","partHash","_s$capabilities","path","capabilities","operations","supportsAsyncConvert3D","oe","re","assets","JSON","stringify","transportType","targetFormat","contentType","supportedFormats","assetURL","N","spatialReference","fromJSON","te","se","georeferenced","useAssetOrigin","vertexSpace","J","load","toBinaryGLTF","signal","ignoreLocalTransform","blob","Blob","type","assetType","G","V","extent","clone","H","delete","_ref3","editFormats","K","includes","toBlob","X","S","assetUploadId","getLogger","warnOnce","isBase64","assetData","Y","Z","_ref4","uploadResults","error","R","ee","k","statusUrl","status","resultUrl","ce","_ref6","scale","originX","originY","originZ","translation","translationX","translationZ","translationY","rotationAxis","rotationX","rotationZ","rotationY","rotationAngle","rotationDeg","scaleX","scaleZ","scaleY"],"sourceRoot":""}