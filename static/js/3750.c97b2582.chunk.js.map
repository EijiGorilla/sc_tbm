{"version":3,"file":"static/js/3750.c97b2582.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/Viewshed.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/chunks/Viewshed.glsl.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/FieldOfViewManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ArrowManipulator.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ScaleOrientManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ViewshedShapeVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedAnalysisVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedFaceCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ViewshedTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Viewshed.js","../node_modules/@arcgis/core/views/3d/analysis/ViewshedAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/interactive/keybindings.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{featureReferenceEquals as r,featureReferenceProperty as o}from\"./featureReferenceUtils.js\";import{Clonable as t}from\"../core/Clonable.js\";import{cyclicalDegrees as i}from\"../core/Cyclical.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as a}from\"../core/maybe.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/RandomLCG.js\";import\"../core/has.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as m}from\"../core/accessorSupport/ensureType.js\";import c from\"../geometry/Point.js\";let u=class extends(s(t)){constructor(e){super(e),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}isValid(){return null!=this.observer&&this.farDistance>0}equals(e){return a(this.observer,e.observer)&&this.farDistance===e.farDistance&&this.heading===e.heading&&this.tilt===e.tilt&&this.horizontalFieldOfView===e.horizontalFieldOfView&&this.verticalFieldOfView===e.verticalFieldOfView&&r(this.feature,e.feature)}};e([l({type:c,json:{write:!0}})],u.prototype,\"observer\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],u.prototype,\"farDistance\",void 0),e([l({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n((e=>i.normalize(m(e),void 0,!0)))],u.prototype,\"heading\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"tilt\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],u.prototype,\"horizontalFieldOfView\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"verticalFieldOfView\",void 0),e([l(o)],u.prototype,\"feature\",void 0),e([l({json:{read:!1}})],u.prototype,\"isValid\",null),u=e([p(\"esri.analysis.Viewshed\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{a as e,l as t,b as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{StoreResults as u}from\"../views/3d/webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as i,hasLod as a,getIntersectedFeatureBSRadius as s}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return d(e)===d(t)}function d(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const b={json:{write:{writer:f,target:{\"feature.layerId\":{type:[Number,String]},\"feature.objectId\":{type:[Number,String]}}},origins:{\"web-scene\":{read:I}}}};function f(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function I(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function m(l,a,s,c){const{sceneIntersectionHelper:b}=l,{observer:f,observerFeatureId:I,targetFeatureId:m,target:g}=s;if(null==I&&null==m)return;c||(c=e=>e),e(p,f,g);const v=t(p),S=1;r(p,f,p,S/v);const F=o(p,g,y);a.options.store=u.ALL,b.intersectToolIntersectorRay(F,a);let N=null,w=null,R=null,A=null;for(const e of a.results.all){const t=i(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=d(t);null!=r&&(null!=I&&r===I&&(N??=c(j(e,l,v)),e.distanceInRenderSpace-S<N&&(R=e)),null!=m&&r===m&&(w??=c(j(e,l,v)),null==A&&e.distanceInRenderSpace-S<v&&v-e.distanceInRenderSpace+S<w&&(A=e)))}const{observerAdjusted:T,targetAdjusted:h}=s;R?.getIntersectionPoint(T)?s.observerSurfaceNormal=R.getTransformedNormal(n()):s.observerSurfaceNormal=null,A?.getIntersectionPoint(h)?s.targetSurfaceNormal=A.getTransformedNormal(n()):s.targetSurfaceNormal=null}function j(e,t,r){if(a(e)){const n=s(e,t);if(null!=n)return Math.min(n*g,r)}return 1e-5*r}const g=.05,y=l(),p=n();export{c as featureReferenceEquals,b as featureReferenceProperty,d as getFeatureId,m as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{invertOrIdentity as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as o}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{NormalFromDepth as t}from\"../views/3d/webgl-engine/core/shaderLibrary/NormalFromDepth.glsl.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{PiUtils as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{LocalFromScreenSpacePassParameters as n,localFromScreenSpace as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js\";import{Rgba4FloatEncoding as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloat16Encoding.glsl.js\";import{TextureAtlasLookup as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js\";import{BooleanPassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/BooleanPassUniform.js\";import{Float2PassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3PassUniform as w}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{FloatPassUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js\";import{IntegerPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4PassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{Matrix4sPassUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js\";import{ShaderBuilder as V}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as b}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";class P extends n{constructor(){super(...arguments),this.shadowMap={depthTexture:null,nearFar:[1,100],numActiveFaces:1,atlasRegions:[[0,0,1,1]]},this.targetVector=[1,0,0],this.upVector=[0,0,1],this.fovs=[45,45],this.headingAndTilt=[0,0],this.observerOffset=[0,0,0],this.projectionMatrices=i.flat(),this.viewMatrices=i.flat(),this.volumeOffset=0}}function M(){const i=new V,o=i.fragment;return i.include(r),i.include(l),i.include(c),i.include(t),o.include(s),o.include(d),i.include(a),o.uniforms.add(new b(\"depthTexture\",((e,i)=>i.depth?.attachment)),new u(\"inverseProjectionMatrix\",((e,i)=>i.camera.inverseProjectionMatrix)),new u(\"inverseViewNormalMatrix\",((i,o)=>e(F,o.camera.viewInverseTransposeMatrix))),new w(\"viewshedObserverOffset\",(e=>e.observerOffset)),new w(\"viewshedTargetVector\",(e=>e.targetVector)),new w(\"viewshedUpVector\",(e=>e.upVector)),new v(\"viewshedFOVs\",(e=>e.fovs)),new v(\"viewshedHeadingAndTilt\",(e=>e.headingAndTilt)),new v(\"viewshedNearFar\",(e=>e.shadowMap.nearFar??[1,100])),new f(\"viewshedVolumeOffset\",(e=>e.volumeOffset)),new b(\"viewshedShadowMap\",(e=>e.shadowMap.depthTexture)),new x(\"viewshedProjectionMatrices\",(e=>e.projectionMatrices),6),new x(\"viewshedViewMatrices\",(e=>e.viewMatrices),6),new g(\"viewshedNumFaces\",(e=>e.shadowMap.numActiveFaces)),new m(\"viewshedAtlasRegions\",(e=>e.shadowMap.atlasRegions.flat()),24),new b(\"normalMap\",((e,i)=>e.normals)),new h(\"useNormalMap\",((e,i)=>null!=e.normals))),o.constants.add(\"visibleColor\",\"vec4\",[0,1,0,.5]),o.constants.add(\"occludedColor\",\"vec4\",[1,0,0,.5]),o.code.add(p`vec3 normalFromTexture() {\nvec4 norm4 = texture(normalMap, uv);\nvec3 nNormal = vec3(-1.0) + 2.0 * norm4.xyz;\nreturn normalize((inverseViewNormalMatrix * vec4(nNormal, 1.0)).xyz);\n}`).code.add(p`vec2 getViewshedUv(vec4 worldPosition, int face) {\nmat4 viewshedMatrix = viewshedProjectionMatrices[face];\nvec4 viewshedUv4 = viewshedMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nreturn viewshedUv.xy;\n}\nfloat viewshedDepthToFloat(float depth) {\nreturn (depth - viewshedNearFar[0]) / (viewshedNearFar[1] - viewshedNearFar[0]);\n}\nfloat getOrthographicDepthToViewshed(vec4 worldPosition, int face) {\nmat4 viewshedViewMatrix = viewshedViewMatrices[face];\nvec4 viewshedUv4 = viewshedViewMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nfloat depth = -viewshedUv.z;\nreturn viewshedDepthToFloat(depth);\n}\nfloat getDepthFromShadowMap(vec2 uv, int face) {\nint index = 4 * face;\nfloat umin = viewshedAtlasRegions[index];\nfloat umax = viewshedAtlasRegions[index + 1];\nfloat vmin = viewshedAtlasRegions[index + 2];\nfloat vmax = viewshedAtlasRegions[index + 3];\nvec4 atlasRegion = vec4(umin, vmin, umax, vmax);\nreturn rgba4ToFloat(textureAtlasLookup(viewshedShadowMap, uv, atlasRegion));\n}\nstruct ViewshedPoint {\nint face;\nvec2 uv;\nbool isWithin;\nfloat orthographicDepth;\n};\nmat3 rotationMatrix(vec3 axis, float angle)\n{\nfloat s = sin(angle);\nfloat c = cos(angle);\nfloat oc = 1.0 - c;\nreturn mat3(\noc * axis.xxz * axis.xyx + vec3(c, axis.zy) * vec3(1., -s, s),\noc * axis.xyy * axis.yyz + vec3(axis.z, c, axis.x) * vec3(s, 1., -s),\noc * axis.zyz * axis.xzz + vec3(axis.yx, c) * vec3(-s, s, 1.)\n);\n}\nfloat distanceToPlane(vec3 position, vec3 normal) {\nreturn dot(position, normal);\n}\nbool outsideViewshed(float distance) {\nreturn distance > -viewshedVolumeOffset;\n}\nbool isWithinViewshed(vec3 position) {\nfloat positionLength = length(position - viewshedObserverOffset);\nfloat farSphereDistance = positionLength - viewshedNearFar[1];\nif (outsideViewshed(farSphereDistance)) { return false; }\nfloat nearSphereDistance = viewshedNearFar[0] - positionLength;\nif (outsideViewshed(nearSphereDistance)) { return false; }\nvec3 westVector = normalize(cross(viewshedUpVector, viewshedTargetVector));\nbool leftOfTarget = distanceToPlane(position, westVector) > 0.0;\nif (viewshedFOVs[0] < TWO_PI) {\nfloat horAngle = viewshedFOVs[0] / 2.0;\nhorAngle = leftOfTarget ? horAngle : -horAngle;\nvec3 sideVector = viewshedTargetVector * rotationMatrix(viewshedUpVector, horAngle);\nbool inFront = distanceToPlane(position, sideVector) > 0.0;\nif (inFront) {\nvec3 sideNormal = cross(viewshedUpVector, sideVector) * (leftOfTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n} else if (viewshedFOVs[0] < PI) { return false; }\n}\nif (viewshedFOVs[1] < PI) {\nfloat t = dot(viewshedUpVector, position);\nvec3 nProjVector = normalize(position - t * viewshedUpVector);\nfloat heading = acos(clamp(dot(normalize(viewshedTargetVector), nProjVector), -1.0, 1.0));\nheading = leftOfTarget ? heading : -heading;\nbool aboveTarget = distanceToPlane(position, viewshedUpVector) > 0.0;\nfloat verFOV = viewshedFOVs[1] / 2.0;\nverFOV = aboveTarget ? -verFOV : verFOV;\nmat3 rotateByHeading = rotationMatrix(viewshedUpVector, heading);\nvec3 sideVector = viewshedTargetVector * rotationMatrix(westVector, verFOV) * rotateByHeading;\nvec3 leftVector = westVector * rotateByHeading;\nvec3 sideNormal = cross(sideVector, leftVector) * (aboveTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n}\nreturn true;\n}\nbool getViewshedPoint(vec4 localPosition, out ViewshedPoint point) {\nfor(int i=0; i < viewshedNumFaces; i++) {\nvec2 viewshedUv = getViewshedUv(localPosition, i);\nif (viewshedUv.x > 0. && viewshedUv.x < 1. && viewshedUv.y > 0. && viewshedUv.y < 1.) {\nfloat orthoDepth = getOrthographicDepthToViewshed(localPosition, i);\nif (orthoDepth >= 0.) {\nbool isWithin = isWithinViewshed(localPosition.xyz);\npoint = ViewshedPoint(i, viewshedUv, isWithin, orthoDepth);\nreturn true;\n}\n}\n}\nreturn false;\n}\nfloat normalCosAngle(float linearDepth, vec3 localPosition) {\nvec3 viewingDir = normalize(localPosition);\nif(useNormalMap) {\nvec3 normal = normalFromTexture();\nreturn dot(normal, viewingDir);\n}\nvec3 cameraSpacePosition = reconstructPosition(gl_FragCoord.xy, linearDepth);\nvec3 normal = normalFromDepth(depthTexture, cameraSpacePosition, gl_FragCoord.xy, uv);\nnormal = (inverseViewNormalMatrix * vec4(normal, 1.0)).xyz;\nreturn dot(normal, viewingDir);\n}`),o.main.add(p`float depth = depthFromTexture(depthTexture, uv);\nif (depth >= 1.0 || depth <= 0.0) {\nreturn;\n}\nfloat linearDepth = linearizeDepth(depth);\nvec4 localPosition = reconstructLocalPosition(gl_FragCoord.xy, linearDepth);\nViewshedPoint point;\nbool foundFace = getViewshedPoint(localPosition, point);\nif (!foundFace || !point.isWithin) {\nreturn;\n}\nfloat viewshedDepth = getDepthFromShadowMap(point.uv, point.face);\nfloat distance = point.orthographicDepth;\nbool visible = distance < viewshedDepth;\nfragColor = visible ? visibleColor : occludedColor;\nfloat cosAngle = normalCosAngle(linearDepth, localPosition.xyz);\nfloat threshold = useNormalMap ? -0.01 : -0.04;\nif (cosAngle > threshold) {\nfragColor = occludedColor;\n}`),i}const F=o(),T=Object.freeze(Object.defineProperty({__proto__:null,ViewshedPassParameters:P,build:M},Symbol.toStringTag,{value:\"Module\"}));export{P as V,T as a,M as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";const t=has(\"mac\")?\"Meta\":\"Control\",r=\"Shift\",s=2,a=1.15,c=1.15,m=2500,h=.02,e=Math.cos(o(45)),i=Math.cos(o(5)),f=.95,p=.3,M=2,j=1,l=3,n=11,x=22.5,C=40,S=48,U=2.25,b=4,d=1,g=.3,k=6,q=4,u=1600,v=.4;export{s as displayFocusMultiplier,t as forceHorizontalModifier,r as forceVerticalModifier,h as initialDepthOffsetFrac,v as initialPlaneHalfSizeViewProportion,u as planeMinBasisScreenLen2,j as planeOutlineWidth,M as planePreviewOutlineWidth,m as pointerMoveTimerMs,f as previewFadeDotThreshold,p as previewFadeDurationSeconds,k as resizeHandleCornerInputRadius,b as resizeHandleCornerWidth,q as resizeHandleEdgeInputRadius,g as resizeHandleEdgePaddingFrac,d as resizeHandleEdgeWidth,S as shiftRestartArrowLength,U as shiftRestartArrowOutlineWidth,C as shiftRestartOffsetDistance,c as shiftRestartTipFocusMultiplier,x as shiftRestartTipLength,n as shiftRestartTipRadius,a as shiftRestartTubeFocusMultiplier,l as shiftRestartTubeRadius,i as smallAngleDotThreshold,e as verticalDotThreshold};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{CullFaceOptions as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{RenderOccludedFlag as r}from\"../../webgl-engine/lib/Material.js\";const s=2,o=4,c=i(2),n=1.5;class l{constructor(){this.collisionRadius=5,this.fovUnfocusedArcWidth=o,this.fovFocusedArcWidth=s*this.fovUnfocusedArcWidth,this.scaleOrientSize=90,this.scaleOrientHandleRadius=.025,this.scaleOrientMinDistance=1,this.scaleOrientArrowTipLength=.3,this.scaleOrientArrowTipFocusMultiplier=s/1.5,this.observerSize=5,this.hoverTimeoutMilliseconds=1e3,this.viewAngleThreshold=10}getFovArcWidth(e){return e?this.fovFocusedArcWidth:this.fovUnfocusedArcWidth}getScaleOrientArrowTipLength(e){return this.scaleOrientArrowTipLength*(e?this.scaleOrientArrowTipFocusMultiplier:1)}}const h=new l;class a{constructor(){this.frameWidthNotSelected=.3,this.frameWidthSelected=1,this.frameColor=new e([255,255,255,.99]),this.observerPointConfiguration={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0,color:e.toUnitRGBA(new e([3,252,111,1]))},this.shapeMaterialParameters={color:[.33,.33,.33,.25],renderOccluded:r.Occlude,cullFace:t.Back,writeDepth:!1}}}const d=new a;export{c as arcAnglePerSegment,n as creationVerticalOffset,h as viewshedToolManipulatorConfiguration,d as viewshedVisualizationConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{rad2deg as r,clamp as e}from\"../../../../core/mathUtils.js\";import{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{n as o,c as a,r as s,t as i,f as c,a as m,g as p,h as l}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getNormal as f,fromPositionAndNormal as u,create as g}from\"../../../../geometry/support/plane.js\";import{viewshedToolManipulatorConfiguration as h}from\"./ViewshedConfiguration.js\";import{calculateTranslateRotateFromBases as j,calculateInputRotationTransform as b}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as x}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{headingTiltToDirectionUp as v}from\"../../support/cameraUtils.js\";import{createDirectionUp as S}from\"../../support/cameraUtilsInternal.js\";function R({tiltedUpVector:r,rightVector:e,observerRenderSpace:t},n){const o=j(r,e,t,n);return o[12]=0,o[13]=0,o[14]=0,o}function U(t,n,s,i){const j=d(),v=f(s.plane),S=E(n,v);let R;if(Math.abs(S)>h.viewAngleThreshold)R=t.next(x(n,s.plane));else{const r=u(i.targetRenderSpace,s.basis1,g()),a=o(D,s.basis1),f=o(M,s.basis2);R=t.next(x(n,r)).next((r=>{const t=r=>{const t=c(m(V,r,s.origin),f),n=Math.acos(e(t/i.farDistanceRenderSpace,-1,1)),o=Math.sin(n)*i.farDistanceRenderSpace;return p(d(),s.origin,p(d(),l(V,a,o),l(w,f,t)))},n=t(r.renderStart),o=t(r.renderEnd);return{...r,renderStart:n,renderEnd:o}}))}return R.next((e=>{\"start\"===e.action&&a(j,e.renderStart);const t=r(b(j,e.renderEnd,s.origin,v));return{...e,deltaAngle:t}}))}function E(e,t){const n=D;e.renderCoordsHelper.toRenderCoords(e.camera.position,n);const o=v(e,n,e.camera.heading,e.camera.tilt,S()).direction;return r(s(o,t))-90}function C(r,e,n,o){return t(A,n,o),i(r,e,A)}const D=d(),M=d(),V=d(),w=d(),A=n();export{R as getViewshedRotationMatrix,C as rotateBy,U as screenToCircleAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../core/handleUtils.js\";import{deg2rad as i,clamp as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as n,initial as s}from\"../../../../core/reactiveUtils.js\";import{fromYRotation as l,fromXRotation as c,fromScaling as u,fromZRotation as p,fromRotation as m,multiply as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as d,a as g,h as _}from\"../../../../chunks/vec32.js\";import{fromValues as M,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as v}from\"../../../../chunks/boundedPlane.js\";import{viewshedToolManipulatorConfiguration as j}from\"./ViewshedConfiguration.js\";import{screenToCircleAngle as w,getViewshedRotationMatrix as A}from\"./viewshedToolUtils.js\";import{Manipulator3D as V}from\"../../interactive/Manipulator3D.js\";import{RenderObject as E}from\"../../interactive/RenderObject.js\";import{ManipulatorType as O}from\"../../interactive/editingTools/ManipulatorType.js\";import{InteractiveManipulation as T}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createPolylineGeometry as y}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as U}from\"../../webgl-engine/lib/Material.js\";import{assert as R}from\"../../webgl-engine/lib/Util.js\";import{RibbonLineMaterial as S}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createManipulatorDragEventPipeline as x}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as P}from\"../../../interactive/interfaces.js\";class C extends T{constructor(t){super(),this._handles=new r,this._tool=t.tool,this._view=t.view,this._focusedArcMaterial=this._createArcMaterial(!0),this._unfocusedArcMaterial=this._createArcMaterial(!1),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles=o(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulators=null}createDragPipeline(t,r){const i=Object.values(this._manipulators);return e(i.map((({manipulator:e,side:i})=>x(e,((e,a,o,n,s)=>{const l=k(i,r),c=a.next((t=>({...t,manipulatorType:O.SCALE,side:i}))),u=w(c,this._view,l,r);t(e,u,o)})))))}updateManipulatorsTransform(t){t.arcCentersPoints(J),this._forEachManipulatorInfo((r=>this._updateArcManipulatorTransform(r,t,J[r.side])))}updateManipulatorVisuals(t){this._forEachManipulatorInfo((r=>this._updateArcManipulatorVisuals(r,t)))}_updateArcManipulatorVisuals({manipulator:t,side:r},e){const i=[];if(null!=e){const[a,o]=F(r,e,this._unfocusedArcMaterial);i.push(new E(a,P.Unfocused),new E(a.instantiate({material:this._focusedArcMaterial}),P.Focused)),t.collisionType={type:\"line\",paths:[o]}}t.renderObjects=i,t.radius=j.collisionRadius}_updateArcManipulatorTransform({manipulator:t,side:r},e,a){const o=e.horizontalFieldOfView,n=i(e.verticalFieldOfView/2),s=i(o/2),g=z(r);t.renderLocation=a;const _=f(),M=t=>{h(_,t,_)};M(l(H,i(-90))),g||M(c(H,n));const b=e.farDistanceRenderSpace;let v,j;M(u(H,d(W,b,b,b))),M(p(H,L(r))),M(A(e,H)),g?(v=s,j=e.tiltedUpVector):(j=e.rightVector,v=n),v*=\"right\"===r||\"bottom\"===r?-1:1;const w=m(H,v,j);null!=w&&M(w),t.modelTransform=_}_createManipulators(){const t=this._createArcManipulator(\"left\"),r=this._createArcManipulator(\"right\"),e=this._createArcManipulator(\"top\"),i=this._createArcManipulator(\"bottom\");this._manipulators={left:t,right:r,top:e,bottom:i};[[i.manipulator,e.manipulator],[t.manipulator,r.manipulator]].forEach((([t,r])=>{t.metadata={pairedManipulator:r},r.metadata={pairedManipulator:t}}))}_createArcManipulator(t){const r=new V({view:this._view,autoScaleRenderObjects:!1,worldSized:!0}),e={manipulator:r,side:t};return this._updateArcManipulatorVisuals(e),this._handles.add(r.events.on(\"focus-changed\",(t=>{const e=r.metadata?.pairedManipulator;null!=e&&(e.hovering!==r.hovering&&(e.hovering=r.hovering),e.grabbing!==r.grabbing&&(e.grabbing=r.grabbing))}))),e}_createArcMaterial(r){const e=j.getFovArcWidth(r),i=new S({renderOccluded:U.OccludeAndTransparent,isDecoration:!0,width:e});return this._handles.add(n((()=>t.toUnitRGBA(this._view.effectiveTheme.accentColor)),(t=>i.setParameters({color:t})),s)),i}forEachManipulator(t){Object.values(this._manipulators).forEach((({manipulator:r})=>t(r,O.SCALE)))}_forEachManipulatorInfo(t){Object.values(this._manipulators).forEach((r=>t(r)))}get test(){return{manipulators:this._manipulators}}}function F(t,r,e){const{horizontalFieldOfView:o,verticalFieldOfView:n}=r,s=z(t),l=i(a((s?n:o)/2,0,15)),c=D(-l/2,l/2,s?1:Math.max(Math.sin(i(90-n/2)),.1));return[y(e,c),c]}function D(t,r,e,i=10){R(i>1,\"createArcPolylineGeometry() needs at least 2 for numVertices\");const a=r-t;if(a<=0||e<=0){const t=.01;return[M(0,0,t),M(0,0,-t)]}const o=[],n=a/i;for(let s=0;s<i;s++){let a=t+s*n;s===i-1&&(a=r);const l=Math.cos(a)*e,c=Math.sin(a)*e,u=M(l-e,0,c);o.push(u)}return o}function I(t){switch(t){case\"left\":return 0;case\"bottom\":return 1;case\"right\":return 2;case\"top\":return 3}}function L(t){return I(t)*B}function z(t){return\"left\"===t||\"right\"===t}function G(t){return\"left\"===t?\"right\":\"right\"===t?\"left\":\"top\"===t?\"bottom\":\"top\"}function k(t,{observerRenderSpace:r,targetRenderSpace:e,tiltedUpVector:i,rightVector:a,farDistanceRenderSpace:o}){const n=g(W,e,r),s=z(t)?a:i,l=_(q,s,o);return v(r,n,l)}const B=Math.PI/2,H=f(),W=b(),q=b(),J={top:b(),bottom:b(),left:b(),right:b()};export{C as FieldOfViewManipulation,D as createArcPolylineVertices,G as flipSide,z as isSideHorizontal,L as sideToRad};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import t from\"../../../../core/Handles.js\";import{watch as r,initial as o}from\"../../../../core/reactiveUtils.js\";import{fromTranslation as i,mul as s,fromXRotation as n,fromYRotation as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as l}from\"../../../../chunks/vec32.js\";import{fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{displayFocusMultiplier as f}from\"../Slice/sliceToolConfig.js\";import{viewshedToolManipulatorConfiguration as p}from\"./ViewshedConfiguration.js\";import{Manipulator3D as d}from\"../../interactive/Manipulator3D.js\";import{RenderObject as u}from\"../../interactive/RenderObject.js\";import{CullFaceOptions as h}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createTubeGeometry as j,createExtrudedTriangle as g}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as w}from\"../../webgl-engine/lib/Material.js\";import{ColorMaterial as b}from\"../../webgl-engine/materials/ColorMaterial.js\";import{ManipulatorStateFlags as v}from\"../../../interactive/interfaces.js\";class M extends d{constructor(e,r){super({view:e,autoScaleRenderObjects:!1,worldSized:!1,radius:p.collisionRadius}),this._handles=new t,this._setupManipulatorVisual(r)}destroy(){this._handles.remove(),super.destroy()}_setupManipulatorVisual(e){const t=this._createMaterial(),r=1,o=[m(0,0,0),m(0,0,r)],d=j(t,o,e,16,!1),h=j(t,o,e*f,16,!1),g=O(!1,t,e),w=O(!0,t,e),b=c();i(b,o[o.length-1]),s(b,b,n(_,Math.PI/2)),s(b,b,a(_,Math.PI/2)),g.transformation=b,w.transformation=b,this.renderObjects=[new u(d,v.Unfocused),new u(h,v.Focused),new u(g,v.Unfocused),new u(w,v.Focused)];const M=m(0,p.getScaleOrientArrowTipLength(!0),0),T=l(M,M,b),x=[...o,T];this.collisionType={type:\"line\",paths:[x]}}_createMaterial(){const t=new b({cullFace:h.Back,renderOccluded:w.OccludeAndTransparent,isDecoration:!0});return this._handles.add(r((()=>e.toUnitRGBA(this.view.effectiveTheme.accentColor)),(e=>t.setParameters({color:e})),o)),t}}function O(e,t,r){const o=p.getScaleOrientArrowTipLength(e);let i=2*r;e&&(i*=f);const s=o/2;return g(t,o,s,s,i,0)}const _=c();export{M as ArrowManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Handles.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{fromScaling as e,fromTranslation as a,fromZRotation as r,mul as o,fromYRotation as n,multiply as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{g as m,h as p,a as c,G as u,f as h,b as d,n as f,i as _}from\"../../../../chunks/vec32.js\";import{create as g}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as T}from\"../../../../chunks/boundedPlane.js\";import{fromValues as v}from\"../../../../geometry/support/ray.js\";import{displayFocusMultiplier as j}from\"../Slice/sliceToolConfig.js\";import{ArrowManipulator as w}from\"./ArrowManipulator.js\";import{viewshedToolManipulatorConfiguration as D}from\"./ViewshedConfiguration.js\";import{screenToCircleAngle as R,getViewshedRotationMatrix as S}from\"./viewshedToolUtils.js\";import{screenToRenderRay as E}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{ManipulatorType as x}from\"../../interactive/editingTools/ManipulatorType.js\";import{discRadiusSmall as H,discRadius as M}from\"../../interactive/editingTools/manipulations/config.js\";import{InteractiveManipulation as y}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createManipulatorDragEventPipeline as P,dragAtLocation as b}from\"../../../interactive/dragEventPipeline.js\";class A extends y{constructor(i){super(),this._handles=new t,this._tool=i.tool,this._view=i.view;const e=D.scaleOrientHandleRadius;this._manipulatorHeading=new w(this._view,e),this._manipulatorTilt=new w(this._view,e),this._manipulatorDistance=new w(this._view,e),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._manipulatorHeading=null,this._manipulatorTilt=null,this._manipulatorDistance=null,this._tool=null,this._view=null}createHeadingDragPipeline(t,e){return P(this._manipulatorHeading,((a,r,o,n,s)=>{const l=this._view,{tiltParallelToSurface:h,farDistanceRenderSpace:d,upVector:f,observerRenderSpace:_,targetRenderSpace:g,rightVector:v}=e,j=Math.sin(i(h))*d,w=m(V,_,p(C,f,j)),D=c(C,g,w),S=p(I,v,u(D)),E=T(w,D,S),H=R(r,l,E,e).next((t=>({...t,manipulatorType:x.ROTATE})));t(a,H,o)}))}createTiltDragPipeline(t,i){return P(this._manipulatorTilt,((e,a,r,o,n)=>{const{observerRenderSpace:s,farDistanceRenderSpace:l,upVector:m,targetDirection:c}=i,u=h(c,m),_=d(V,c,m,-u);p(_,f(_,_),l);const g=p(C,m,l),v=T(s,_,g),j=R(a,this._view,v,i).next((t=>({...t,manipulatorType:x.ROTATE})));t(e,j,r)}))}createDistanceDragPipeline(t,i){return P(this._manipulatorDistance,((e,a,r,o,n)=>{const s=v(i.observerRenderSpace,i.targetDirection),l=a.next(b(this._view,e.location)).next(E(this._view,s)).next((t=>({...t,manipulatorType:x.SCALE})));t(e,l,r)}))}updateManipulators(t){const{targetRenderSpace:i}=t;this._manipulatorHeading.renderLocation=i,this._manipulatorTilt.renderLocation=i,this._manipulatorDistance.renderLocation=i;const m=l(),c=t=>{s(m,t,m)},u=D.scaleOrientSize*(H/M);c(e(O,_(V,u,u,u))),c(S(t,O));const h=D.scaleOrientHandleRadius*j*u,d=p(V,t.targetDirection,h);c(a(O,d));const f=r(O,-k);o(f,f,n(L,-k)),this._manipulatorHeading.modelTransform=o(l(),m,f);const g=n(O,k);o(g,g,r(L,Math.PI)),this._manipulatorTilt.modelTransform=s(l(),m,g),this._manipulatorDistance.modelTransform=m}forEachManipulator(t){t(this._manipulatorHeading,x.ROTATE),t(this._manipulatorTilt,x.ROTATE),t(this._manipulatorDistance,x.SCALE)}}const O=l(),L=l(),V=g(),C=g(),I=g(),k=Math.PI/2;export{A as ScaleOrientManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Color.js\";import e from\"../../../../core/Handles.js\";import{watch as t,initial as s}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/accessorSupport/interfaces.js\";import\"../../../../core/accessorSupport/tracking/Flags.js\";import\"../../../../core/Warning.js\";import\"../../../../core/Error.js\";import{viewshedToolManipulatorConfiguration as c}from\"./ViewshedConfiguration.js\";import{Manipulator3D as a}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as m}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as n}from\"../../interactive/RenderObject.js\";import{createSphereGeometry as p}from\"../../webgl-engine/lib/GeometryUtil.js\";class l extends a{constructor(r,o){super({view:r,autoScaleRenderObjects:!1,worldSized:!1,radius:c.observerSize,interactive:!1}),this._handles=new e;const i=m(this._color);this.renderObjects=[new n(p(i,c.observerSize,32,32))],o.manipulators.add(this),this._handles.add([t((()=>this._color),(r=>{i.setParameters({color:r})}),s)])}destroy(){this._handles.remove(),super.destroy()}get _color(){return o.toUnitRGBA(this.view.effectiveTheme.accentColor)}}r([i()],l.prototype,\"_color\",null);export{l as ViewshedObserverManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{isSome as t}from\"../../../../core/arrayUtils.js\";import{createTask as a}from\"../../../../core/asyncUtils.js\";import{cyclicalDegrees as o,Cyclical as n}from\"../../../../core/Cyclical.js\";import{handlesGroup as s}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{abortMaybe as l,destroyMaybe as p}from\"../../../../core/maybe.js\";import{after as h,throwIfAborted as u}from\"../../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as d,initial as v}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as g,G as M,f as _}from\"../../../../chunks/vec32.js\";import{create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{tryProjectWithZConversion as w}from\"../../../../geometry/projection.js\";import{viewingModeFromString as O}from\"../../../ViewingMode.js\";import{FieldOfViewManipulation as V,isSideHorizontal as y,flipSide as D}from\"./FieldOfViewManipulation.js\";import{ScaleOrientManipulation as T}from\"./ScaleOrientManipulation.js\";import{viewshedToolManipulatorConfiguration as H}from\"./ViewshedConfiguration.js\";import{ViewshedObserverManipulator as j}from\"./viewshedToolManipulatorUtils.js\";import{discRadiusSmall as C}from\"../../interactive/editingTools/manipulations/config.js\";import{MoveManipulation as F}from\"../../interactive/editingTools/manipulations/MoveManipulation.js\";import{resetProperties as S,dragManipulatedObject as P}from\"../../../interactive/dragEventPipeline.js\";import{EditGeometryOperations as k}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";const E=Symbol(\"dragHandles\"),x=Symbol(\"hideManipulators\"),A=Symbol(\"hideFoVManipulators\"),z=Symbol(\"hideObserverManipulator\");let U=class extends e{constructor(i){super(i),this._moveManipulation=null,this._observerManipulator=null,this._fieldOfViewManipulation=null,this._scaleOrientManipulation=null,this._forceHoveringTask=null,this._forceHoveringTestPromise=null,this._grabbing=!1,this.viewshedComputedData=null}initialize(){this._moveManipulation=this._createMoveManipulation(),this._fieldOfViewManipulation=new V({view:this.view,tool:this.parentTool}),this._scaleOrientManipulation=new T({view:this.view,tool:this.parentTool}),this._observerManipulator=new j(this.view,this.parentTool),this.addHandles([c((()=>this.viewshedComputedData?.observerRenderSpace),(i=>{null!=i&&(this._moveManipulation.renderLocation=i,this._observerManipulator.renderLocation=i)}),d),c((()=>this.viewshedComputedData?.heading),(i=>{i&&(this._moveManipulation.angle=r(90-i))}),v),c((()=>{const{viewshedComputedData:i}=this;return{viewshedComputedData:i,observer:i?.observer}}),(({viewshedComputedData:i,observer:e},a)=>{this._grabbing&&e!==a?.observer||(this.removeHandles(E),i?.isValid()&&this.addHandles([this._buildObserverDragPipeline(i),this._buildFOVDragPipeline(i),this._buildScaleOrientDragPipeline(i)].filter(t),E))}),v),c((()=>{const i=this.viewshedComputedData;return i?.isValid()?{viewshedCompData:i,target:i.targetRenderSpace,hFOV:i.horizontalFieldOfView,vFOV:i.verticalFieldOfView}:null}),(i=>{null!=i&&this._fieldOfViewManipulation.updateManipulatorsTransform(i.viewshedCompData)}),v),c((()=>{const i=this.viewshedComputedData;return i?.isValid()?{viewshedCompData:i,hFOV:i.horizontalFieldOfView,vFOV:i.verticalFieldOfView,tilt:i.tilt}:null}),(i=>{null!=i&&this._fieldOfViewManipulation.updateManipulatorVisuals(i.viewshedCompData)}),v),c((()=>{const i=this.analysisViewData.visible&&(this.viewshedComputedData?.isValid()??!1),e=this.parentTool.selectedViewshedComputedData===this.viewshedComputedData;return{fovManipulationAvailable:i&&!this.parentTool.isPlacingTarget,nonFOVManipulationAvailable:i&&(!this.parentTool.creating||e)}}),(({fovManipulationAvailable:i,nonFOVManipulationAvailable:e})=>{this._moveManipulation.available=e,this._scaleOrientManipulation.available=e,this._observerManipulator.available=e,this._fieldOfViewManipulation.available=i}),v),c((()=>{const i=this.viewshedComputedData;if(!i?.isValid())return null;const{observer:e,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}=i;return{viewshedCompData:i,observer:e,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}}),(i=>{null!=i&&this._scaleOrientManipulation.updateManipulators(i.viewshedCompData)}),v)]);const i=i=>{const e=this.analysisViewData;this.addHandles([i.events.on(\"focus-changed\",(()=>{const i=this._someManipulatorHovering();i&&this.parentTool.subToolHandles.forEach((({subTool:i})=>{i._resetHoveringTask()})),this._someManipulatorSelected()||i||(this._forceHoveringTask=a((async i=>{await(this._forceHoveringTestPromise??h(H.hoverTimeoutMilliseconds,i)),u(i),this._forceHoveringTask=null,this._updateManipulatorVisibility()})))})),i.events.on(\"grab-changed\",(t=>{this._grabbing=\"start\"===t.action,\"end\"===t.action&&e.tool?.updateInteractionVisualsVisibility(),this.parentTool.subToolHandles.forEach((({subTool:i})=>{i!==this&&i._setInteractive(!this._grabbing)})),this._setInteractive((e=>e.hasManipulator(i)||!this._grabbing))})),i.events.on(\"drag\",(i=>{\"start\"===i.action&&e.tool?.updateInteractionVisualsVisibility()}))])};this._forEachManipulator(i)}destroy(){this._forceHoveringTask=l(this._forceHoveringTask),this._moveManipulation=p(this._moveManipulation),this._fieldOfViewManipulation=p(this._fieldOfViewManipulation),this._scaleOrientManipulation=p(this._scaleOrientManipulation),this.parentTool.manipulators.remove(this._observerManipulator),this._observerManipulator=p(this._observerManipulator)}get viewshed(){return this.viewshedComputedData?.viewshed}get grabbing(){return this._grabbing}get observer(){return this.viewshed?.observer}set observer(i){const e=this.viewshed;null!=e&&(e.observer=i)}get discManipulator(){return this._moveManipulation.xyManipulation.discManipulator}get moveInteractionState(){const{dragging:i,grabbing:e}=this._moveManipulation;return{dragging:i,grabbing:e}}get scaleOrientInteractionState(){const{dragging:i,grabbing:e}=this._scaleOrientManipulation;return{dragging:i,grabbing:e}}_setInteractive(i){const e=\"boolean\"==typeof i;this._forEachManipulation((t=>t.interactive=e?i:i(t)))}onManipulatorSelectionChanged(){if(this._updateManipulatorVisibility(),!this._someManipulatorSelected()){this.analysisViewData.selectedViewshed===this.viewshed&&(this.analysisViewData.selectedViewshed=null),this._resetHoveringTask()}}hasManipulator(i){let e=!1;return this._forEachManipulator((t=>{e=e||t===i})),e}_someManipulatorSelected(){return this._moveManipulation.selected||this._fieldOfViewManipulation.selected||this._scaleOrientManipulation.selected}_someManipulatorHovering(){return this._moveManipulation.hovering||this._fieldOfViewManipulation.hovering||this._scaleOrientManipulation.hovering}_createMoveManipulation(){return new F({view:this.view,tool:this.parentTool,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:C})}_buildObserverDragPipeline(i){const e={mode:\"absolute-height\",offset:0},t=i.observer;if(null==t)return null;const a=this.view.spatialReference;return this._moveManipulation.createDragPipeline(((i,e,o,n,s)=>{n=n.next(S(this,[\"observer\"]));const r=w(t,a);if(null==r)return{steps:o,cancel:n};const l=k.fromGeometry(r,O(this.view.viewingMode));return{steps:o.next(P({operations:l})).next((i=>(this.observer=l.data.geometry,i))),cancel:n}}),e,a,void 0)}_buildFOVDragPipeline(i){let e=0,t=0;return this._fieldOfViewManipulation.createDragPipeline(((a,n,s)=>{if(null==i)return{steps:n,cancel:s};const r=i.viewshed;let l=null;s=s.next(S(i,[\"horizontalFieldOfView\",\"verticalFieldOfView\"]));return{steps:n.next((a=>{if(\"start\"===a.action)return l=null,e=i.horizontalFieldOfView,t=i.verticalFieldOfView,a;const n=a.deltaAngle;if(null==l&&0!==n){const i=\"bottom\"===a.side||\"left\"===a.side?n>0:n<0;l=y(a.side)?0===e&&i||360===e&&!i:0===t&&i}const s=l?D(a.side):a.side;let p=0;switch(s){case\"left\":p=e/2-n;break;case\"right\":p=e/2+n;break;case\"top\":p=t+2*n;break;case\"bottom\":p=t-2*n}return y(s)?(p=o.normalize(p),p=p>270?0:p>180?180:p,r.horizontalFieldOfView=2*p):r.verticalFieldOfView=p,a})),cancel:s}}),i)}_buildScaleOrientDragPipeline(i){let e=0,t=0;const a=(e,t)=>(a,o,n)=>{if(null==i)return{steps:o,cancel:n};const s=i.viewshed;return n=n.next(S(s,[e])),{steps:o=o.next(t(s,i)),cancel:n}};return s([this._scaleOrientManipulation.createHeadingDragPipeline(a(\"heading\",((e,a)=>a=>(\"start\"===a.action&&(t=i.heading),e.heading=o.normalize(t+a.deltaAngle),a))),i),this._scaleOrientManipulation.createTiltDragPipeline(a(\"tilt\",((t,a)=>a=>{\"start\"===a.action&&(e=i.tilt);let o=e+a.deltaAngle;return o<-90?o=180:o>270&&(o=0),t.tilt=G.clamp(o),a})),i),this._scaleOrientManipulation.createDistanceDragPipeline(a(\"farDistance\",((i,e)=>t=>{const a=g(I,t.renderEnd,e.observerRenderSpace),o=M(a)*e.metersPerUnit,n=_(a,e.targetDirection)<0?H.scaleOrientMinDistance:o;return i.farDistance=n,t})),i)])}_updateManipulatorVisibility(){const i=this._someManipulatorSelected(),e=null!=this._forceHoveringTask||this._someManipulatorHovering(),t=this._fieldOfViewManipulation.hovering,a=this.parentTool.creating;let o=[];const n=i=>{o.push(i.disableDisplay())};i||!a&&e?this.removeHandles(x):(this._scaleOrientManipulation.forEachManipulator(n),this._moveManipulation.forEachManipulator(n),this.addHandles(o,x),o=[]),i||!a&&e||a&&t?this.removeHandles(A):(this._fieldOfViewManipulation.forEachManipulator(n),this.addHandles(o,A)),i||!a?this.removeHandles(z):this.addHandles(this._observerManipulator.disableDisplay(),z)}_resetHoveringTask(){this._forceHoveringTask=l(this._forceHoveringTask),this._updateManipulatorVisibility()}_forEachManipulator(i){this._forEachManipulation((e=>{e.forEachManipulator(i)})),i(this._observerManipulator)}_forEachManipulation(i){i(this._moveManipulation),i(this._fieldOfViewManipulation),i(this._scaleOrientManipulation)}get test(){return{moveManipulation:this._moveManipulation,fieldOfViewManipulation:this._fieldOfViewManipulation,scaleOrientManipulation:this._scaleOrientManipulation,viewshedComputedData:this.viewshedComputedData,setHoveringTimeoutPromise:i=>{this._forceHoveringTestPromise=i}}}};i([m({constructOnly:!0})],U.prototype,\"analysis\",void 0),i([m({constructOnly:!0})],U.prototype,\"analysisViewData\",void 0),i([m({constructOnly:!0})],U.prototype,\"parentTool\",void 0),i([m({constructOnly:!0,nonNullable:!0})],U.prototype,\"view\",void 0),i([m()],U.prototype,\"viewshed\",null),i([m()],U.prototype,\"_grabbing\",void 0),i([m()],U.prototype,\"grabbing\",null),i([m()],U.prototype,\"viewshedComputedData\",void 0),i([m()],U.prototype,\"observer\",null),U=i([f(\"esri.views.3d.analysis.Viewshed.ViewshedSubTool\")],U);const I=b(),G=new n(0,180);export{U as ViewshedSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../analysis/Viewshed.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{rad2deg as s}from\"../../../../core/mathUtils.js\";import{destroyMaybe as a}from\"../../../../core/maybe.js\";import{mapCollection as n,watch as o,syncAndInitial as r,sync as l,when as c,initial as d}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as g,G as m,i as w,r as v,f as _}from\"../../../../chunks/vec32.js\";import{create as V}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as b,fromPositionAndNormal as f,projectPoint as y}from\"../../../../geometry/support/plane.js\";import{creationVerticalOffset as S}from\"./ViewshedConfiguration.js\";import{ViewshedSubTool as T}from\"./ViewshedSubTool.js\";import{Manipulator3D as D}from\"../../interactive/Manipulator3D.js\";import{Settings as C}from\"../../interactive/editingTools/settings.js\";import{ExtendedLineVisualElement as j}from\"../../interactive/visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as M}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{toGraphic as H}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{RenderOccludedFlag as P}from\"../../webgl-engine/lib/Material.js\";import{AnalysisToolBase as I}from\"../../../interactive/AnalysisToolBase.js\";import{sketchKeys as E}from\"../../../interactive/keybindings.js\";import{newToolIntersector as L}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointArrayFromEvent as k}from\"../../../support/screenUtils.js\";import O from\"../../../../geometry/Point.js\";const R=Symbol(\"interactionVisuals\");let x=class extends I{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.automaticManipulatorSelection=!1,this._stagedViewshed=null,this._stagedViewshedComputedData=null,this._creationState=!1,this._interactionVisualElements=null,this._settings=new C({getTheme:()=>this.view.effectiveTheme}),this._selectedManipulator=null}initialize(){this._intersector=L(this.view.state.viewingMode),this._createInteractionVisuals();const e=this.analysisViewData.viewshedComputedDataHandles;this.subToolHandles=n((()=>e),(({viewshedComputedData:e})=>{const t=new T({analysis:this.analysis,analysisViewData:this.analysisViewData,parentTool:this,view:this.view,viewshedComputedData:e});return{subTool:t,remove:()=>{this.selectedViewshed===e.viewshed&&(this.selectedViewshed=null),t.destroy()}}})),this.addHandles([o((()=>e?.some((e=>e.viewshedComputedData.isValid()))),(e=>{e&&this.finishToolCreation()}),r),o((()=>this._stagedViewshed),(e=>{const t=this.analysisViewData.viewshedComputedDataHandles;this._stagedViewshedComputedData=null!=e&&null!=t?this._findSubTool(e)?.viewshedComputedData:null}),r),o((()=>this.firstGrabbedManipulator),(e=>{if(null!=e){const t=this._findSubTool(e)?.viewshed;this.selectedViewshed=t,this._selectManipulator(e)}else this._selectedSubTool?.onManipulatorSelectionChanged()}),l),o((()=>this.view.activeTool),(e=>{e!==this&&null!=e&&(this.selectedViewshed=null)})),c((()=>{const e=this.selectedViewshedComputedData;return null==e?null:{subTool:this._selectedSubTool,observer:e.observerRenderSpace,target:e.targetRenderSpace}}),(e=>{const{subTool:t,observer:i,target:s}=e;t?.moveInteractionState.dragging?this._updateInteractionVisualsLocation(i,!0):t?.scaleOrientInteractionState.dragging&&this._updateInteractionVisualsLocation(s,!1)}),d),o((()=>this.creating),(()=>this.updateInteractionVisualsVisibility())),o((()=>this.selectedViewshed),(e=>{const t=this._selectedManipulator,i=this._selectedSubTool;null==e?this._selectManipulator(null):null!=t&&i.hasManipulator(t)||this._selectManipulator(i.discManipulator)}),d)])}destroy(){this.subToolHandles=a(this.subToolHandles),this.removeHandles(R)}onDeactivate(){this.removeStaged(),this._creationState=!1}get cursor(){return this.creating?\"crosshair\":null}get _selectedSubTool(){return this._findSubTool(this.selectedViewshed)}_selectManipulator(e){const t=this._selectedManipulator;t!==e&&(this._selectedManipulator=e,null!=t&&(t.selected=!1),null!=e&&(e.selected=!0),this._findSubTool(t)?.onManipulatorSelectionChanged(),this._selectedSubTool?.onManipulatorSelectionChanged())}get selectedViewshed(){return this.analysisViewData.selectedViewshed}set selectedViewshed(e){this.analysisViewData.selectedViewshed=e}get selectedViewshedComputedData(){return this._selectedSubTool?.viewshedComputedData}get stagedViewshed(){return this._stagedViewshed}get grabbing(){return this.subToolHandles.some((({subTool:e})=>e.grabbing))}get creating(){return this._creationState&&this.active}get isPlacingTarget(){return\"placing-target\"===this._creationState}createViewsheds(){this.selectedViewshed=null,this._creationState=\"placing-observer\"}onManipulatorSelectionChanged(){this.subToolHandles.forEach((e=>e.subTool.onManipulatorSelectionChanged()))}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e);break;case\"key-down\":E.cancel===e.key?this._cancelKeyHandler(e):E.delete.includes(e.key)&&this._deleteKeyHandler();break;case\"hold\":this.updateInteractionVisualsVisibility(!0)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickPlacementHandler(e)}_clickPlacementHandler(e){if(!this.creating||this.hasFocusedManipulators)return;const i=this._intersectScreen(e,B);if(null!=i){if(\"placing-observer\"===this._creationState){i.mapPoint.z=(i.mapPoint.z??0)+S;const e=new t({observer:i.mapPoint.clone(),feature:i.feature});this.analysis.viewsheds.add(e),this._stagedViewshed=e,this._creationState=\"placing-target\",this._updateStagedViewshed(i.scenePoint)}else if(\"placing-target\"===this._creationState){this._updateStagedViewshed(i.scenePoint);const e=this._stagedViewshed;this._creationState=\"placing-observer\",this._stagedViewshed=null,this.selectedViewshed=e}e.stopPropagation()}}_doubleClickHandler(e){this.creating&&(this.removeStaged(),this._creationState=!1,this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(!this.creating)return;const t=this._intersectScreen(e,B);null!=t&&(this._updateInteractionVisualsLocation(t.scenePoint,!1),this._updateStagedViewshed(t.scenePoint))}_cancelKeyHandler(e){if(this.creating){if(this.removeStaged())return this._creationState=\"placing-observer\",this.selectedViewshed=null,void e.stopPropagation();this._creationState=!1}else if(!this.grabbing)return this.selectedViewshed=null,void e.stopPropagation()}_deleteKeyHandler(){this.creating&&(this.removeStaged(),this._creationState=\"placing-observer\"),null!=this.selectedViewshed&&this.analysis.viewsheds.remove(this.selectedViewshed)}_updateStagedViewshed(e){const t=this._stagedViewshed,i=this._stagedViewshedComputedData;if(null==t||null==i)return;const{heading:s,tilt:a,farDistance:n}=U(this.view,i,e);t.farDistance=n,t.tilt=a,t.heading=s}removeStaged(){return null!=this._stagedViewshed&&(this.analysis.viewsheds.remove(this._stagedViewshed),this._stagedViewshed=null,!0)}_intersectScreen(e,t){const i=k(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,a=t.scenePoint;if(!s.getIntersectionPoint(a))return null;const n=t.mapPoint;return n.spatialReference=this.view.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(a,n),null==n?null:(t.feature=H(s,this.view),t)}_createInteractionVisuals(){this.removeHandles(R);const e=this._settings.visualElements,t=new M({view:this.view,attached:!1,style:{glowWidth:e.heightPlane.glowWidth,innerWidth:e.heightPlane.innerWidth},isDecoration:!0}),s=new j({view:this.view,extensionType:e.zVerticalLine.extensionType,attached:!1,innerWidth:1,writeDepthEnabled:!1,renderOccluded:P.OccludeAndTransparent,isDecoration:!0});this._interactionVisualElements={laserline:t,verticalLine:s},this.addHandles([o((()=>e.zVerticalLine),(e=>e.apply(s)),r),o((()=>e.heightPlane),(e=>e.apply(t)),r),i((()=>{t.destroy(),s.destroy(),this._interactionVisualElements=null}))],R)}updateInteractionVisualsVisibility(e=!1){const t=this.creating,i=this.analysisViewData.visible,s=this._selectedSubTool,a=this.selectedViewshedComputedData,n=(e,t)=>{const i=this._interactionVisualElements;null!=i&&(i.verticalLine.attached=t,i.laserline.attached=e)};if(t)return void n(i,!1);if(null==s||null==a)return void n(!1,!1);const o=s.moveInteractionState,r=e?o.grabbing:o.dragging,l=s.scaleOrientInteractionState,c=e?l.grabbing:l.dragging,d=i&&(r||c);if(n(d,r),d){const e=r?a.observerRenderSpace:a.targetRenderSpace;this._updateInteractionVisualsLocation(e,r)}}_updateInteractionVisualsLocation(e,t){const i=this._interactionVisualElements;if(null==i)return;const{laserline:s,verticalLine:a}=i;s.heightManifoldTarget=e,s.intersectsWorldUpAtLocation=t?e:null,null!=e&&a.setStartEndFromWorldDownAtLocation(e)}_findSubTool(e){if(null==e)return null;const t=e instanceof D?t=>t.subTool.hasManipulator(e):t=>t.subTool.viewshed===e;return this.subToolHandles?.find(t)?.subTool}get test(){}};function U(e,t,i){const a=t.observerRenderSpace,n=g(W,i,a),o=m(n)*t.metersPerUnit,r=e.renderCoordsHelper.basisMatrixAtPosition(a,G),l=w(A,r[8],r[9],r[10]),c=f(a,l,F),d=y(c,i,z),h=g(d,d,a),u=(m(h)<1e-4?90:s(v(n,h)))*(_(l,n)<0?-1:1)+90,p=w(K,r[4],r[5],r[6]),V=s(v(p,h)),b=w(K,r[0],r[1],r[2]);return{heading:_(h,b)<0?360-V:V,tilt:u,farDistance:o}}e([h({constructOnly:!0})],x.prototype,\"view\",void 0),e([h()],x.prototype,\"analysisViewData\",void 0),e([h()],x.prototype,\"removeIncompleteOnCancel\",void 0),e([h()],x.prototype,\"automaticManipulatorSelection\",void 0),e([h({constructOnly:!0})],x.prototype,\"analysis\",void 0),e([h()],x.prototype,\"subToolHandles\",void 0),e([h()],x.prototype,\"_stagedViewshed\",void 0),e([h()],x.prototype,\"_stagedViewshedComputedData\",void 0),e([h()],x.prototype,\"_creationState\",void 0),e([h({readOnly:!0})],x.prototype,\"cursor\",null),e([h()],x.prototype,\"_selectedManipulator\",void 0),e([h()],x.prototype,\"_selectedSubTool\",null),e([h()],x.prototype,\"selectedViewshed\",null),e([h()],x.prototype,\"selectedViewshedComputedData\",null),e([h()],x.prototype,\"stagedViewshed\",null),e([h()],x.prototype,\"grabbing\",null),e([h()],x.prototype,\"creating\",null),e([h()],x.prototype,\"isPlacingTarget\",null),x=e([u(\"esri.views.3d.analysis.Viewshed.ViewshedTool\")],x);const W=V(),A=V(),z=V(),K=V(),G=p(),F=b(),B={mapPoint:new O,scenePoint:V(),feature:null},q=x;export{q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../core/mathUtils.js\";import{fromScaling as t,mul as r,fromTranslation as s,fromRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as a,c as n,t as l}from\"../../../../chunks/vec32.js\";import{fromValues as m,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as h,arcAnglePerSegment as f}from\"../../analysis/Viewshed/ViewshedConfiguration.js\";import{getViewshedRotationMatrix as u,rotateBy as p}from\"../../analysis/Viewshed/viewshedToolUtils.js\";import{Object3DVisualElement as d}from\"./Object3DVisualElement.js\";import{Attribute as w}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as b}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as j}from\"../../webgl-engine/materials/ColorMaterial.js\";class v extends d{constructor(e){super(e),this._material=null,this._viewshedComputedData=null,this._material=new j({...h.shapeMaterialParameters,isDecoration:this.isDecoration,writeDepth:!1}),this.applyProperties(e)}get viewshedComputedData(){return this._viewshedComputedData}set viewshedComputedData(e){this._viewshedComputedData=e,this.updateTransform()}updateTransform(){const e=this._viewshedComputedData;if(null==e)return;const i=o(),a=e.farDistanceRenderSpace;t(i,m(a,a,a)),u(e,E),r(i,E,i),s(E,this._viewshedComputedData.observerRenderSpace),r(i,E,i),this.transform=i}createExternalResources(){}destroyExternalResources(){}forEachExternalMaterial(e){null!=this._material&&e(this._material)}createGeometries(e){const{_material:t,viewshedComputedData:r}=this;if(null==r||null==t||!r.isValid())return;D(t,r).forEach((t=>e.addGeometry(t)))}}function D(t,r){const{horizontalFieldOfView:s,verticalFieldOfView:o}=r,m=a(_,0,0,1),c=a(x,0,1,0),h=a(V,1,0,0);p(m,m,e(o/2),c),p(m,m,e(s/2),h);const u=e=>Math.ceil(Math.abs(e)/f)+1,d=e(s),j=n(y,h),v=u(d),D=C(-d/(v-1)),O=i(E,D,j),R=e(-o),T=u(R),G=C(R/(T-1)),N=n(x,c),P=i(M,e(s)/2,h);l(N,N,P);const S=M,A=[],F=n(V,m);for(let e=0;e<v;e++){i(S,G,N);for(let t=0;t<T;t++){const r=3*(t*v+e);A[r]=F[0],A[r+1]=F[1],A[r+2]=F[2],l(F,F,S)}l(N,N,O),l(m,m,O),n(F,m)}const I=v*T;A[3*I]=0,A[3*I+1]=0,A[3*I+2]=0;const U=[];for(let e=0;e<v-1;e++)for(let t=0;t<T-1;t++){const r=6*(t*(v-1)+e);U[r]=t*v+e,U[r+1]=(t+1)*v+e,U[r+2]=t*v+e+1,U[r+3]=t*v+e+1,U[r+4]=(t+1)*v+e,U[r+5]=(t+1)*v+e+1}const k=[U];if(360!==s&&0!==o){const e=[],t=[];for(let r=0;r<T-1;r++){const s=3*r;e[s]=I,e[s+1]=(r+1)*v,e[s+2]=r*v,t[s]=I,t[s+1]=r*v+v-1,t[s+2]=(r+1)*v+v-1}k.push(e,t)}if(180!==o&&0!==s){const e=[],t=[];for(let r=0;r<v-1;r++){const s=3*r;e[s]=I,e[s+1]=r,e[s+2]=r+1,t[s]=I,t[s+1]=r+(T-1)*v+1,t[s+2]=r+(T-1)*v}k.push(e,t)}return k.map((e=>{const r=[[g.POSITION,new w(A,e,3,!0)]];return new b(t,r)}))}function C(e){return isNaN(e)?1:e}const _=c(),x=c(),V=c(),y=c(),E=o(),M=o();export{v as ViewshedShapeVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import i from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{equals as s}from\"../../../../core/lang.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as a,initial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as d,i as u,a as p,G as _,n as V,h as f,r as v,v as w,c as E,g as b}from\"../../../../chunks/vec32.js\";import{create as g,clone as C}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as L,arcAnglePerSegment as A}from\"./ViewshedConfiguration.js\";import j from\"./ViewshedTool.js\";import{LineVisualElement as y}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as D}from\"../../interactive/visualElements/PointVisualElement.js\";import{ViewshedShapeVisualElement as F}from\"../../interactive/visualElements/ViewshedShapeVisualElement.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as O}from\"../../webgl-engine/materials/lineStippleUtils.js\";let S=class extends i{constructor(e){super(e),this.visible=!0,this._viewshedCorners={topLeft:g(),topRight:g(),bottomLeft:g(),bottomRight:g()},this._arcCenterPoints={top:g(),bottom:g(),left:g(),right:g()},this._parallelCenters={top:g(),bottom:g()}}initialize(){const e={view:this.view,isDecoration:!0},t={...e,color:this._color,renderOccluded:R.OccludeAndTransparent},i={...t,stipplePattern:O(2)};this._observerVisualElement=new D({...e,...L.observerPointConfiguration}),this._shapeVisualElement=new F(e),this._frameLinesVisualElement=new y(t),this._leftArcVisualElement=new y(t),this._rightArcVisualElement=new y(t),this._topArcVisualElement=new y(t),this._bottomArcVisualElement=new y(t),this._centralLongitude=new y(i),this._centralLatitude=new y(i),this.addHandles([a((()=>{const e=this.viewshedComputedData;if(!e?.isValid())return null;const t=this._viewshedCorners,i=this._arcCenterPoints,s=this._parallelCenters;return e.cornerPoints(t),e.arcCentersPoints(i),e.parallelCenterPoints(s),{viewshedComputedData:e,corners:t,arcCenters:i,parallelCenters:s,interactive:this.analysisViewData.interactive,selected:this._selected}}),(e=>{const t=null!=e;this._forEachVisualElement((e=>e.attached=t)),t&&this._updateVisualElements(e)}),{initial:!0,equals:s}),a((()=>{const{viewshedComputedData:e}=this,{horizontalFieldOfView:t,verticalFieldOfView:i}=e??{};return{viewshedComputedData:e,horizontalFieldOfView:t,verticalFieldOfView:i}}),(({viewshedComputedData:e})=>{const{_shapeVisualElement:t}=this;e!==t.viewshedComputedData&&(t.viewshedComputedData=e),this._shapeVisualElement.recreateGeometry()}),l),a((()=>{const{interactive:e}=this.analysisViewData;return{visible:this.visible,selected:e&&this._selected,staged:e&&this._staged,horFovNot360:360!==this.viewshedComputedData?.horizontalFieldOfView}}),(({visible:e,selected:t,staged:i,horFovNot360:s})=>{const r=t||i;this._shapeVisualElement.visible=e,this._topArcVisualElement.visible=e,this._bottomArcVisualElement.visible=e,this._frameLinesVisualElement.visible=e&&s;const o=e&&(t||s);this._leftArcVisualElement.visible=o,this._rightArcVisualElement.visible=o,this._forEachLineVisualElement((e=>{e.width=r?L.frameWidthSelected:L.frameWidthNotSelected,e.renderOccluded=t?R.OccludeAndTransparent:R.Occlude})),[this._centralLatitude,this._centralLongitude].forEach((i=>{i.width=2*(r?L.frameWidthSelected:L.frameWidthNotSelected),i.visible=e&&t}))}),l),a((()=>{const{analysisViewData:{interactive:e,tool:t},_selected:i,visible:s}=this,r=this.view.activeTool,o=!t?.active&&r instanceof j&&r.creating;return{observerVisible:s&&!i&&(!e||(t?.creating??!1)||o),color:this._color}}),(({observerVisible:e,color:t})=>{this._observerVisualElement.visible=e,this._forEachLineVisualElement((e=>e.color=t))}),l)])}get _color(){const{viewshedComputedData:e,_selected:i,analysisViewData:s}=this;if(null==e)return t.toUnitRGBA(L.frameColor);const r=s.tool?.active||s.interactive,o=e.viewshed===s.tool?.stagedViewshed,a=r&&(i||o)?this.view.effectiveTheme.accentColor:L.frameColor;return t.toUnitRGBA(a)}get _selected(){const{viewshedComputedData:e,analysisViewData:{selectedViewshedComputedData:t}}=this;return null!=e&&e===t}get _staged(){const{analysisViewData:{tool:e},viewshedComputedData:t}=this;return null!=e&&e.creating&&e.stagedViewshed===t?.viewshed}destroy(){this._observerVisualElement=o(this._observerVisualElement),this._shapeVisualElement=o(this._shapeVisualElement),this._frameLinesVisualElement=o(this._frameLinesVisualElement),this._leftArcVisualElement=o(this._leftArcVisualElement),this._rightArcVisualElement=o(this._rightArcVisualElement),this._topArcVisualElement=o(this._topArcVisualElement),this._bottomArcVisualElement=o(this._bottomArcVisualElement),this._centralLongitude=o(this._centralLongitude),this._centralLatitude=o(this._centralLatitude)}_forEachLineVisualElement(e){[this._frameLinesVisualElement,this._leftArcVisualElement,this._rightArcVisualElement,this._topArcVisualElement,this._bottomArcVisualElement,this._centralLatitude,this._centralLongitude].forEach(e)}_forEachVisualElement(e){this._forEachLineVisualElement(e),e(this._observerVisualElement),e(this._shapeVisualElement)}_updateVisualElements(e){const{viewshedComputedData:t,corners:i,arcCenters:s,parallelCenters:r}=e,o=C(t.observerRenderSpace);this._observerVisualElement.geometry=t.observer,this._shapeVisualElement.updateTransform(),this._updateFrameLines(o,i),this._updateFrameArcs(t,i,r),this._updateCentralHelperArcs(t,s)}_updateFrameLines(e,t){this._frameLinesVisualElement.geometry=[[e,t.topLeft],[e,t.topRight],[e,t.bottomLeft],[e,t.bottomRight]]}_updateFrameArcs(e,t,i){const{observerRenderSpace:s,rightVector:o,horizontalFieldOfView:a,tiltedUpVector:l}=e,n=r(a),c=g(),p=m();h(p,n/2,l),d(c,o,p),P(this._leftArcVisualElement,s,t.bottomLeft,t.topLeft,\"forward\",c),h(p,-n/2,l),u(c,0,0,0),d(c,o,p),P(this._rightArcVisualElement,s,t.bottomRight,t.topRight,\"forward\",c);const _=a>180?\"backward\":\"forward\";P(this._topArcVisualElement,i.top,t.topRight,t.topLeft,_,l),P(this._bottomArcVisualElement,i.bottom,t.bottomRight,t.bottomLeft,_,l)}_updateCentralHelperArcs(e,t){const i=e.observerRenderSpace,s=e.horizontalFieldOfView>=180?\"backward\":\"forward\";P(this._centralLatitude,i,t.right,t.left,s,e.tiltedUpVector),P(this._centralLongitude,i,t.top,t.bottom,\"forward\",e.leftVector)}get test(){}};function P(e,t,i,s,r,o,a=A){const l=g();p(l,i,t);const n=_(l),c=g();p(c,s,t),V(c,c),f(c,c,n);let u=v(l,c);const L=C(o);\"backward\"===r&&(w(L,L),u=-(2*Math.PI-u));const j=[],y=Math.ceil(Math.abs(u)/a),D=m();h(D,u/y,L);const F=g();E(F,l);const R=g();E(R,i);for(let h=0;h<y;h++){const e=g();E(e,R),d(F,F,D),b(R,t,F);const i=g();E(i,R),j.push([e,i])}e.geometry=j}e([n()],S.prototype,\"view\",void 0),e([n()],S.prototype,\"analysisViewData\",void 0),e([n()],S.prototype,\"viewshedComputedData\",void 0),e([n()],S.prototype,\"visible\",void 0),e([n()],S.prototype,\"_color\",null),e([n()],S.prototype,\"_selected\",null),e([n()],S.prototype,\"_staged\",null),S=e([c(\"esri.views.3d.analysis.Viewshed.ViewshedVisualization\")],S);const z=S;export{z as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import{destroyHandle as e}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as t,watch as o,initial as a}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"./ViewshedVisualization.js\";let c=class extends i{get visible(){return this.analysisViewData.visible}constructor(s){super(s)}initialize(){const s=this.analysisViewData,i=t((()=>this.analysisViewData.viewshedComputedDataHandles),(({viewshedComputedData:i})=>{const e=new n({view:this.view,viewshedComputedData:i,analysisViewData:s});return{visualization:e,remove:()=>e.destroy()}}));this._viewshedVisualizations=i,this.addHandles([e(i),o((()=>this.visible),(s=>this._viewshedVisualizations.forEach((({visualization:i})=>i.visible=s))),a)])}get test(){}};s([r({constructOnly:!0})],c.prototype,\"analysisViewData\",void 0),s([r({constructOnly:!0,nonNullable:!0})],c.prototype,\"view\",void 0),s([r({constructOnly:!0})],c.prototype,\"isDecoration\",void 0),s([r()],c.prototype,\"visible\",null),c=s([l(\"esri.views.3d.analysis.Viewshed.ViewshedAnalysisVisualization\")],c);export{c as ViewshedAnalysisVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as n,n as p,e as a,v as c,g as l,h}from\"../../../../chunks/vec32.js\";import{create as d,fromValues as u,fromArray as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{rotateBy as v}from\"./viewshedToolUtils.js\";import g from\"../../../../geometry/Point.js\";var S;let m=S=class extends t{constructor(e){super(e),this.observerRenderSpaceOverride=null}get observer(){return this.viewshed.observer??new g}get effectiveObserverRenderSpace(){return this.observerRenderSpaceOverride??this.observerRenderSpace}get effectiveObserver(){return this.renderSpaceToPoint(this.effectiveObserverRenderSpace,this.observer.spatialReference)}get effectiveTargetRenderSpace(){return this._computeTargetRenderSpace(this.effectiveObserverRenderSpace)}get farDistance(){return this.viewshed.farDistance}get farDistanceRenderSpace(){return this.farDistance/this.metersPerUnit}get heading(){return this.viewshed.heading}get tilt(){return this.viewshed.tilt}get feature(){return this.viewshed.feature}get tiltParallelToSurface(){return this.tilt-90}get horizontalFieldOfView(){return this.viewshed.horizontalFieldOfView}get verticalFieldOfView(){return this.viewshed.verticalFieldOfView}get observerRenderSpace(){return this._pointToRenderSpace(this.observer,d())}get target(){const e=this.targetRenderSpace;return this.renderSpaceToPoint(e,this.observer.spatialReference)}get targetRenderSpace(){return this._computeTargetRenderSpace(this.observerRenderSpace)}get targetDirection(){const e=n(d(),this.targetRenderSpace,this.observerRenderSpace);return p(e,e)}get tiltedUpVector(){const e=v(d(),this.upVector,-r(this.tiltParallelToSurface),this.leftVector);return p(e,e)}get _basis(){return this.renderCoordsHelper.basisMatrixAtPosition(this.observerRenderSpace,s())}get upVector(){const e=this._basis;return u(e[8],e[9],e[10])}get northVector(){const e=this._basis;return u(e[4],e[5],e[6])}get leftVector(){const e=this.upVector,t=v(d(),this.northVector,-r(this.heading),e);return a(t,e,t)}get rightVector(){return c(d(),this.leftVector)}clone(){return new S({renderCoordsHelper:this.renderCoordsHelper,viewshed:this.viewshed.clone()})}isValid(){return this.viewshed.isValid()}get metersPerUnit(){return this.renderCoordsHelper.spatialReference.metersPerUnit}pointOnSphere(e,t,o){const{observerRenderSpace:i,targetRenderSpace:s}=this,p=n(R,s,i);return v(p,p,-r(t),this.leftVector),v(p,p,-r(e),this.tiltedUpVector),l(o,p,i)}cornerPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(-t,r,e.topLeft),this.pointOnSphere(t,r,e.topRight),this.pointOnSphere(-t,-r,e.bottomLeft),this.pointOnSphere(t,-r,e.bottomRight)}arcCentersPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(0,r,e.top),this.pointOnSphere(0,-r,e.bottom),this.pointOnSphere(-t,0,e.left),this.pointOnSphere(t,0,e.right)}parallelCenterPoints(e){const t=this.observerRenderSpace,o=this.farDistanceRenderSpace*Math.sin(r(this.verticalFieldOfView/2)),i=h(R,this.tiltedUpVector,o);l(e.top,t,i),n(e.bottom,t,i)}renderSpaceToPoint(e,t){const r=R;return this.renderCoordsHelper.fromRenderCoords(e,r,t),new g(r[0],r[1],r[2],t)}_pointToRenderSpace(e,t){const r=f(e.toArray());return this.renderCoordsHelper.toRenderCoords(r,e.spatialReference,t),t}_computeTargetRenderSpace(e){const{leftVector:t,northVector:o,upVector:i}=this,s=this.farDistanceRenderSpace,n=d();return h(n,o,s),v(n,n,-r(this.heading),i),v(n,n,-r(this.tiltParallelToSurface),t),l(n,e,n),n}};e([o()],m.prototype,\"renderCoordsHelper\",void 0),e([o()],m.prototype,\"viewshed\",void 0),e([o()],m.prototype,\"observerRenderSpaceOverride\",void 0),e([o()],m.prototype,\"observer\",null),e([o()],m.prototype,\"effectiveObserverRenderSpace\",null),e([o()],m.prototype,\"effectiveObserver\",null),e([o()],m.prototype,\"effectiveTargetRenderSpace\",null),e([o()],m.prototype,\"farDistance\",null),e([o()],m.prototype,\"farDistanceRenderSpace\",null),e([o()],m.prototype,\"heading\",null),e([o()],m.prototype,\"tilt\",null),e([o()],m.prototype,\"feature\",null),e([o()],m.prototype,\"tiltParallelToSurface\",null),e([o()],m.prototype,\"horizontalFieldOfView\",null),e([o()],m.prototype,\"verticalFieldOfView\",null),e([o()],m.prototype,\"observerRenderSpace\",null),e([o()],m.prototype,\"target\",null),e([o()],m.prototype,\"targetRenderSpace\",null),e([o()],m.prototype,\"targetDirection\",null),e([o()],m.prototype,\"tiltedUpVector\",null),e([o()],m.prototype,\"_basis\",null),e([o()],m.prototype,\"upVector\",null),e([o()],m.prototype,\"northVector\",null),e([o()],m.prototype,\"leftVector\",null),e([o()],m.prototype,\"rightVector\",null),e([o()],m.prototype,\"isValid\",null),e([o()],m.prototype,\"metersPerUnit\",null),m=S=e([i(\"esri.views.3d.analysis.Viewshed.ViewshedComputedData\")],m);const R=d();export{m as ViewshedComputedData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{rad2deg as s,deg2rad as e}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mul as i,fromTranslation as n,fromScaling as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as l,fromArray as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import m from\"../../webgl/RenderCamera.js\";import{assert as h}from\"./Util.js\";let g=class extends m{constructor(){super(...arguments),this.sectionAngles=l()}get sectionAnglesDeg(){return p(this.sectionAngles.map((t=>s(t))))}set sectionAnglesDeg(t){this.sectionAngles=p(t.map((t=>e(t))))}get projectionMatrix(){return i(c(),this.sectionMatrix,this._projectionMatrixInternal)}get sectionMatrix(){const t=this.sectionAngles[0],s=this.sectionAngles[1],e=this.sectionAngles[2],o=this.sectionAngles[3];h(t<=s),h(e<=o);const r=2*Math.tan(this.fovX/2),l=2*Math.tan(this.fovY/2),p=Math.tan(t),m=Math.tan(s),g=Math.tan(e),f=m-p,M=Math.tan(o)-g,j=r/f,u=l/M,A=-(p+f/2)/r*2,x=-(g+M/2)/l*2,b=c();n(b,[A,x,0]);const d=c();a(d,[j,u,1]);const v=c();return i(v,d,b)}get _sectionRatioX(){const t=Math.tan(this.sectionAngles[0]),s=Math.tan(this.sectionAngles[1]),e=2*Math.tan(this.fovX/2);return Math.min(1,(s-t)/e)}setViewport(t,s){const e=s*this._sectionRatioX;return this.viewport=[t[0],t[1],e,s],e}};t([o()],g.prototype,\"sectionAngles\",void 0),t([o()],g.prototype,\"sectionAnglesDeg\",null),t([o()],g.prototype,\"projectionMatrix\",null),t([o()],g.prototype,\"sectionMatrix\",null),t([o()],g.prototype,\"_sectionRatioX\",null),g=t([r(\"esri.views.3d.webgl-engine.lib.ViewshedFaceCamera\")],g);export{g as ViewshedFaceCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{releaseMaybe as e}from\"../../../../core/maybe.js\";import{fromRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as r,g as h,v as a,t as o}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ColorFormat as n,DepthFormat as l}from\"../../webgl/formats.js\";import{applyTextureResizeFloorModulo as u,applyTextureResizeModulo as f}from\"./textureUtils.js\";import{ViewshedFaceCamera as m}from\"./ViewshedFaceCamera.js\";import{FramebufferBit as d}from\"../../../webgl/enums.js\";class p{constructor(){this.textureSizeQuality=1,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.textureSizeMultiple=128,this.toleranceSides=5,this.toleranceBottomTop=10}textureSizeModifier(t){const e=t?this.textureSizeModHighQuality:this.textureSizeModLowQuality;return this.textureSizeQuality*e}textureResizeModulo(t){return Math.ceil(t/this.textureSizeMultiple)*this.textureSizeMultiple}}const _=[\"front\",\"left\",\"right\",\"back\",\"top\",\"bottom\"];function g(t){return![\"top\",\"bottom\"].includes(t)}class x{constructor(t){this._fbos=t,this._minTextureSize=16,this._faces={},this._width=0,this._height=0,this.settings=new p,this._maxTextureSize=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}get depthTexture(){return this._handle?.getTexture()}get ready(){return null!=this.depthTexture&&0!==this._width&&0!==this._height}get nearFar(){const t=this.faces;return 0===t.length?null:t[0].nearFar}get numActiveFaces(){const t=this._faces;let e=0;return Object.keys(t).forEach((i=>{t[i]&&(e+=1)})),e}get faces(){const t=this._faces,e=[];for(const i of _){const s=t[i];s&&e.push(s)}return e}get atlasRegions(){return this.faces.map((t=>[t.x/this._width,(t.x+t.width)/this._width,t.y/this._height,(t.y+t.height)/this._height]))}get viewshedProjectionMatrices(){return this.faces.map((t=>t.projectionMatrix))}get viewshedViewMatrices(){return this.faces.map((t=>t.viewMatrix))}_setupFaceCamera(e,n,l,u){const{effectiveObserverRenderSpace:f,tiltedUpVector:d,targetRenderSpace:p,farDistanceRenderSpace:_,horizontalFieldOfView:x,verticalFieldOfView:w}=n,b=c();r(b,p,f);const M=c(),S=c(),z=(t,e)=>{const r=c(),a=s();return i(a,t,e),o(r,b,a),h(r,f,r),r};let T,F=d;const v=Math.min(90,x),B=Math.min(90,Math.max(0,(x-90)/2));let j=-45,y=45,O=-45,R=45;if(g(e)){const e=e=>t(e,-45,45);O=e(-w/2)-this.settings.toleranceBottomTop,R=e(+w/2)+this.settings.toleranceBottomTop}switch(e){case\"front\":T=p,j=-v/2,y=v/2;break;case\"left\":T=z(Math.PI/2,d),j=45-B;break;case\"right\":T=z(-Math.PI/2,d),y=-45+B;break;case\"top\":T=h(M,f,d),F=a(S,b);break;case\"bottom\":T=r(M,f,d),F=b;break;case\"back\":T=z(Math.PI,d)}const k=new m({center:T,eye:f,up:F,far:_});k.sectionAnglesDeg=[j-this.settings.toleranceSides,y+this.settings.toleranceSides,O,R],k.fovY=Math.PI/2;const E=k.setViewport(l,u);return this._faces[e]=k,E}isActive(t){return this._computeActiveFaces(t).size>0}_computeActiveFaces(t){const e=new Set,{horizontalFieldOfView:i,verticalFieldOfView:s}=t,r=-s/2,h=s/2;return 0===i||0===s||(r<=45&&h>=-45&&e.add(\"front\"),i>90&&(e.add(\"left\"),e.add(\"right\")),i>270&&e.add(\"back\"),h>45-this.settings.toleranceBottomTop&&e.add(\"top\"),r<-45+this.settings.toleranceBottomTop&&e.add(\"bottom\")),e}_computeBaseTextureSize(e,i,s,r){const h=i/e.pixelRatio,a=this.settings.textureSizeModifier(s),o=Math.max(e.fullWidth,e.fullHeight),c=f(Math.floor(o*h*a)),n=Math.floor(this._maxTextureSize/r),l=t(c,this._minTextureSize,n);return u(l)}_ensureFBO(t){const e=this._width,i=this._height;this._handle?.fbo?.width===e&&this._handle?.fbo?.height===i||(this._handle?.release(),this._handle=this._fbos.acquire(e,i,\"viewshed shadow map\",n.RGBA4));const s=t?l.DEPTH_STENCIL_TEXTURE:l.DEPTH16_BUFFER;this._handle.acquireDepth(s)}clearFBO(t){const e=this._fbos.rctx;this._ensureFBO(t),e.bindFramebuffer(this._handle?.fbo),e.setClearColor(1,1,1,1),e.clear(d.COLOR|d.DEPTH)}dispose(){this._handle=e(this._handle)}start(t,e,i,s,r=!1){this._faces={};const h=this._computeActiveFaces(e),a=h.size;if(0===a)return!1;const o=this._computeBaseTextureSize(t,s,i,a);let c=0,n=0,l=0;return _.filter((t=>h.has(t))).forEach((t=>{const i=w(t,a);i>n&&(l=Math.max(l,c),c=0),n=i;const s=i*o;c+=this._setupFaceCamera(t,e,[c,s],o)})),l=Math.max(l,c),this._width=this.settings.textureResizeModulo(l),this._height=b(a)*o,this.clearFBO(r),!0}finish(){this._handle?.detachDepth()}get test(){return{faces:this._faces,faceTypes:_,width:this._width,height:this._height,getFBO:()=>this._fbos.acquire(this._width,this._height,\"viewshed shadow map\",n.RGBA4)}}}function w(t,e){if(e<4)return 0;const i=\"front\"===t||\"left\"===t;return 4===e?i?0:1:i||\"right\"===t?0:1}function b(t){return t<4?1:2}export{x as ViewshedShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../chunks/Viewshed.glsl.js\";import{makePipelineState as o,defaultColorWrite as s,premultipliedAlphaToPremultipliedAlpha as t}from\"../../../webgl/renderState.js\";class l extends r{constructor(r,o,s){super(r,o,new e(i,(()=>import(\"./Viewshed.glsl.js\"))),s)}initializePipeline(){return o({colorWrite:s,blending:t})}}export{l as ViewshedTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import s from\"../../../../core/Collection.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{disposeMaybe as r}from\"../../../../core/maybe.js\";import{watch as i,initial as o,when as a,sync as n}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{translate as c,fromTranslation as p,scale as w,mul as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as u,j as f}from\"../../../../chunks/vec32.js\";import{create as v,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{l as V}from\"../../../../chunks/sphere.js\";import{InternalRenderCategory as g}from\"../../webgl.js\";import b from\"../../webgl/RenderNode.js\";import{RenderRequestType as M}from\"./basicInterfaces.js\";import{RenderFeature as j}from\"./RenderFeature.js\";import{ViewshedShadowMap as S}from\"./ViewshedShadowMap.js\";import{V as y}from\"../../../../chunks/Viewshed.glsl.js\";import{ViewshedTechnique as R}from\"../shaders/ViewshedTechnique.js\";let P=class extends b{get shadowMap(){return this._shadowMap}get hasViewsheds(){return this._viewsheds.length>0}get _contentPixelRatio(){return this.view.state.contentPixelRatio}get _viewshedsInView(){return this._viewsheds.items.filter((e=>A(this.view,e)))}constructor(e){super(e),this._techniques=null,this._passParameters=new y,this._viewsheds=new s,this._shadowMap=null,this.consumes={required:[g.VIEWSHED],optional:[\"normals\"]},this.produces=g.VIEWSHED,this.requireGeometryDepth=!0}initialize(){this._shadowMap=new S(this.fboCache),this.addHandles([i((()=>this.view.resolutionScale),(e=>{const s=this._shadowMap;s&&(s.settings.textureSizeQuality=e)}),o),a((()=>!this.hasViewsheds),(()=>this._shadowMap?.dispose())),a((()=>this.view._stage.renderView.techniques),(e=>this._techniques=e),o),i((()=>this._viewshedsInView.map((e=>[e.observerRenderSpace,e.heading,e.tilt,e.farDistance,e.horizontalFieldOfView,e.verticalFieldOfView]))),(()=>this.requestRender(M.UPDATE)),n)])}destroy(){this._shadowMap=r(this._shadowMap)}precompile(){if(this.hasViewsheds){this._techniques?.precompile(R);for(const e of this._viewshedsInView)if(this._shadowMap?.isActive(e))return void this.view._stage.renderer.precompileViewshedShadowMap()}}render(e){const s=this.bindParameters,t=this.renderingContext,r=e.find((({name:e})=>e===g.VIEWSHED));if(!this.hasViewsheds||!s.depth)return r;this._passParameters.shadowMap=this._shadowMap??this._passParameters.shadowMap,this._passParameters.normals=e.find((({name:e})=>\"normals\"===e))?.getTexture();const i=this._techniques?.acquire(R);if(!i?.compiled)return this.requestRender(M.UPDATE),i?.release(),r;const o=this.view._stage.renderer.isFeatureEnabled(j.HighResolutionViewshed);for(const a of this._viewshedsInView){if(!this._renderShadowCubeMap(s,a,o)||!this._shadowMap?.ready)continue;const e=this._setupViewshedParameters(a,s.camera);t.bindTechnique(i,s,e),t.bindFramebuffer(r.fbo),t.screen.draw()}return i.release(),this.shadowMap?.dispose(),r}updateViewsheds(e){const s=this._viewsheds,{removes:t,adds:r}=e;if(t&&(Array.isArray(t)?s.removeMany(t):s.remove(t)),r)if(Array.isArray(r)){const e=r.filter((e=>!s.includes(e)));s.addMany(e)}else s.includes(r)||s.add(r)}_renderShadowCubeMap(e,s,t){const r=this._shadowMap;if(!r)return!1;const i=this.view.basemapTerrain.hasStencilEnabledExtents,o=r.start(e.camera,s,t,this._contentPixelRatio,i);return o&&r.faces.forEach((e=>this.view._stage.renderer.renderViewshedShadowMap(e))),r.finish(),o}_setupViewshedParameters(e,s){const r=this._shadowMap;if(!r)return this._passParameters;const i=this._passParameters,o=e.effectiveObserverRenderSpace;i.localOrigin=o,i.observerOffset=u(I,e.observerRenderSpace,e.effectiveObserverRenderSpace),i.fovs=[t(e.horizontalFieldOfView),t(e.verticalFieldOfView)],i.headingAndTilt=[t(e.heading),t(e.tiltParallelToSurface)],i.upVector=e.tiltedUpVector;const a=x(e.targetRenderSpace,o);i.targetVector=a;const n=new Array,h=new Array;for(let t=0;t<r.numActiveFaces;t++)c(O,r.viewshedViewMatrices[t],o),n.push(...O),q(r.viewshedProjectionMatrices[t],O,D),h.push(...D);return i.viewMatrices=n,i.projectionMatrices=h,i.volumeOffset=this.selectedViewshed?.()===e.viewshed?E(e,this.view,s.eye):0,i}get test(){return{viewsheds:this._viewsheds,shadowMap:this._shadowMap,viewshedsInView:this._viewshedsInView}}};function x(e,s){const t=v();return u(t,e,s)}function q(e,s,t){const r=_(.5,.5,.5);return p(t,r),w(t,t,r),l(t,t,e),l(t,t,s),t}function A(e,s){const t=V(s.observerRenderSpace,s.farDistanceRenderSpace);return!!e.ready&&e.frustum.intersectsSphere(t)}function E(e,s,t){if(null==e)return 0;const{observerRenderSpace:r,targetRenderSpace:i}=e,o=f(t,r)>f(t,i)?e.observer:e.target;return s.pixelSizeAt(o)}e([h()],P.prototype,\"_techniques\",void 0),e([h()],P.prototype,\"selectedViewshed\",void 0),e([h()],P.prototype,\"shadowMap\",null),e([h()],P.prototype,\"hasViewsheds\",null),e([h()],P.prototype,\"_contentPixelRatio\",null),e([h()],P.prototype,\"_viewshedsInView\",null),e([h()],P.prototype,\"consumes\",void 0),e([h()],P.prototype,\"produces\",void 0),P=e([d(\"esri.views.3d.webgl-engine.lib.Viewshed\")],P);const I=v(),O=m(),D=m();export{P as Viewshed,E as computeOffsetScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{getFeatureId as s,updatePointsFromFeatureReference as t}from\"../../../analysis/featureReferenceUtils.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{abortMaybe as o,destroyMaybe as a}from\"../../../core/maybe.js\";import{mapCollection as d,watch as l,when as n,initial as h,syncAndInitial as c}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as w,p as u}from\"../../../chunks/vec32.js\";import{create as v}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as V,isLoaded as f}from\"../../../geometry/projection.js\";import{AnalysisView3D as y}from\"./AnalysisView3D.js\";import{logFailedGeometryProjectionError as _}from\"./support/projectionUtils.js\";import{ViewshedAnalysisVisualization as j}from\"./Viewshed/ViewshedAnalysisVisualization.js\";import{ViewshedComputedData as b}from\"./Viewshed/ViewshedComputedData.js\";import g from\"./Viewshed/ViewshedTool.js\";import{newIntersector as R}from\"../webgl-engine/lib/Intersector.js\";import{StoreResults as D}from\"../webgl-engine/lib/IntersectorInterfaces.js\";import{Viewshed as C}from\"../webgl-engine/lib/Viewshed.js\";import{connectAnalysisViewToTool as F,removeAnalysisViewTool as H,activateAnalysisViewTool as T}from\"../../analysis/analysisViewUtils.js\";let k=class extends(y(i)){constructor(e){super(e),this.type=\"viewshed-view-3d\",this.analysis=null,this.tool=null,this._selectedViewshed=null,this.viewshedComputedDataHandles=null,this._placementTask=null,this._viewshedRenderer=null,this._intersector=null}get selectedViewshed(){return this._selectedViewshed}set selectedViewshed(e){this._unselectOtherViewsheds(e),this._selectedViewshed=e}get selectedViewshedComputedData(){return this.tool?.selectedViewshedComputedData}initialize(){const e=this.view;this._viewshedRenderer=new C({view:e,selectedViewshed:()=>this.selectedViewshed??this.tool?.stagedViewshed}),this._intersector=R(this.view.state.viewingMode),this._intersector.options.hud=!1,this._intersector.options.store=D.MIN,this.viewshedComputedDataHandles=d((()=>this.analysis.viewsheds),(s=>{const t=new b({renderCoordsHelper:e.renderCoordsHelper,viewshed:s}),i=Symbol();return this.addHandles([l((()=>({valid:t.isValid(),canProject:V(t.observer?.spatialReference,this.view.spatialReference)||f()})),(({valid:e,canProject:s},i)=>{this.visible&&(e&&s?this._addViewshedsToRenderer(t):i?.valid&&i?.canProject&&this._removeViewshedsFromRenderer(t),s||_(this.analysis,t.observer.spatialReference,r.getLogger(this)))}),h),l((()=>[e.state.camera,e.slicePlane,t.viewshed.observer,t.targetRenderSpace,t.verticalFieldOfView,t.horizontalFieldOfView,t.feature]),(()=>{this._updateObserverFromFeature(e,t)}),h)]),{viewshedComputedData:t,remove:()=>{this.removeHandles(i),this._removeViewshedsFromRenderer(t),t.destroy()}}})),this._analysisVisualization=new j({view:e,analysisViewData:this,isDecoration:!this.parent}),this.addHandles([l((()=>this.visible),(e=>{const s=this.viewshedComputedDataHandles;if(null==s)return;e||(this.selectedViewshed=null);const t=s.map((e=>e.viewshedComputedData)).filter((e=>e.isValid())).toArray();e?this._addViewshedsToRenderer(t):this._removeViewshedsFromRenderer(t)})),l((()=>e.renderCoordsHelper),(e=>{this.viewshedComputedDataHandles?.forEach((({viewshedComputedData:s})=>s.renderCoordsHelper=e))})),F(this,g),n((()=>this.interactive),(()=>{this._unselectOtherViewsheds(this.selectedViewshed)}),c)])}destroy(){this._placementTask=o(this._placementTask),H(this),this._analysisVisualization=a(this._analysisVisualization);const e=this.viewshedComputedDataHandles;null!=e&&this._removeViewshedsFromRenderer(e.map((e=>e.viewshedComputedData)).toArray())}async createViewsheds(e){return this._placementTask=o(this._placementTask),this._placementTask=T(this,e),null!=this.tool&&this.tool.createViewsheds(),await this._placementTask.promise}_addViewshedsToRenderer(e){this._viewshedRenderer.updateViewsheds({adds:e})}_removeViewshedsFromRenderer(e){this._viewshedRenderer.updateViewsheds({removes:e})}_updateObserverFromFeature(e,i){const r=i.observerRenderSpace,o=i.targetRenderSpace,a=w(v(),r),d={observer:r,observerSurfaceNormal:null,observerAdjusted:a,observerFeatureId:s(i.feature),target:o,targetSurfaceNormal:null,targetAdjusted:w(v(),o),targetFeatureId:null};t(e,this._intersector,d,(e=>Math.min(e,.05*i.farDistanceRenderSpace))),i.observerRenderSpaceOverride=u(a,r)?null:a}_unselectOtherViewsheds(e){if(null!=e)for(const s of this.view.tools.items)s!==this.tool&&s instanceof g&&(s.analysisViewData.selectedViewshed=null)}get test(){}};e([p({readOnly:!0})],k.prototype,\"type\",void 0),e([p({constructOnly:!0,nonNullable:!0})],k.prototype,\"analysis\",void 0),e([p()],k.prototype,\"tool\",void 0),e([p()],k.prototype,\"_selectedViewshed\",void 0),e([p()],k.prototype,\"selectedViewshed\",null),e([p()],k.prototype,\"selectedViewshedComputedData\",null),e([p()],k.prototype,\"viewshedComputedDataHandles\",void 0),e([p()],k.prototype,\"_analysisVisualization\",void 0),e([p()],k.prototype,\"_placementTask\",void 0),e([p()],k.prototype,\"_viewshedRenderer\",void 0),k=e([m(\"esri.views.3d.analysis.ViewshedAnalysisView3D\")],k);const O=k;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{tryProjectWithZConversion as o}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as e}from\"../../support/ElevationProvider.js\";function r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{r as applyProjectionAndElevationAlignment,t as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fromTranslation as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as r,t as s}from\"../../../../chunks/vec32.js\";import{ZEROS as o,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Object3DVisualElement as n}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as l,createGeometry as m}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as p}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as h}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class d extends n{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new h({width:1,color:a(1,0,1,1),stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerWidth:1,hasPolygonOffset:!1,renderOccluded:p.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromPoint(e,t=1e3){const r=i();this.view.renderCoordsHelper.toRenderCoords(e,r)&&this.setGeometryFromRenderSpacePoint(r,t)}setGeometryFromRenderSpacePoint(e,t=1e3){this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,s=i(),o=i(),a=100,n=[];r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,o=e.basis2,a=.5,n=i(),l=i(),m=i(),p=i();n[0]=r[0]-s[0]*a-o[0]*a,n[1]=r[1]-s[1]*a-o[1]*a,n[2]=r[2]-s[2]*a-o[2]*a,l[0]=r[0]-s[0]*a+o[0]*a,l[1]=r[1]-s[1]*a+o[1]*a,l[2]=r[2]-s[2]*a+o[2]*a,m[0]=r[0]+s[0]*a+o[0]*a,m[1]=r[1]+s[1]*a+o[1]*a,m[2]=r[2]+s[2]*a+o[2]*a,p[0]=r[0]+s[0]*a-o[0]*a,p[1]=r[1]+s[1]*a-o[1]*a,p[2]=r[2]+s[2]*a-o[2]*a,t.push([n[0],n[1],n[2]]),t.push([l[0],l[1],l[2]]),t.push([m[0],m[1],m[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(t){const r=t.endRenderSpace;this.transform=e(f,r);const{points:s}=t.createRenderGeometry(r,this.view.renderCoordsHelper);this.geometry=[s]}setGeometryFromSegments(t,r=o){this.transform=e(f,r),this.geometry=t.map((e=>e.createRenderGeometry(r,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>s(i(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:e,writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:e})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:e})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of l(this.geometry)){const r=m(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const f=t();export{d as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as p}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as m}from\"../../webgl-engine/lib/VertexAttribute.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),j(e,o,l),T(e,o,l),D(e,o,l),w(e,o,l),y(e,o,l),E(e,o,i),new f(t,o,n,p.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([m.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([m.COLOR,new c(n??o,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([m.NORMAL,new c(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([m.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([m.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([m.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([m.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)i(u,t,p,t,f);const b=u.length/3,g=l(b+1);let h=I,T=F,D=0,j=0;t(h,p[j++],p[j++]),j++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),t(T,p[j++],p[j++]),j++,D+=e(h,T),g[n]=D,[h,T]=[T,h];o.push([m.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{translate as r,invertOrIdentity as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{zeros as i}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{CameraSpace as t}from\"./CameraSpace.glsl.js\";import{NoParameters as a,glsl as c}from\"../../shaderModules/interfaces.js\";import{Matrix4PassUniform as s}from\"../../shaderModules/Matrix4PassUniform.js\";class m extends a{constructor(){super(...arguments),this.localOrigin=i()}}function n(i){i.include(t),i.fragment.uniforms.add(new s(\"inverseViewMatrix\",((i,t)=>{const a=r(o(),t.camera.viewMatrix,i.localOrigin);return e(a,a)}))).code.add(c`vec4 reconstructLocalPosition(vec2 coord, float linearDepth) {\nvec4 cameraSpace = vec4(reconstructPosition(coord, linearDepth), 1.0);\nreturn inverseViewMatrix * cameraSpace;\n}`)}export{m as LocalFromScreenSpacePassParameters,n as localFromScreenSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{newIntersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as o}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function t(t){const n=e(t);return n.options.store=o.MIN,n.options.excludeLabels=!0,n}export{t as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../../core/arrayUtils.js\";import{makeHandle as t,handlesGroup as i}from\"../../core/handleUtils.js\";import{getOrCreateMapValue as o}from\"../../core/MapUtils.js\";import{ViewEventPriorities as r}from\"../input/InputManager.js\";import{primaryKey as n}from\"../input/keys.js\";const s=\"z\",a=\"r\",p={redo:a,undo:s,center:\"Alt\",constraint:\"Shift\",cancel:\"Escape\",delete:[\"Backspace\",\"Delete\"],complete:\"Enter\",vertexAdd:\"f\",pan:\" \"},c={toggle:\"Control\"},f={enterInputMode:\"Tab\",commit:\"Enter\",discard:\"Escape\",next:\"Tab\"},d={moveUp:{key:\"ArrowUp\",modifier:\"Shift\",repeats:!0},moveDown:{key:\"ArrowDown\",modifier:\"Shift\",repeats:!0},moveLeft:{key:\"ArrowLeft\",modifier:\"Shift\",repeats:!0},moveRight:{key:\"ArrowRight\",modifier:\"Shift\",repeats:!0},scaleUp:{key:\"+\",modifier:\"Shift\"},scaleDown:{key:\"-\",modifier:\"Shift\"},factorModifier:{key:n,continuePropagation:!0},toggleOpacity:\"t\",preserveAspectRatio:{key:\"Shift\",continuePropagation:!0},rotateIncrements:{key:\"Shift\",continuePropagation:!0},undo:s,redo:a};class h{constructor(){this._bindings=new Map}add(e,t){return this.addToggle(e,(e=>{\"key-down\"===e.type&&t(e)}))}addToggle(i,r){const n=m.fromDefinition(i,r),s=o(this._bindings,n.key,(()=>[]));return s.push(n),t((()=>e(s,n)))}register(e,t=r.WIDGET){return i([e.on(\"key-down\",(t=>this.dispatch(e.inputManager,t)),t),e.on(\"key-up\",(t=>this.dispatch(e.inputManager,t)),t)])}dispatch(e,t){const i=t.key,o=this._bindings.get(i);if(o)for(const r of o)r.process(e,t)}}class m{constructor(e,t,i,o,r){this.key=e,this.modifiers=t,this.repeats=i,this.continuePropagation=o,this.callback=r}process(e,t){if(!(t.key!==this.key||\"repeat\"in t&&t.repeat&&!this.repeats)){for(const t of this.modifiers)if(!e.isModifierKeyDown(t))return;this.continuePropagation||t.stopPropagation(),this.callback(t)}}static fromDefinition(e,t){if(\"string\"==typeof e)return new m(e,[],!1,!1,t);const{key:i,modifier:o,repeats:r,continuePropagation:n}=e;return new m(i,o?Array.isArray(o)?o:[o]:[],!!r,!!n,t)}}export{h as KeyBindings,d as mediaKeys,p as sketchKeys,c as snappingKeys,f as tooltipKeys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{distance as n,dot as r,squaredLength as e,scale as s,subtract as o,add as c,scaleAndAdd as u,copy as i,length as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{clone as a,create as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,r,e){const s=(r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0]);return Math.abs(s)/n(r,e)}function E(t,n,o){const c=r(o,n)/e(o);return s(t,o,c)}function I(t,n,r,e,s=r){return o(x,e,r),o(g,n,s),E(A,g,x),c(t,s,A)}function L(t,n,s,c){o(x,c,s),o(g,n,s);const f=r(x,g)/e(x);return f>0?u(t,s,x,f):i(t,s)}function N(t,n,r,e){o(x,n,r);const s=e/f(x);return u(t,r,x,s)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[a(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[a(e)]:[]}function b(t,n){const r=t.start,e=t.end,s=n.start,c=n.end,i=o(x,e,r),f=o(M,c,s),a=m(i,f);if(Math.abs(a)<=v)return[];const p=o(g,r,s),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||n.type===j.LINE)return[u(A,r,i,h)]}else if(t.type===j.LINE&&(E>=0||n.type===j.LINE))return[u(A,r,i,h)];return[]}function d(t,n,s){const c=[],i=o(x,t.end,t.start),f=o(M,t.start,n),a=e(i),p=2*r(i,f),m=p*p-4*a*(e(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&c.push(u(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),r=(-p+n)/(2*a);(t.type===j.LINE||r>=0)&&c.push(u(A,t.start,i,r));const e=(-p-n)/(2*a);(t.type===j.LINE||e>=0)&&c.push(u(g,t.start,i,e))}return c}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=p(),M=p(),g=p(),A=p();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n"],"names":["u","s","t","constructor","e","super","this","observer","farDistance","heading","tilt","horizontalFieldOfView","verticalFieldOfView","feature","isValid","equals","a","r","l","type","c","json","write","prototype","Number","nonNullable","range","min","isRequired","n","i","normalize","m","max","o","read","p","d","layer","id","objectId","objectIdField","attributes","uid","concat","b","writer","_e$layer","layerId","target","String","origins","ObjectId","_R","_A","sceneIntersectionHelper","f","observerFeatureId","I","targetFeatureId","g","v","F","y","options","store","ALL","intersectToolIntersectorRay","N","w","R","A","results","all","_N","_w","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","h","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","targetSurfaceNormal","Math","P","arguments","shadowMap","depthTexture","nearFar","numActiveFaces","atlasRegions","targetVector","upVector","fovs","headingAndTilt","observerOffset","projectionMatrices","flat","viewMatrices","volumeOffset","M","V","fragment","include","uniforms","add","_i$depth","depth","attachment","camera","inverseProjectionMatrix","viewInverseTransposeMatrix","_e$shadowMap$nearFar","x","normals","constants","code","_templateObject","_taggedTemplateLiteral","_templateObject2","main","_templateObject3","Object","freeze","defineProperty","__proto__","ViewshedPassParameters","build","Symbol","toStringTag","value","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","constructOnly","Boolean","readOnly","has","cos","C","S","U","k","q","collisionRadius","fovUnfocusedArcWidth","fovFocusedArcWidth","scaleOrientSize","scaleOrientHandleRadius","scaleOrientMinDistance","scaleOrientArrowTipLength","scaleOrientArrowTipFocusMultiplier","observerSize","hoverTimeoutMilliseconds","viewAngleThreshold","getFovArcWidth","getScaleOrientArrowTipLength","frameWidthNotSelected","frameWidthSelected","frameColor","observerPointConfiguration","size","pixelSnappingEnabled","primitive","elevationInfo","mode","offset","outlineSize","color","toUnitRGBA","shapeMaterialParameters","renderOccluded","Occlude","cullFace","Back","writeDepth","_ref","tiltedUpVector","rightVector","observerRenderSpace","plane","D","renderCoordsHelper","toRenderCoords","position","direction","E","abs","next","targetRenderSpace","basis1","basis2","origin","acos","farDistanceRenderSpace","sin","renderStart","renderEnd","action","deltaAngle","_handles","_tool","tool","_view","view","_focusedArcMaterial","_createArcMaterial","_unfocusedArcMaterial","_createManipulators","forEachManipulator","manipulators","destroy","remove","_manipulators","createDragPipeline","values","map","manipulator","side","_ref6","W","z","_","manipulatorType","O","SCALE","updateManipulatorsTransform","arcCentersPoints","J","_forEachManipulatorInfo","_updateArcManipulatorTransform","updateManipulatorVisuals","_updateArcManipulatorVisuals","_ref2","length","undefined","push","Unfocused","instantiate","material","Focused","collisionType","paths","renderObjects","radius","_ref3","renderLocation","H","B","L","modelTransform","_createArcManipulator","left","right","top","bottom","forEach","_ref4","metadata","pairedManipulator","autoScaleRenderObjects","worldSized","events","on","_r$metadata","hovering","grabbing","OccludeAndTransparent","isDecoration","width","effectiveTheme","accentColor","setParameters","_ref5","test","PI","_setupManipulatorVisual","_createMaterial","transformation","_manipulatorHeading","_manipulatorTilt","_manipulatorDistance","createHeadingDragPipeline","tiltParallelToSurface","ROTATE","createTiltDragPipeline","targetDirection","createDistanceDragPipeline","location","updateManipulators","_color","_moveManipulation","_observerManipulator","_fieldOfViewManipulation","_scaleOrientManipulation","_forceHoveringTask","_forceHoveringTestPromise","_grabbing","viewshedComputedData","initialize","_createMoveManipulation","parentTool","addHandles","_this$viewshedCompute","_this$viewshedCompute2","angle","removeHandles","_buildObserverDragPipeline","_buildFOVDragPipeline","_buildScaleOrientDragPipeline","filter","viewshedCompData","hFOV","vFOV","_this$viewshedCompute3","_this$viewshedCompute4","analysisViewData","selectedViewshedComputedData","fovManipulationAvailable","isPlacingTarget","nonFOVManipulationAvailable","creating","available","_forEachManipulator","_someManipulatorHovering","subToolHandles","subTool","_resetHoveringTask","_someManipulatorSelected","async","_this$_forceHoveringT","_updateManipulatorVisibility","_e$tool","updateInteractionVisualsVisibility","_setInteractive","hasManipulator","_e$tool2","viewshed","_this$viewshedCompute5","_this$viewshed","discManipulator","xyManipulation","moveInteractionState","dragging","scaleOrientInteractionState","_forEachManipulation","onManipulatorSelectionChanged","selectedViewshed","selected","snapToScene","xyAvailable","xyAxisAvailable","zAvailable","spatialReference","steps","cancel","fromGeometry","viewingMode","operations","data","geometry","G","clamp","metersPerUnit","disableDisplay","moveManipulation","fieldOfViewManipulation","scaleOrientManipulation","setHoveringTimeoutPromise","removeIncompleteOnCancel","automaticManipulatorSelection","_stagedViewshed","_stagedViewshedComputedData","_creationState","_interactionVisualElements","_settings","getTheme","_selectedManipulator","_intersector","state","_createInteractionVisuals","viewshedComputedDataHandles","analysis","some","finishToolCreation","_this$_findSubTool","_findSubTool","firstGrabbedManipulator","_this$_selectedSubToo","_this$_findSubTool2","_selectManipulator","_selectedSubTool","activeTool","_updateInteractionVisualsLocation","onDeactivate","removeStaged","cursor","_this$_findSubTool3","_this$_selectedSubToo2","_this$_selectedSubToo3","stagedViewshed","active","createViewsheds","onInputEvent","_doubleClickHandler","_pointerMoveHandler","key","_cancelKeyHandler","delete","includes","_deleteKeyHandler","onInputEventAfter","_clickPlacementHandler","hasFocusedManipulators","_intersectScreen","_i$mapPoint$z","mapPoint","clone","viewsheds","_updateStagedViewshed","scenePoint","stopPropagation","basisMatrixAtPosition","K","intersectToolIntersectorScreen","fromRenderCoords","visualElements","attached","style","glowWidth","heightPlane","innerWidth","extensionType","zVerticalLine","writeDepthEnabled","laserline","verticalLine","apply","heightManifoldTarget","intersectsWorldUpAtLocation","setStartEndFromWorldDownAtLocation","_this$subToolHandles","find","_material","_viewshedComputedData","applyProperties","updateTransform","transform","createExternalResources","destroyExternalResources","forEachExternalMaterial","createGeometries","ceil","POSITION","addGeometry","isNaN","_viewshedCorners","topLeft","topRight","bottomLeft","bottomRight","_arcCenterPoints","_parallelCenters","stipplePattern","_observerVisualElement","_shapeVisualElement","_frameLinesVisualElement","_leftArcVisualElement","_rightArcVisualElement","_topArcVisualElement","_bottomArcVisualElement","_centralLongitude","_centralLatitude","cornerPoints","parallelCenterPoints","corners","arcCenters","parallelCenters","_selected","_forEachVisualElement","_updateVisualElements","initial","recreateGeometry","staged","_staged","horFovNot360","_forEachLineVisualElement","_t$creating","observerVisible","_s$tool","_s$tool2","_updateFrameLines","_updateFrameArcs","_updateCentralHelperArcs","leftVector","visualization","_viewshedVisualizations","observerRenderSpaceOverride","_this$viewshed$observ","effectiveObserverRenderSpace","_this$observerRenderS","effectiveObserver","renderSpaceToPoint","effectiveTargetRenderSpace","_computeTargetRenderSpace","_pointToRenderSpace","_basis","northVector","pointOnSphere","toArray","sectionAngles","sectionAnglesDeg","projectionMatrix","sectionMatrix","_projectionMatrixInternal","tan","fovX","fovY","_sectionRatioX","setViewport","viewport","textureSizeQuality","textureSizeModHighQuality","textureSizeModLowQuality","textureSizeMultiple","toleranceSides","toleranceBottomTop","textureSizeModifier","textureResizeModulo","_fbos","_minTextureSize","_faces","_width","_height","settings","_maxTextureSize","rctx","parameters","maxTextureSize","_this$_handle","_handle","getTexture","ready","faces","keys","height","viewshedProjectionMatrices","viewshedViewMatrices","viewMatrix","_setupFaceCamera","center","eye","up","far","isActive","_computeActiveFaces","Set","_computeBaseTextureSize","pixelRatio","fullWidth","fullHeight","floor","_ensureFBO","_this$_handle2","_this$_handle3","_this$_handle4","fbo","release","acquire","RGBA4","DEPTH_STENCIL_TEXTURE","DEPTH16_BUFFER","acquireDepth","clearFBO","_this$_handle5","bindFramebuffer","setClearColor","clear","COLOR","DEPTH","dispose","start","finish","_this$_handle6","detachDepth","faceTypes","getFBO","initializePipeline","colorWrite","blending","_shadowMap","hasViewsheds","_viewsheds","_contentPixelRatio","contentPixelRatio","_viewshedsInView","items","frustum","intersectsSphere","_techniques","_passParameters","consumes","required","VIEWSHED","optional","produces","requireGeometryDepth","fboCache","resolutionScale","_this$_shadowMap","_stage","renderView","techniques","requestRender","UPDATE","precompile","_this$_techniques","_this$_shadowMap2","renderer","precompileViewshedShadowMap","render","_this$_shadowMap3","_e$find","_this$_techniques2","_this$shadowMap","bindParameters","renderingContext","name","compiled","isFeatureEnabled","HighResolutionViewshed","_this$_shadowMap4","_renderShadowCubeMap","_setupViewshedParameters","bindTechnique","screen","draw","updateViewsheds","removes","adds","Array","isArray","removeMany","addMany","basemapTerrain","hasStencilEnabledExtents","renderViewshedShadowMap","_this$selectedViewshe","localOrigin","call","pixelSizeAt","viewshedsInView","_selectedViewshed","_placementTask","_viewshedRenderer","_unselectOtherViewsheds","_this$tool","_this$tool2","hud","MIN","_t$observer","valid","canProject","_addViewshedsToRenderer","_removeViewshedsFromRenderer","getLogger","slicePlane","_updateObserverFromFeature","_analysisVisualization","promise","tools","_e","hasZ","warnOnce","wkid","_hasExternalMaterial","stipplePreferContinuous","isClosed","falloff","hasPolygonOffset","setGeometryFromPoint","setGeometryFromRenderSpacePoint","setGeometryFromExtent","setGeometryFromFrustum","lines","endpoint","setGeometryFromBoundedPlane","setGeometryFromSegment","endRenderSpace","points","createRenderGeometry","setGeometryFromSegments","getTransformedGeometry","_geometry","innerColor","stippleOffColor","polygonOffset","mapPositions","attributeData","removeDuplicateStartEnd","slice","indices","colorFeature","_t$attributeData$size","sizeFeature","SIZE","normal","NORMAL","COLORFEATUREATTRIBUTE","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","overlayInfo","Global","isGeographic","DISTANCETOSTART","Line","intersect","dash","dot","none","solid","pattern","deactivate","created","resetCreated","_set","excludeLabels","redo","undo","constraint","complete","vertexAdd","pan","toggle","enterInputMode","commit","discard","moveUp","modifier","repeats","moveDown","moveLeft","moveRight","scaleUp","scaleDown","factorModifier","continuePropagation","toggleOpacity","preserveAspectRatio","rotateIncrements","_bindings","Map","addToggle","fromDefinition","register","WIDGET","dispatch","inputManager","get","process","modifiers","callback","repeat","isModifierKeyDown","end","LINE","sqrt","RAY"],"sourceRoot":""}