{"version":3,"file":"static/js/9565.2e1492ef.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f32.js","../node_modules/@arcgis/core/layers/support/floorFilterUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js","../node_modules/@arcgis/core/views/interactive/snapping/SceneSnappingManagerPool.js","../node_modules/@arcgis/core/views/interactive/snapping/allLayerSnapping.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js","../node_modules/@arcgis/core/geometry/projection/projectPolylineToWGS84ComparableLonLat.js","../node_modules/@arcgis/core/views/support/geodesicLengthMeasurementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction n(){return new Float32Array(4)}function t(n){const t=new Float32Array(4);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(n,t,r,e){const o=new Float32Array(4);return o[0]=n,o[1]=t,o[2]=r,o[3]=e,o}function e(n,t){return new Float32Array(n,t,4)}function o(){return n()}function u(){return r(1,1,1,1)}function c(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function a(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=o(),_=u(),s=c(),y=i(),w=a(),N=f(),T=Object.freeze(Object.defineProperty({__proto__:null,ONES:_,UNIT_W:N,UNIT_X:s,UNIT_Y:y,UNIT_Z:w,ZEROS:l,clone:t,create:n,createView:e,fromValues:r,ones:u,unitW:f,unitX:c,unitY:i,unitZ:a,zeros:o},Symbol.toStringTag,{value:\"Module\"}));export{_ as ONES,N as UNIT_W,s as UNIT_X,y as UNIT_Y,w as UNIT_Z,l as ZEROS,t as clone,n as create,e as createView,r as fromValues,u as ones,f as unitW,c as unitX,i as unitY,a as unitZ,T as v,o as zeros};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{c as e,f as t,j as r,F as s}from\"../../../../chunks/vec32.js\";import{create as i,fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a,c as o}from\"../../../../chunks/vec42.js\";import{fromValues as l,clone as h}from\"../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import{create as d,fromRay as _,getStart as c,getEnd as p}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as u}from\"../../../../geometry/support/frustum.js\";import{create as f,fromPoints as m,pointAt as y}from\"../../../../geometry/support/lineSegment.js\";import{create as g,fromPoints as b}from\"../../../../geometry/support/ray.js\";import{EngineVisualElement as D}from\"./EngineVisualElement.js\";import{LaserlineVisualElement as O}from\"./LaserlineVisualElement.js\";import{drapedZ as w}from\"../../terrain/OverlayRenderer.js\";import{createPolylineGeometry as E}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as j}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as A}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as x}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class C extends D{constructor(e){super(e),this._ray=g(),this._isWorldDown=!1,this._start=i(),this._end=n(1,0,0),this._width=1,this._color=l(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=l(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=V.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=R.OccludeAndTransparent,this._fadedExtensions=T,this._laserline=new O({view:this.view,isDecoration:e.isDecoration}),this.applyProperties(e)}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:e=>this._recreateDrapedGeometry(e)}}updateVisibility(e){super.updateVisibility(e),this._laserline.visible=e}onAttachedChange(){this._laserline.attached=this._laserlineAttached}setStartEndFromWorldDownAtLocation(r){this._isWorldDown=!0,e(this._start,r),this.view.renderCoordsHelper.worldUpAtPosition(r,this._end),t(this._end,r,this._end),b(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(t){this._isWorldDown=!1,r(this._start,t)||(e(this._start,t),b(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(t){this._isWorldDown=!1,r(this._end,t)||(e(this._end,t),b(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){a(e,this._color)||(o(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){a(e,this._innerColor)||(o(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=null!=e!=(null!=this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){null!=e&&null!=this._stippleOffColor&&a(e,this._stippleOffColor)||(this._stippleOffColor=null!=e?h(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.recreateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&null!=this._laserlineStyle&&this.attached&&!this.isDraped}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,null!=e&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===R.OccludeAndTransparentStencil?R.OccludeAndTransparent:this._renderOccluded}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=e??T,this.recreateGeometry()}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._normalizedRenderOccluded,isDecoration:this.isDecoration,writeDepth:this._writeDepthEnabled}}_createObject3DResources(e){const t=new x(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_destroyExternalResources(e){e.geometries=[]}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const s=this._createGeometry(e);r.push(s),t.addGeometry(s),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new x(this.materialParameters);return{material:e,geometries:[this._createDrapedGeometry(e)]}}_recreateDrapedGeometry(e){e.geometries=[this._createDrapedGeometry(e.material)]}_createDrapedGeometry(e){const t=this._createGeometry(e);return this._updateVerticesDraped(t),new j(t)}_createGeometry(e){const t=this.extensionType===V.FADED,r=t?[i(),i(),i(),i()]:[i(),i()];return E(e,r,null,t?[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]:null)}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this._lineSegment;this._updateVertexAttributesObject3D(e,t),this._laserline.intersectsLine=t}_updateVerticesDraped(e){this._updateVertexAttributesDraped(e,this._lineSegment)}get _lineSegment(){return this._extensionType===V.FADED?this._updateLineSegmentFinite(S):this._updateLineSegmentInfinite(this._extensionType,S)}_updateLineSegmentFinite(e){return m(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const r=this.view.state.camera;switch(_(this._ray,G),e){case V.LINE:G.c0=-Number.MAX_VALUE;break;case V.RAY:case V.GROUND_RAY:{const e=this._ray.origin,t=this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\")??0,r=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&r<t&&s(G.ray.direction,G.ray.direction),this._extensionType===V.GROUND_RAY&&null!=t&&(G.c1=Math.abs(r-t));break}}if(!u(r.frustum,G))return this._updateLineSegmentFinite(t);const i=c(G,P),n=p(G,v);return m(i,n,t)}_updateVertexAttributesObject3D(e,t){const r=e.geometries[0].getMutableAttribute(A.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=i[2];e.geometryVertexAttributeUpdated(e.geometries[0],A.POSITION)}_updateVertexAttributesDraped(e,t){const r=e.getMutableAttribute(A.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=w;e.invalidateBoundingInfo()}*_lineVertices(e){this.extensionType===V.FADED?(yield y(e,-this.fadedExtensions.start,P),yield y(e,0,P),yield y(e,1,P),yield y(e,1+this.fadedExtensions.end,P)):(yield y(e,0,P),yield y(e,1,P))}}const G=d(),P=i(),v=i(),S=f();var V;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(V||(V={}));const M=1/3,T={start:M,end:M};export{C as ExtendedLineVisualElement,V as ExtensionType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{watch as e}from\"../../../../core/reactiveUtils.js\";import{castScreenPointArray as t,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{normalize as s,subtract as i,scale as o,set as a,add as c}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{j as d,c as h,n as m,f as l,g as u}from\"../../../../chunks/vec32.js\";import{create as p,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as g,c as b}from\"../../../../chunks/vec42.js\";import{fromValues as f}from\"../../../../core/libs/gl-matrix-2/factories/vec4f32.js\";import{makeDehydratedPoint as y}from\"../../../../layers/graphics/dehydratedPoint.js\";import{EngineVisualElement as j}from\"./EngineVisualElement.js\";import{drapedZ as D}from\"../../terrain/OverlayRenderer.js\";import{createPolylineGeometry as O}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as G}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as R}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as w}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as x}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class v extends j{constructor(e){super(e),this._location=p(),this._direction=_(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=f(1,0,1,1),this._renderOccluded=G.OccludeAndTransparent,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyObject3DResources(e),recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyDrapedResources(e),recreateGeometry:e=>this._recreateDrapedGeometry(e)}}get location(){return this._location}set location(e){d(this._location,e)||(h(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){d(this._direction,e)||(h(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){m(this._direction,l(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){g(e,this._color)||(b(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}_createObject3DResources(e){const t=new x(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_destroyObject3DResources(e){e.geometries.length=0}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const[s,i]=this._createGeometries(e);t.addGeometry(s),t.addGeometry(i),r.push(s),r.push(i),this._updateVerticesObject3D(t)}_createDrapedResources(){const t=new x(this.materialParameters),r=e((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}));return{material:t,geometries:this._createDrapedGeometry(t),pixelRatioHandle:r}}_destroyDrapedResources(e){e.pixelRatioHandle.remove(),e.geometries=[]}_recreateDrapedGeometry(e){e.geometries=this._createDrapedGeometry(e.material)}_createDrapedGeometry(e){const t=this._createGeometries(e);return this._updateVerticesDraped(t),t.map((e=>new R(e)))}_createGeometries(e){return[O(e,[p(),p()]),O(e,[p(),p()])]}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this.view.state.camera;t.projectToScreen(this.location,M),u(P,this.location,this.direction),t.projectToScreen(P,I),s(I,i(I,I,M)),this._updateVertexAttributesObject3D(t,e,0,M,I,1),this._updateVertexAttributesObject3D(t,e,1,M,I,-1)}_updateVertexAttributesObject3D(e,r,s,i,o,a){const c=r.geometries[s],n=c.getMutableAttribute(w.POSITION)?.data;if(!n)return;const{start:d,end:h}=this._computeStartEnd(o,i,a,this.offset,this.width,this.length);e.unprojectFromScreen(t(d),P),n[0]=P[0],n[1]=P[1],n[2]=P[2],e.unprojectFromScreen(t(h),P),n[3]=P[0],n[4]=P[1],n[5]=P[2],r.geometryVertexAttributeUpdated(c,w.POSITION)}_updateVerticesDraped(e){const{view:{basemapTerrain:{overlayManager:t},state:{contentPixelRatio:r}}}=this,{location:s,width:i,length:o,offset:a}=this,c=E;c.spatialReference=t.renderer.spatialReference,c.x=s[0],c.y=s[1];const n=this.view.overlayPixelSizeInMapUnits(c)*r,d=i*n,h=o*n,m=a*n;this._updateVertexAttributesDraped(e[0],d,h,m,-1),this._updateVertexAttributesDraped(e[1],d,h,m,1)}_updateVertexAttributesDraped(e,t,r,s,i){const o=e.getMutableAttribute(w.POSITION)?.data;if(!o)return;const{location:a,direction:c}=this,{start:n,end:d}=this._computeStartEnd(c,a,i,s,t,r);o[0]=n[0],o[1]=n[1],o[2]=D,o[3]=d[0],o[4]=d[1],o[5]=D,e.invalidateBoundingInfo()}_computeStartEnd(e,t,r,s,i,n){const d=o(V,a(V,e[1]*r,e[0]*-r),s+i/2),h=c(A,c(A,c(A,t,o(A,e,n/2)),d),d);return{start:h,end:c(S,h,o(S,e,-n))}}}const P=p(),V=n(),A=n(),S=n(),M=r(),I=r(),E=y(0,0,void 0,null);export{v as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{multiplyOpacity as n}from\"../../../core/colorUtils.js\";import\"../../../core/has.js\";import{destroyHandle as i}from\"../../../core/handleUtils.js\";import{m as t}from\"../../../chunks/vec32.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as o}from\"../../../geometry/projection/projectVectorToVector.js\";import{onTheGroundElevationInfo as a,absoluteHeightElevationInfo as l}from\"../../../support/elevationInfoUtils.js\";import{ExtendedLineVisualElement as s,ExtensionType as c}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as p}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as d}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as m}from\"./visualElements/RightAngleQuadVisualElement.js\";import{DrapedRenderGroup as u}from\"../layers/interfaces.js\";import{RenderOccludedFlag as f}from\"../webgl-engine/lib/Material.js\";import{toDehydratedPoint as g,create as v}from\"../../interactive/sketch/normalizedPoint.js\";import{defaults as h}from\"../../interactive/snapping/Settings.js\";import{SnappingDomain as E}from\"../../interactive/snapping/SnappingDomain.js\";import{LineSegmentHintType as C}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as S}from\"../../interactive/snapping/SnappingVisualizer.js\";import{LineSnappingHint as j}from\"../../interactive/snapping/hints/LineSnappingHint.js\";import{vectorToRender as w}from\"../../interactive/support/viewUtils.js\";class O extends S{sortUniqueHints(e){return e.sort(((e,n)=>(n instanceof j?n.length:0)-(e instanceof j?e.length:0)))}visualizeIntersectionPoint(e,n){const{spatialReference:t,view:r}=n,o=D(n);return i(new d({view:r,primitive:\"circle\",geometry:g(e.intersectionPoint,t),elevationInfo:e.isDraped?a:l,size:20,outlineSize:2,color:o.intersectionPointColor,outlineColor:o.intersectionPointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizePoint(e,n){const{view:t,spatialReference:r}=n,o=D(n),a=R(e.point,e.domain,n);return i(new d({view:t,primitive:\"circle\",geometry:g(a,r),elevationInfo:x(e,n),size:20,outlineSize:2,color:o.pointColor,outlineColor:o.pointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizeLine(e,n){const{view:t,spatialReference:r}=n,o=D(n),a=R(e.lineStart,e.domain,n),l=R(e.lineEnd,e.domain,n);return i(this._createLineSegmentHint(e.type,a,l,r,x(e,n),t,o,e.isDraped,e.fadeLeft,e.fadeRight))}visualizeParallelSign(e,n){const{view:r,spatialReference:o}=n,a=D(n),{isDraped:l}=e,s=x(e,n),c=R(e.lineStart,e.domain,n),d=R(e.lineEnd,e.domain,n),m=H(c,o,s,r,l),g=H(d,o,s,r,l),v=t(g,m,g,.5),E=new p({view:r,attached:!1,offset:h.parallelLineHintOffset,length:h.parallelLineHintLength,width:h.parallelLineHintWidth,color:a.parallelSignColor,location:v,renderOccluded:l?f.OccludeAndTransparent:f.Opaque,isDraped:l,renderGroup:u.SnappingHint,isDecoration:!0});return E.setDirectionFromPoints(m,v),E.attached=!0,i(E)}visualizeRightAngleQuad(e,n){const{view:t,spatialReference:r}=n,o=D(n),a=x(e,n),{isDraped:l}=e,s=R(e.previousVertex,e.domain,n),c=R(e.centerVertex,e.domain,n),p=R(e.nextVertex,e.domain,n),d=H(s,r,a,t,l),g=H(c,r,a,t,l),v=H(p,r,a,t,l);return i(new m({view:t,attached:!0,color:l?o.rightAngleColorDraped:o.rightAngleColor,renderOccluded:l?f.OccludeAndTransparent:f.Transparent,outlineRenderOccluded:l?f.OccludeAndTransparent:f.Opaque,outlineColor:o.rightAngleOutlineColor,outlineSize:h.rightAngleHintOutlineSize,size:h.rightAngleHintSize,isDraped:l,geometry:{previous:d,center:g,next:v},renderGroup:u.SnappingHint,isDecoration:!0}))}_createLineSegmentHint(e,n,i,t,r,o,a,l=!1,p=!0,d=!0){const m=H(n,t,r,o,l),g=H(i,t,r,o,l),v=new s({view:o,extensionType:c.FADED,start:m,end:g,isDraped:l,color:a.lineColor,renderOccluded:l?f.OccludeAndTransparent:f.Opaque,renderGroup:u.SnappingHint,isDecoration:!0});switch(e){case C.TARGET:v.width=h.lineHintWidthTarget,v.fadedExtensions={start:0,end:h.lineHintFadedExtensions};break;case C.REFERENCE_EXTENSION:v.width=h.lineHintWidthReference,v.fadedExtensions={start:0,end:0};break;case C.REFERENCE:v.width=h.lineHintWidthReference,v.fadedExtensions={start:p?h.lineHintFadedExtensions:0,end:d?h.lineHintFadedExtensions:0}}return v.attached=!0,v}}function D(i){const{effectiveTheme:t}=i.view,r=e.toUnitRGBA(t.accentColor),o=[0,0,0,0];return{intersectionPointColor:o,intersectionPointOutlineColor:r,pointColor:o,pointOutlineColor:r,lineColor:r,lineOutlineColor:void 0,parallelSignColor:r,rightAngleColor:r,rightAngleColorDraped:e.toUnitRGBA(n(t.accentColor,.5)),rightAngleOutlineColor:r}}function R(e,n,i){const t=A(n,i);return null==t?e:v(e[0],e[1],t)}function x(e,n){return null!=A(e.domain,n)?n.selfSnappingZ.elevationInfo:e.isDraped?a:l}function A(e,{selfSnappingZ:n}){return e===E.SELF&&null!=n?n.value:null}function H(e,n,i,t,a){const l=r();if(a){const i=t.basemapTerrain.overlayManager.renderer.spatialReference;o(e,n,l,i)}else w(e,n,i,t,l);return l}export{O as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import{screenPointObjectToArray as e,castScreenPointArray as n,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{l as t,c as o,b as l,f as s,k as c,h as i,g as a}from\"../../../../chunks/vec32.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPoint as p}from\"../../../../geometry/projection.js\";import{intersectRay as m,create as d,getNormal as f,fromPositionAndNormal as g}from\"../../../../geometry/support/plane.js\";import{create as y}from\"../../../../geometry/support/ray.js\";import{projectPoint as E}from\"../../../../geometry/support/vector.js\";import{sv2d as S}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as j,getGraphicEffectiveElevationInfo as R}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as v}from\"../../support/geometryUtils/ray.js\";import{newIntersector as x}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as b,IntersectorType as w}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{terrainId as I}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as H}from\"../../../interactive/dragEventPipeline.js\";import U from\"../../../../geometry/Point.js\";function O(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(r,t){const o=u(),l=u();let s=!1;return c=>{const i=t(c);if(\"start\"===c.action){const t=e(c.screenStart,n(S.get())),l=v(r.state.camera,t,K);null!=l&&(s=m(i,l,o))}if(!s)return null;const a=e(c.screenEnd,n(S.get())),u=v(r.state.camera,a,K);return null==u?null:m(i,u,l)?{...c,renderStart:o,renderEnd:l,plane:i,ray:u}:null}}function T(e,n,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenStart.x,c.screenStart.y),n,t,l),null!=s&&null!=o&&!p(s,s,o)))return null;if(null==s)return null;const i=e.sceneIntersectionHelper.intersectElevationFromScreen(r(c.screenEnd.x,c.screenEnd.y),n,t,l);return null!=i&&(null==o||p(i,i,o))?{...c,mapStart:s,mapEnd:i}:null}}function D(e,n,r,t=null,o=null){return T(e,r,j(n,e,r),t,o)}function M(e,n,r,t=null,o=null){return D(e,r,R(n),t,o)}function N(e,n,r,t){const o=n.toMap(e.screenStart,{include:[r]});return null!=o?M(n,r,o,t):null}function h(e,n){const r=B,t=J,o=d();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=l(f(o),r,s(t,n,e.state.camera.eye));return l(c,c,r),g(n,c,o)}function k(e,n,r){let t=null;const o=new H;return o.next(O(e,h(e,n))).next(G(e,n)).next(A(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function G(e,n){const r=u(),l=t(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const p=u(),m=u(),d=o=>{if(s(o,o,n),E(r,o,o),\"global\"===e.viewingMode){t(o)*Math.sign(c(r,o))<.001-l&&s(o,i(o,r,.001),n)}return a(o,o,n),o};return e=>(e.renderStart=d(o(p,e.renderStart)),e.renderEnd=d(o(m,e.renderEnd)),e)}function A(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new U({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new U({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var F;function q(e){let n=null;return r=>{switch(r.action){case\"start\":n=e.disableDisplay();break;case\"end\":case\"cancel\":null!=n&&(n.remove(),n=null)}return r}}function z(n,t=null){const o=x(n.state.viewingMode);o.options.selectionMode=!0,o.options.store=b.MIN,o.options.hud=!1;const l=r(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=u(),i=t??n.spatialReference,a=r=>{n.map.ground&&n.map.ground.opacity<1?s.exclude.add(I):s.exclude.delete(I),n.sceneIntersectionHelper.intersectIntersectorScreen(e(r,l),o,s);const t=o.results.min;let a;if(t.getIntersectionPoint(c))a=t.intersector===w.TERRAIN?F.GROUND:F.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;a=F.GROUND}return{location:n.renderCoordsHelper.fromRenderCoords(c,new U({spatialReference:i})),surfaceType:a}};let p;return e=>{if(\"start\"===e.action){const n=a(e.screenStart);p=null!=n?n.location:null}if(null==p)return null;const n=a(e.screenEnd);return null!=n?.location?{...e,mapStart:p,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(F||(F={}));const B=u(),J=u(),K=y();export{F as SurfaceType,A as convertToMapCoordinates,q as hideManipulatorWhileDragging,G as projectToWorldUp,z as screenToMap3D,D as screenToMapXYAtLocation,N as screenToMapXYForGraphic,M as screenToMapXYForGraphicAtLocation,O as screenToRenderPlane,C as screenToRenderPlaneFromEvent,k as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(o){super(o),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new e}};o([t({constructOnly:!0})],i.prototype,\"layer\",void 0),o([t()],i.prototype,\"enabled\",void 0),o([t()],i.prototype,\"updating\",void 0),o([t()],i.prototype,\"availability\",void 0),o([t()],i.prototype,\"sublayerSources\",void 0),i=o([s(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./FeatureSnappingLayerSource.js\";import{defaults as l}from\"./Settings.js\";let c=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new o,this.distance=l.distance,this.touchSensitivityMultiplier=l.touchSensitivityMultiplier,this.constraintsActive=!1}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){const e=this.featureSources;e.some(p)&&s.getLogger(this).warnOnce(\"Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.\");const t=e.filter(d),i=this._get(\"_effectiveFeatureSources\")?.filter(p)??new o;for(const r of t){const e=i.find((e=>e.layer===r.layer.parent));if(e)e.sublayerSources.includes(r)||e.sublayerSources.add(r);else if(r.layer.parent){const e=new n({layer:r.layer.parent});e.sublayerSources.add(r),i.add(e)}}for(const r of i){const e=r.sublayerSources.filter((e=>!t.includes(e)));r.sublayerSources.removeMany(e)}i.removeMany(i.filter((e=>0===e.sublayerSources.length)));const a=e.filter(f),l=this._get(\"_effectiveFeatureSources\")??new o,{added:c,removed:u}=r(l.toArray(),[...a,...i]);return l.removeMany(u),l.addMany(c),l}};e([i()],c.prototype,\"enabled\",void 0),e([i()],c.prototype,\"enabledToggled\",void 0),e([i()],c.prototype,\"forceDisabled\",void 0),e([i()],c.prototype,\"selfEnabled\",void 0),e([i()],c.prototype,\"featureEnabled\",void 0),e([i({type:o.ofType(n)})],c.prototype,\"featureSources\",void 0),e([i()],c.prototype,\"distance\",void 0),e([i()],c.prototype,\"touchSensitivityMultiplier\",void 0),e([i()],c.prototype,\"constraintsActive\",void 0),e([i({readOnly:!0})],c.prototype,\"effectiveEnabled\",null),e([i({readOnly:!0})],c.prototype,\"effectiveSelfEnabled\",null),e([i({readOnly:!0})],c.prototype,\"effectiveFeatureEnabled\",null),e([i({readOnly:!0})],c.prototype,\"_effectiveFeatureSources\",null),c=e([a(\"esri.views.interactive.snapping.SnappingOptions\")],c);const u=c;function p(e){return\"subtype-group\"===e.layer.type}function f(e){return\"subtype-group\"!==e.layer.type}function d(e){return\"subtype-sublayer\"===e.layer.type}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Logger.js\";import{watch as i,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{sqlAnd as s}from\"../../../core/sql.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as p}from\"../../../layers/support/floorFilterUtils.js\";import{isSubtypeGroupLayer as u,isFeatureLayer as y}from\"../../../layers/support/layerUtils.js\";import{isUtilityNetworkWebMap as c}from\"./snappingUtils.js\";import{scaleBoundsPredicate as d}from\"../../support/layerViewUtils.js\";let f=class extends r{get layerView(){return this.view?.allLayerViews?.find((e=>e.layer===this.layer))}get valid(){return this._valid}get subtypeFilter(){const{layer:e,snappingSource:r}=this;if(!u(e)||!e.subtypes?.length)return{mode:\"not-in-use\",filter:null};const t=r.layerSource.sublayerSources.filter((e=>e.enabled&&e.layer.visible&&d(this.view?.scale,e.layer.effectiveScaleRange.minScale,e.layer.effectiveScaleRange.maxScale))).map((e=>e.layer.subtypeCode));if(!t.length)return{mode:\"none-visible\",filter:null};if(t.length===e.subtypes.length)return{mode:\"all-visible\",filter:null};const i=e.fieldsIndex.get(e.subtypeField)?.name??e.subtypeField;return 1===t.length?{mode:\"in-use\",filter:`${i} = ${t.getItemAt(0)}`}:{mode:\"in-use\",filter:`${i} IN (${t.join(\", \")})`}}get floorFilter(){const{view:e,layer:r}=this;return e&&r?p({view:e,layer:r}):null}constructor(e){super(e),this.rulesTable=null,this._valid=!1}initialize(){if(!this.snappingSource||!this.layer)return;const{layer:e,snappingSource:r}=this;if(\"refresh\"in e){const t=e;this.addHandles(t.on(\"refresh\",(()=>r.refresh())))}this.loadRules(),this.addHandles([i((()=>r.updating),(e=>r.layerSource.updating=e),l),i((()=>r.availability),(e=>r.layerSource.availability=e),l)])}getFetchCandidatesParameters(e,r,t){if(!this.valid)return[];const{layer:i,layerView:l,floorFilter:o,rulesTable:a,subtypeFilter:p}=this,d={distance:t,mode:this.view?.type??\"2d\",point:e,coordinateHelper:r.coordinateHelper,...this._types,filter:l&&\"filter\"in l?l.filter:null};if(o&&(d.filter=h(d.filter,o)),\"not-in-use\"!==p.mode&&\"all-visible\"!==p.mode){if(\"none-visible\"===p.mode)return[];d.filter?d.filter.where=s(d.filter.where,p.mode):d.filter=new n({where:p.filter})}const f=r.feature,m=\"subtype-sublayer\"===f?.sourceLayer?.type?f.sourceLayer.parent:f?.sourceLayer;if(a&&f&&c(this.view?.map)&&(y(i)||u(i))&&i.layerId&&(y(m)||u(m))&&this.view.map.utilityNetworks?.find((e=>e.isUtilityLayer(m)))){if(\"loaded\"!==a.loadStatus)return[];const e=[],r=i.layerId,t=a.getFeatureSQL(m,f)?.[r];if(!t)return[];const l=t.anyVertex;let s=t.endVertex;return s&&l&&s===l&&(s=\"\"),s&&e.push({...d,returnEdge:!1,vertexMode:\"ends\",filter:h(d.filter,s)}),l&&e.push({...d,returnEdge:!1,vertexMode:\"all\",filter:h(d.filter,l)}),e}return[d]}async loadRules(){const{layer:e,view:r}=this;if(e&&r&&c(r?.map)&&(y(e)||u(e))){const l=r.map.utilityNetworks?.find((r=>r.isUtilityLayer(e)));if(l)try{this.rulesTable=await l.getRulesTable(),await(this.rulesTable?.load())}catch(i){return void t.getLogger(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\").error(\"Failed to load rules table for snapping source\",e.title)}}this._valid=!0}get _types(){return{returnEdge:!0,vertexMode:\"all\"}}remove(){this.destroy()}destroy(){this.snappingSource?.destroy()}};function h(e,r){return null==e?new n({where:r}):e.where?new n({where:s(e.where,r)}):new n({where:r})}e([o({constructOnly:!0})],f.prototype,\"layer\",void 0),e([o({constructOnly:!0})],f.prototype,\"snappingSource\",void 0),e([o({constructOnly:!0})],f.prototype,\"view\",void 0),e([o()],f.prototype,\"layerView\",null),e([o()],f.prototype,\"rulesTable\",void 0),e([o()],f.prototype,\"valid\",null),e([o()],f.prototype,\"subtypeFilter\",null),e([o()],f.prototype,\"floorFilter\",null),e([o()],f.prototype,\"_valid\",void 0),f=e([a(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\")],f);export{f as FeatureSnappingSourceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as s}from\"../hints/RightAngleSnappingHint.js\";class o extends i{constructor({targetPoint:e,constraint:i,previousVertex:r,otherVertex:s,otherVertexType:o,objectId:n,isDraped:h}){super(e,i,h,t.SELF),this.previousVertex=r,this.otherVertex=s,this.otherVertexType=o,this.objectId=n}get hints(){const t=this.previousVertex,i=this.otherVertexType===n.CENTER?this.otherVertex:this.targetPoint,o=this.otherVertexType===n.CENTER?this.targetPoint:this.otherVertex;return[new r(e.TARGET,i,o,this.isDraped,this.domain),new r(e.REFERENCE,t,i,this.isDraped,this.domain),new s(this.previousVertex,i,o,this.isDraped,this.domain)]}}var n;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(n||(n={}));export{n as OtherVertexType,o as RightAngleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{destroyHandle as r}from\"../../../core/handleUtils.js\";import{allSettledValues as n,throwIfAborted as a}from\"../../../core/promiseUtils.js\";import{mapCollectionAsync as s}from\"../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as i,getMetersPerVerticalUnitForSR as o}from\"../../../core/unitUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as p}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{a as l,c as d}from\"../../../chunks/vec32.js\";import{create as m}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEpsilon as g}from\"../../../core/libs/gl-matrix-2/math/common.js\";import{UpdatingHandles as S}from\"../../../core/support/UpdatingHandles.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as f}from\"../sketch/constraints.js\";import{fromAnyMapPoint as y,asVec2 as _}from\"../sketch/normalizedPoint.js\";import{FeatureSnappingSourceInfo as v}from\"./FeatureSnappingSourceInfo.js\";import{SnappingDomain as w}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as j,screenDistance as F}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as x}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as C}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as b}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as R,OtherVertexType as L}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as M}from\"../support/viewUtils.js\";let I=class extends t{get updating(){return this._snappingSources.some((e=>null==e||e.valid&&e.snappingSource.updating))||this._updatingHandles.updating}constructor(e){super(e),this.options=null,this._domain=w.FEATURE,this._updatingHandles=new S,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){const e=s((()=>this.options?._effectiveFeatureSources),((e,t)=>this._createSourceInfo(e,t)));this._snappingSources=e,this.addHandles(r(e))}destroy(){this._set(\"options\",null),this._updatingHandles.destroy()}async fetchCandidates(e,t,r,s){if(!(t&this._domain&&null!=this.options&&this.options.effectiveFeatureEnabled))return[];const i=[],o=this._computeScreenSizeDistanceParameters(e,r);for(const n of this._snappingSources){if(null==n||!n.valid||!n.snappingSource.layerSource.enabled||n.layerView?.suspended)continue;const t=n.getFetchCandidatesParameters(e,r,o);for(const e of t)i.push(n.snappingSource.fetchCandidates(e,s).then((e=>e.filter((e=>!this._candidateIsExcluded(n.snappingSource,e,r.excludeFeature))))))}const c=(await n(i)).flat();return this._addRightAngleCandidates(c,e,o,r),a(s),j(e,c),c}_addRightAngleCandidates(e,t,r,n){const a=null!=n.vertexHandle?n.vertexHandle.rightEdge?.rightVertex?.pos:null!=n.editGeometryOperations&&\"polygon\"===n.editGeometryOperations.data.type?n.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos:null,s=null!=n.vertexHandle?n.vertexHandle.leftEdge?.leftVertex?.pos:null!=n.editGeometryOperations?n.editGeometryOperations.data.components[0]?.getLastVertex()?.pos:null,{view:i}=this,o=y(a,i,n),c=y(s,i,n),u=e.length;for(let p=0;p<u;p++)this._addRightAngleCandidate(e[p],c,t,r,e),this._addRightAngleCandidate(e[p],o,t,r,e)}_addRightAngleCandidate(e,t,r,n,a){if(null==t||!G(e))return;const s=e.constraint.closestTo(t),i=(s[0]-r[0])/n.x,o=(s[1]-r[1])/n.y,{start:c,end:u}=e.constraint;if(i*i+o*o<=1){const r=new R({targetPoint:s,otherVertex:t,otherVertexType:L.NEXT,previousVertex:p(_(s),_(c))>p(_(s),_(u))?c:u,constraint:new f(t,s),objectId:e.objectId,isDraped:e.isDraped});a.push(r)}}_computeScreenSizeDistanceParameters(e,t){let r=null!=this.options?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;return null==this.view?{x:r,y:r,z:r,distance:r}:\"2d\"===this.view.type?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,n){const{spatialReference:a}=n;r.renderCoordsHelper.toRenderCoords(e,a,E);const s=r.state.camera.computeScreenPixelSizeAt(E),c=s*r.renderCoordsHelper.unitInMeters,u=c/i(a),p=c/o(a),l=t*u,d=t*p,m=M(e,a,h,r),g=m?P(m,e,u,0,0,r,n):0,S=m?P(m,e,0,u,0,r,n):0,f=m?P(m,e,0,0,p,r,n):0;return{x:0===g?0:l/g,y:0===S?0:l/S,z:0===f?0:d/f,distance:s*t}}_candidateIsExcluded(e,t,r){if(null==r)return!1;const n=this._getCandidateObjectId(t);if(null==n)return!1;const a=e.layerSource.layer;return\"graphics\"===a.type?r.uid===n:r.sourceLayer===a&&(!(!r.attributes||!(\"objectIdField\"in a))&&r.attributes[a.objectIdField]===n)}_getCandidateObjectId(e){return e instanceof b?e.objectId:null}async _createSourceInfo(e,t){const r=e.layer;r.loaded||(await r.load(),a(t));const{view:n}=this,s=await this._createFeatureSnappingSourceType(e);return a(t),new v(null==s?{}:{snappingSource:s,view:n,layer:r})}async _createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e);case\"map-notes\":return this._createFeatureSnappingSourceMapNotesLayer(e);case\"scene\":case\"building-scene\":return this._createFeatureSnappingSourceSceneLayer(e)}return null}async _createFeatureSnappingSourceSceneLayer(e){const{view:t}=this;if(null==t||\"3d\"!==t.type)return null;return new((await this._getSourceModule(\"scene\")).SceneLayerSnappingSource)({layerSource:e,view:t})}async _createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source?.type){case\"feature-layer\":case\"oriented-imagery\":return new((await this._getSourceModule(\"featureService\")).FeatureServiceSnappingSource)({spatialReference:this.spatialReference,view:this.view,layerSource:e});case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":if(\"mesh\"===e.layer.geometryType)return null;return new((await this._getSourceModule(\"featureCollection\")).FeatureCollectionSnappingSource)({layerSource:e,view:this.view})}return null}async _createFeatureSnappingSourceGraphicsLayer(e){return new((await this._getSourceModule(\"graphics\")).GraphicsSnappingSource)({getGraphicsLayers:()=>[e.layer],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _createFeatureSnappingSourceMapNotesLayer(e){return new((await this._getSourceModule(\"notes\")).GraphicsSnappingSource)({getGraphicsLayers:()=>e.layer.sublayers?.toArray()??[],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _getSourceModule(e){const t=this._sourceModules[e];if(null==t.loader){const t=this._loadSourceModule(e),r={module:null,loader:t};this._sourceModules[e]=r;const n=await t,a={module:n,loader:t};return this._sourceModules[e]=a,n}return null==t.module?t.loader:t.module}_loadSourceModule(e){const t=this._updatingHandles;switch(e){case\"featureService\":return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":case\"notes\":return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));case\"scene\":return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"))}}get test(){return{snappingSources:this._snappingSources}}};function G(e){return(e instanceof C||e instanceof x)&&!H(e)}function H({constraint:{start:e,end:t}}){const r=l(e,t),n=p(_(e),_(t));return r<g()||n/r<A}function P(e,t,r,n,a,s,{spatialReference:i}){const o=d(z,t);o[0]+=r,o[1]+=n,o[2]+=a;const c=M(o,i,h,s);return c?F(c,e):1/0}e([c({constructOnly:!0})],I.prototype,\"spatialReference\",void 0),e([c({constructOnly:!0})],I.prototype,\"view\",void 0),e([c()],I.prototype,\"options\",void 0),e([c({readOnly:!0})],I.prototype,\"updating\",null),e([c()],I.prototype,\"_snappingSources\",void 0),I=e([u(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],I);const E=m(),z=m(),A=1e-4;export{I as FeatureSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as i}from\"../sketch/normalizedPoint.js\";import{defaults as o}from\"./Settings.js\";import{squaredScreenDistance as h}from\"./snappingUtils.js\";import{vectorToScreenPoint as n}from\"../support/viewUtils.js\";class l{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=o.shortLineThreshold*o.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?\"vertex\"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(s(e.leftVertex.pos,this.view,t),s(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:s}){return 0===this.squaredShortLineThreshold||h(n(t,s,r,this.view),n(e,s,r,this.view))>this.squaredShortLineThreshold}isVertical(r,s,{spatialReference:h}){const n=e(h);return t(i(r),i(s))*n<o.verticalLineThresholdMeters}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{l as SnappingAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{VerticalPlaneConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as n}from\"../SnappingDomain.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as s}from\"../hints/LineSnappingHint.js\";class r extends e{constructor({lineStart:e,lineEnd:r,targetPoint:o,isDraped:a}){super(o,new t(e,r),a,n.SELF),this._referenceLineHint=new s(i.REFERENCE_EXTENSION,e,r,a,this.domain)}get hints(){return[this._referenceLineHint,new s(i.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}export{r as LineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as e,cyclical2PI as t}from\"../../../core/Cyclical.js\";import{valueInUnit as r,createAngle as s}from\"../../../core/quantityUtils.js\";import{create as o}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as i}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as n,fromVec3 as a}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as d,squaredScreenDistance as l}from\"./snappingUtils.js\";import{LineSnappingCandidate as h}from\"./candidates/LineSnappingCandidate.js\";import{vectorToScreenPoint as c}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as g,pointFromDistanceAlongAzimuth as m}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as f}from\"../../support/geodesicLengthMeasurementUtils.js\";import{projectPointToLineLike as u}from\"../../support/geometry3dUtils.js\";import{LineType as j}from\"../../support/geometry2dUtils.js\";class x extends p{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],s=r.edges.length,o=[];if(s<1)return o;const{spatialReference:n}=t,a=c(e,n,i,this.view),{view:p}=this,l=r.edges[s-1];let h=l;do{if(this.edgeExceedsShortLineThreshold(h,t)){const r=d(h,p,t);this._processCandidateProposal(r.left,r.right,e,a,t,o)}h=h.leftVertex.leftEdge}while(h&&h!==l);return o}snapExistingVertex(e,t){const r=[],s=t.vertexHandle,o=s.component;if(o.edges.length<2)return r;const{view:a}=this,{spatialReference:p}=t,l=c(e,p,i,a),h=s.leftEdge,g=s.rightEdge;h&&g&&this.edgeExceedsShortLineThreshold(h,t)&&this.edgeExceedsShortLineThreshold(g,t)&&this._processCandidateProposal(n(h.leftVertex.pos,a,t),n(g.rightVertex.pos,a,t),e,l,t,r);const m=o.edges[0];let f=m;do{if(f!==s.leftEdge&&f!==s.rightEdge&&this.edgeExceedsShortLineThreshold(f,t)){const s=d(f,a,t);this._processCandidateProposal(s.left,s.right,e,l,t,r)}f=f.rightVertex.rightEdge}while(f&&f!==m);return r}_processCandidateProposal(e,t,r,s,n,p){const{spatialReference:d,pointer:g}=n,m=o();this._projectedLine(m,e,t,r,n);const f=a(m);l(s,c(f,d,i,this.view))<this.squaredProximityThreshold(g)&&p.push(new h({lineStart:e,lineEnd:t,targetPoint:f,isDraped:\"on-the-ground\"===n.elevationInfo?.mode}))}_projectedLine(e,t,r,s,o){this._projectToLineGeodesic(e,t,r,s,o)||this._projectToLinePlanar(e,s,t,r)}_projectToLineGeodesic(o,i,n,a,{spatialReference:p}){const d=g(i,n,p,p);if(null==d)return!1;const l=g(n,a,p,p);if(null==l)return!1;const h=f(n,a,p);if(null==h)return!1;const c=Math.abs(e.shortestSignedDiff(d,l))>Math.PI/2?t.normalize(d+Math.PI):d;return m(o,n,p,r(h,\"meters\"),s(c,\"radians\",\"geographic\"),\"geodesic\"),o[2]=a[2],!0}_projectToLinePlanar(e,t,r,s){u(t,{start:r,end:s,type:j.LINE},e),e[2]=t[2]}}export{x as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{f as e,g as t,j as i}from\"../../../../chunks/vec32.js\";import{clone as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalPlaneConstraint as s}from\"../../sketch/constraints.js\";import{fromVec3 as n}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as a}from\"../SnappingDomain.js\";import{LineSegmentHintType as f}from\"../snappingUtils.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{LineSnappingHint as d}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as h}from\"../hints/ParallelSnappingHint.js\";class g extends o{constructor({referenceLine:i,lineStart:f,targetPoint:o,isDraped:d}){const h=r(f),{left:g,right:p}=i;e(h,t(h,h,p),g),super(o,new s(f,n(h)),d,a.SELF),this._referenceLines=[{edge:i,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new d(f.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new h(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new d(f.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((r=>{i(e.right,r.edge.left)&&(r.fadeLeft=!1,t.fadeRight=!1),i(e.right,r.edge.right)&&(r.fadeRight=!1,t.fadeRight=!1),i(e.left,r.edge.right)&&(r.fadeRight=!1,t.fadeLeft=!1),i(e.left,r.edge.left)&&(r.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}export{g as ParallelLineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{squaredDistance as e}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as i,asVec2 as s,fromValues as o}from\"../sketch/normalizedPoint.js\";import{defaults as n}from\"./Settings.js\";import{SnappingAlgorithm as l}from\"./SnappingAlgorithm.js\";import{editEdgeToSnappingEdge as a,squaredScreenDistance as c}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as h}from\"./candidates/ParallelLineSnappingCandidate.js\";import{vectorToScreenPoint as d}from\"../support/viewUtils.js\";import{projectPointToLine as p}from\"../../support/geometry2dUtils.js\";class g extends l{snapNewVertex(e,t){const s=t.editGeometryOperations.data.components[0],o=s.edges.length,n=s.vertices.length,l=[];if(o<2)return l;const{view:c}=this,h=d(e,t.spatialReference,r,c),p=i(s.vertices[n-1].pos,c,t),g=i(s.vertices[0].pos,c,t),f=s.edges[o-1];let m=f;do{if(this.edgeExceedsShortLineThreshold(m,t)){const r=a(m,c,t);this._checkEdgeForParallelLines(r,p,e,h,t,l),this._checkEdgeForParallelLines(r,g,e,h,t,l)}m=m.leftVertex.leftEdge}while(m&&m!==f);return l}snapExistingVertex(e,t){const s=[],o=t.vertexHandle,n=o.component;if(n.edges.length<3)return s;const{view:l}=this,c=d(e,t.spatialReference,r,l),h=o.leftEdge,p=o.rightEdge,g=n.vertices[0],f=i(g.pos,l,t),m=n.vertices.length,u=n.vertices[m-1],v=i(u.pos,l,t),x=n.edges[0];let E=x;do{if(E!==h&&E!==p&&this.edgeExceedsShortLineThreshold(E,t)){const r=a(E,l,t);h&&this._checkEdgeForParallelLines(r,i(h.leftVertex.pos,l,t),e,c,t,s),p&&this._checkEdgeForParallelLines(r,i(p.rightVertex.pos,l,t),e,c,t,s),o===g?this._checkEdgeForParallelLines(r,v,e,c,t,s):o===u&&this._checkEdgeForParallelLines(r,f,e,c,t,s)}E=E.rightVertex.rightEdge}while(E&&E!==x);return s}_checkEdgeForParallelLines(t,i,l,a,g,m){const u=t.left,v=t.right;if(p(f,s(i),s(u),s(v)),e(f,s(i))<n.parallelLineThreshold)return;p(f,s(l),s(u),s(v),s(i));const{spatialReference:x,pointer:E}=g,L=o(f[0],f[1],l[2]);if(c(a,d(L,x,r,this.view))<this.squaredProximityThreshold(E)){if(this.isVertical(L,i,g)||this.isVertical(u,v,g))return;if(this._parallelToPreviousCandidate(t,m))return;m.push(new h({referenceLine:t,lineStart:i,targetPoint:L,isDraped:\"on-the-ground\"===g.elevationInfo?.mode}))}}_parallelToPreviousCandidate(t,r){const i=t.left,o=t.right;for(const l of r)if(p(f,s(o),s(l.constraint.start),s(l.constraint.end),s(i)),e(f,s(o))<n.parallelLineThreshold)return l.addReferenceLine(t),!0;return!1}}const f=t();export{g as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{cyclical2PI as e}from\"../../../core/Cyclical.js\";import{createAngle as t,valueInUnit as r}from\"../../../core/quantityUtils.js\";import{subtract as i,dot as o,squaredLength as n,scaleAndAdd as s}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{f as c,s as p,r as h}from\"../../../chunks/vec32.js\";import{create as d}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as g}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as l}from\"../sketch/constraints.js\";import{fromAnyMapPoint as f,asVec2 as m,fromValues as u,fromVec3 as x}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as j}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as v}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as V,OtherVertexType as _}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as E}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as R,pointFromDistanceAlongAzimuth as y}from\"../../support/angularMeasurementUtils.js\";import{geodesicDistance as S}from\"../../support/geodesicLengthMeasurementUtils.js\";class k extends j{snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=[];if(r.vertices.length<2)return i;const{view:o}=this,n=E(e,t.spatialReference,g,o),s=r.vertices.at(-1);this._checkForSnappingCandidate(i,s.leftEdge,s,s.leftEdge.leftVertex,e,n,t);const a=r.vertices[0];return this._checkForSnappingCandidate(i,a.rightEdge,a,a.rightEdge.rightVertex,e,n,t),i}snapExistingVertex(e,t){const r=[],i=t.vertexHandle;if(i.component.vertices.length<3)return r;const{view:o}=this,n=E(e,t.spatialReference,g,o),s=i.leftEdge,a=i.rightEdge;if(s?.leftVertex.leftEdge){const i=s.leftVertex.leftEdge;this._checkForSnappingCandidate(r,i,i.rightVertex,i.leftVertex,e,n,t)}if(a?.rightVertex.rightEdge){const i=a.rightVertex.rightEdge;this._checkForSnappingCandidate(r,i,i.leftVertex,i.rightVertex,e,n,t)}return r}_checkForSnappingCandidate(e,t,r,i,o,n,s){if(!this.edgeExceedsShortLineThreshold(t,s))return;const a=this.view,c=f(r.pos,a,s),p=f(i.pos,a,s);this._checkForSnappingCandidateNormalized(e,p,c,o,n,s)}_checkForSnappingCandidateNormalized(e,t,r,i,o,n){this._projectionRay(F,t,r,i,n),this._checkForSnappingCandidateAlongProjectedRay(e,t,r,F,i,o,n)}_projectionRay(e,t,r,i,o){this._projectionRayGeodesic(e,t,r,i,o)||this._projectionRayPlanar(e,t,r)}_projectionRayGeodesic(i,o,n,s,{spatialReference:a}){const p=R(o,n,a,a);if(null==p)return!1;const h=R(n,s,a,a);if(null==h)return!1;const g=Math.sign(e.shortestSignedDiff(p,h))*Math.PI*.5,l=t(p+g,\"radians\",\"geographic\"),f=d(),m=S(n,s,a);return null!=m&&(y(f,n,a,r(m,\"meters\"),l,\"geodesic\"),c(i,f,n),!0)}_projectionRayPlanar(e,t,r){const o=i(C,m(r),m(t));p(e,o[1],-o[0],0)}_checkForSnappingCandidateAlongProjectedRay(e,t,r,a,c,p,f){const{spatialReference:j,pointer:R}=f,y=i(C,m(c),m(r)),S=o(a,y)/n(a),k=s(C,m(r),a,S),F=u(k[0],k[1],c[2]);if(v(p,E(F,j,g,this.view))>this.squaredProximityThreshold(R)||this.isVertical(F,r,f)||this.isVertical(r,t,f))return;const w=h(d(),r,a,Math.sign(S));e.push(new V({targetPoint:F,constraint:new l(r,x(w)),previousVertex:t,otherVertex:r,otherVertexType:_.CENTER,isDraped:\"on-the-ground\"===f.elevationInfo?.mode}))}}const C=a(),F=d();export{k as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{distance as t}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{m as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalCylinderConstraint as r}from\"../../sketch/constraints.js\";import{fromVec3 as n,asVec2 as o}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as p}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as m}from\"./SnappingCandidate.js\";import{LineSnappingHint as a}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as h}from\"../hints/RightAngleSnappingHint.js\";class g extends m{constructor({targetPoint:e,point1:m,point2:a,isDraped:h}){super(e,new r(n(i(s(),m,a,.5)),.5*t(o(m),o(a))),h,p.SELF),this._p1=m,this._p2=a}get hints(){return[new a(e.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new a(e.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new h(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}export{g as RightAngleTriangleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{lerp as e,distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as o,asVec2 as s,fromValues as n}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as a}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as d}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as l}from\"../support/viewUtils.js\";import{projectPointToCircle as m}from\"../../support/geometry2dUtils.js\";class c extends p{snapNewVertex(e,t){const i=t.editGeometryOperations.data.components[0],r=[],s=i.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const{view:n}=this,p=i.vertices[0],a=i.vertices[s-1],d=o(p.pos,n,t),l=o(a.pos,n,t);return this._processCandidateProposal(d,l,e,t,r),r}snapExistingVertex(e,t){const i=[],r=t.vertexHandle,s=r.component;if(s.edges.length<2)return i;if(\"polyline\"===t.editGeometryOperations.data.type&&(0===r.index||r.index===s.vertices.length-1))return i;const{view:n}=this,p=o(r.leftEdge.leftVertex.pos,n,t),a=o(r.rightEdge.rightVertex.pos,n,t);return this._processCandidateProposal(p,a,e,t,i),i}_processCandidateProposal(i,o,p,c,f){if(!this.exceedsShortLineThreshold(i,o,c))return;const g=e(h,s(i),s(o),.5),v=.5*t(s(i),s(o)),x=m(h,s(p),g,v),u=n(x[0],x[1],p[2]),{spatialReference:j,pointer:y}=c,w=l(p,j,r,this.view);if(a(w,l(u,j,r,this.view))<this.squaredProximityThreshold(y)){if(this.isVertical(i,u,c)||this.isVertical(u,o,c))return;f.push(new d({targetPoint:u,point1:i,point2:o,isDraped:\"on-the-ground\"===c.elevationInfo?.mode}))}}}const h=i();export{c as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as e}from\"./LineSnapper.js\";import{ParallelLineSnapper as p}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as n}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{SnappingDomain as c}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as m}from\"./snappingUtils.js\";let h=class extends s{constructor(o){super(o),this.updating=!1,this._snappers=new t,this._domain=c.SELF}initialize(){this._snappers.push(new p(this.view,this.options),new e(this.view,this.options),new n(this.view,this.options),new a(this.view,this.options))}set options(o){this._set(\"options\",o);for(const s of this._snappers)s.options=o}async fetchCandidates(o,s,t){if(!(s&this._domain&&this.options.effectiveSelfEnabled))return[];const i=[];for(const r of this._snappers.items)for(const s of r.snap(o,t))i.push(s);return m(o,i),i}};o([i({readOnly:!0})],h.prototype,\"updating\",void 0),o([i({constructOnly:!0})],h.prototype,\"view\",void 0),o([i()],h.prototype,\"options\",null),h=o([r(\"esri.views.interactive.snapping.SelfSnappingEngine\")],h);export{h as SelfSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{FeatureSnappingEngine as e}from\"./FeatureSnappingEngine.js\";import{SelfSnappingEngine as n}from\"./SelfSnappingEngine.js\";function i(i,p){return[new n({view:i,options:p}),new e({view:i,options:p,spatialReference:i.spatialReference})]}export{i as defaultSnappingEnginesFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as i}from\"../SnappingDomain.js\";import{SnappingCandidate as s}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as n}from\"../hints/IntersectionSnappingHint.js\";class r extends s{constructor(s,n,r,o){super(s,new t(s),o,i.ALL),this.first=n,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new n(this.targetPoint,this.isDraped,this.domain)]}}export{r as IntersectionSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import n from\"../../../core/Evented.js\";import{isAborted as i}from\"../../../core/promiseUtils.js\";import{watch as s,sync as r,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as p,initializeProjection as c}from\"../../../geometry/projection.js\";import{absoluteHeightElevationInfo as h}from\"../../../support/elevationInfoUtils.js\";import{fromPoint as l,toElevationAlignedDehydratedPoint as u}from\"../sketch/normalizedPoint.js\";import{defaults as f}from\"./Settings.js\";import{SnappingDomain as _}from\"./SnappingDomain.js\";import{defaultSnappingEnginesFactory as g}from\"./snappingFactory.js\";import m from\"./SnappingOptions.js\";import{sortCandidatesInPlace as S,squaredScreenDistance as v}from\"./snappingUtils.js\";import{EdgeSnappingCandidate as C}from\"./candidates/EdgeSnappingCandidate.js\";import{IntersectionSnappingCandidate as y}from\"./candidates/IntersectionSnappingCandidate.js\";import{LineSnappingCandidate as P}from\"./candidates/LineSnappingCandidate.js\";import{ParallelLineSnappingCandidate as E}from\"./candidates/ParallelLineSnappingCandidate.js\";import{RightAngleSnappingCandidate as w}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as T}from\"../support/viewUtils.js\";let j=class extends(n.EventedMixin(e)){constructor(t){super(t),this.options=new m,this.snappingEnginesFactory=g,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=M.MAIN}initialize(){this.addHandles([s((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i,constraintsActive:s}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:n,distance:i,constraintsActive:s}}),(()=>{this.doneSnapping(),this.emit(\"changed\")}),r),s((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),r),s((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),a)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:n,options:i}=this;this._engines=e(n,i)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,n=t*e;return n*n}get _squaredSatisfiesConstraintThreshold(){return f.satisfiesConstraintScreenThreshold*f.satisfiesConstraintScreenThreshold}snap(t){return q(t)?this._snapMultiPoint(t):this._snapSinglePoint(t)}update(t){const{point:e,context:n}=t;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return e;const s=this._selectUpdateInput(t);if(null==s)return e;const{spatialReference:r}=n,a=p(s,r);if(null==a)return e;const{view:o}=this,{elevationInfo:d,visualizer:c}=n,h=[],f=l(a,o,d),_=i.constraint.closestTo(f);if(!this._arePointsWithinScreenThreshold(f,_,n))return this._resetSnappingState(),e;i.targetPoint=_,h.push(...i.hints);for(const p of this._currentOtherActiveCandidates)p.targetPoint=_,h.push(...p.hints);return null!=c&&this.addHandles(c.draw(h,{spatialReference:r,elevationInfo:x(n),view:o,selfSnappingZ:n.selfSnappingZ}),I),u(_,o,e,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:t,scenePoint:e}){switch(this._currentSnappedType){case M.MAIN:return t;case M.SCENE:return e}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=M.MAIN}_removeVisualization(){this.removeHandles(I)}async _snapSinglePoint({point:t,context:e,signal:n}){const{view:i}=this,{elevationInfo:s}=e,r=l(t,i,s),a=await this._fetchCandidates(r,_.ALL,e,n);return this._createSnapResult(r,M.MAIN,a,i,t,e,n)}async _snapMultiPoint({point:t,scenePoint:e,context:n,signal:i}){const{view:s}=this,{coordinateHelper:r,elevationInfo:a,spatialReference:o}=n;await c(e.spatialReference,o);const d=p(e,o),h=l(d,s,a),u=await this._fetchCandidates(h,_.FEATURE,n,i);if(u.length>0){const t=await this._fetchCandidates(h,_.SELF,n,i);return this._createSnapResult(h,M.SCENE,[...u,...t],s,d,n,i)}const f=l(t,s,a),g=await this._fetchCandidates(f,_.SELF,n,i);return this._createSnapResult(f,M.MAIN,g,s,{z:r.hasZ()&&t.hasZ?t.z??0:void 0,m:r.hasM()&&t.hasM?t.m??0:void 0},n,i)}async _fetchCandidates(t,e,n,i){return(await Promise.all(this._engines.map((s=>s.fetchCandidates(t,e,n,i))))).flat()}_createSnapResult(t,e,n,s,r,a,o){return{get valid(){return!i(o)},apply:()=>{const{spatialReference:i}=a,{snappedPoint:o,hints:d}=this._processCandidates(t,e,n,a);return this._removeVisualization(),null!=a.visualizer&&this.addHandles(a.visualizer.draw(d,{spatialReference:i,elevationInfo:h,view:s,selfSnappingZ:a.selfSnappingZ}),I),u(o,s,r,a)}}}_processCandidates(t,e,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:t,hints:[]};this._currentSnappedType!==e&&this._resetSnappingState(),S(t,n);const s=this._currentMainCandidate;if(null!=s){const r=this._findOldConstraintInNewCandidates(s,n);if(r>=0){if(!(n[r]instanceof y))return this._intersectWithOtherCandidates(r,n,t,e,i);if(this._arePointsWithinScreenThreshold(t,s.targetPoint,i))return this._updateSnappingCandidate(s,e,n,i)}}return this._intersectWithOtherCandidates(0,n,t,e,i)}_findOldConstraintInNewCandidates(t,e){return t instanceof y?this._findOldCandidateIndex(e,t.first)>=0&&this._findOldCandidateIndex(e,t.second)>=0?0:-1:this._findOldCandidateIndex(e,t)}_intersectWithOtherCandidates(t,e,n,i,s){const{coordinateHelper:r}=s,a=e[t],o=[];for(let d=0;d<e.length;++d){if(d===t)continue;const i=e[d],s=a.constraint.intersect(i.constraint);if(s)for(const t of s.closestPoints(a.targetPoint))o.push([new y(t,a,i,i.isDraped),this._squaredScreenDistance(n,t,r)])}return o.length>0&&(o.sort(((t,e)=>t[1]-e[1])),o[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(o[0][0],i,e,s):this.options.constraintsActive&&(a instanceof P||a instanceof C||a instanceof w||a instanceof E)?{snappedPoint:n,hints:[]}:this._updateSnappingCandidate(a,i,e,s)}_updateSnappingCandidate(t,e,n,i){this.doneSnapping(),this._currentMainCandidate=t,this._currentSnappedType=e;const s=this._currentMainCandidate.targetPoint,r=[];r.push(...t.hints);for(const a of n){if(t instanceof y){if(a.constraint.equals(t.first.constraint)||a.constraint.equals(t.second.constraint))continue}else if(a.constraint.equals(t.constraint))continue;const e=a.constraint.closestTo(s);this._squaredScreenDistance(e,s,i.coordinateHelper)<this._squaredSatisfiesConstraintThreshold&&(a.targetPoint=s,this._currentOtherActiveCandidates.push(a),r.push(...a.hints))}return{snappedPoint:s,hints:r}}_squaredPointProximityThreshold(t){return\"touch\"===t?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(t,e,n){return this._squaredScreenDistance(t,e,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(t,e,n){return v(this._toScreen(t,n),this._toScreen(e,n))}_toScreen(t,e){return T(t,e.spatialReference,h,this.view)}_findOldCandidateIndex(t,e){let n=-1;for(let i=0;i<t.length;++i)if(e.constraint.equals(t[i].constraint)){n=i;break}return n}get test(){return{visualizationsActive:this.hasHandles(I),engines:this._engines}}};var M;t([o({constructOnly:!0})],j.prototype,\"view\",void 0),t([o()],j.prototype,\"options\",void 0),t([o({readOnly:!0})],j.prototype,\"updating\",null),t([o()],j.prototype,\"snappingEnginesFactory\",void 0),t([o()],j.prototype,\"_engines\",void 0),t([o()],j.prototype,\"_squaredMouseProximityThreshold\",null),t([o()],j.prototype,\"_squaredTouchProximityThreshold\",null),t([o()],j.prototype,\"_squaredSatisfiesConstraintThreshold\",null),j=t([d(\"esri.views.interactive.snapping.SnappingManager\")],j),function(t){t[t.MAIN=0]=\"MAIN\",t[t.SCENE=1]=\"SCENE\"}(M||(M={}));const I=\"visualization-handle\";function q(t){return null!=t.scenePoint}function x({coordinateHelper:t,elevationInfo:e}){return t.hasZ()?h:e}export{j as SnappingManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../core/handleUtils.js\";import{nextTick as n}from\"../../../core/nextTick.js\";import{makeAllLayerSnappingOptions as r}from\"./allLayerSnapping.js\";import{FeatureSnappingEngine as o}from\"./FeatureSnappingEngine.js\";import{SnappingManager as t}from\"./SnappingManager.js\";const i=new Map;function a(n){if(!i.has(n)){const e=r(n,{distance:10}),o=s(n,e.options);i.set(n,{referenceCount:0,snappingManager:o,remove:()=>{e.remove(),o.destroy()}})}const o=i.get(n);o.referenceCount++;const t=e((()=>p(n,o)));return{snappingManager:o.snappingManager,...t}}function p(e,r){r.referenceCount--,r.referenceCount>0||n((()=>{0===r.referenceCount&&(r.remove(),i.delete(e))}))}function s(e,n){return new t({view:e,options:n,snappingEnginesFactory:(n,r)=>[new o({view:e,spatialReference:e.spatialReference,options:r})]})}export{a as acquire};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Collection.js\";import{watch as t,initial as i}from\"../../../core/reactiveUtils.js\";import r from\"./FeatureSnappingLayerSource.js\";import{defaults as o}from\"./Settings.js\";import n from\"./SnappingOptions.js\";function a(a,s){const l=new n({enabled:!0,selfEnabled:!1,featureEnabled:!0,distance:s?.distance??o.distance,touchSensitivityMultiplier:s?.touchSensitivityMultiplier??o.touchSensitivityMultiplier});return{...t((()=>a.map?.allLayers?.toArray()??[]),(t=>{l.featureSources=new e(t.map((e=>new r({layer:e,enabled:!0}))))}),i),options:l}}export{a as makeAllLayerSnappingOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{DrapedLineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,isDraped:!0,constraint:new t(n.edgeStart,n.edgeEnd,n.getGroundElevation)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as DrapedEdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{LineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,constraint:new t(n.edgeStart,n.edgeEnd)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as EdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";class n extends o{constructor({targetPoint:o,objectId:n,constraint:r,isDraped:i}){super(o,r,i,t.FEATURE),this.objectId=n}}export{n as FeatureSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,i,o){this.targetPoint=t,this.constraint=s,this.isDraped=i,this.domain=o}}export{t as SnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{s as o}from\"../../chunks/vec32.js\";import{create as s}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getWGS84ComparableLonLatProjector as r}from\"./projectors.js\";function t({hasZ:s,spatialReference:t,paths:n},e,f=0){const i=r(t);if(null==i)return!1;const p=s?o=>o:s=>o(c,s[0],s[1],f);for(const o of n){const s=[];for(const r of o){const o=[0,0,f];i(p(r),0,o,0),s.push(o)}e.push(s)}return!0}const c=s();export{t as projectPolylineToWGS84ComparableLonLat};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{createLength as e}from\"../../core/quantityUtils.js\";import{create as t}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{geodesicLength as r}from\"../../geometry/geometryEngine.js\";import{projectPolylineToWGS84ComparableLonLat as o}from\"../../geometry/projection/projectPolylineToWGS84ComparableLonLat.js\";import{projectVectorToWGS84ComparableLonLat as n}from\"../../geometry/projection/projectVectorToWGS84ComparableLonLat.js\";import{inverseGeodeticSolver as s,geodesicLengths as i,InverseGeodeticSolverResult as m}from\"../../geometry/support/geodesicUtils.js\";import{equals as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{geodesicMeasure as f}from\"./geodesicMeasurementUtils.js\";import a from\"../../geometry/SpatialReference.js\";function p(e){const{spatialReference:t}=e;return f(t,R,d,h,e)}function l(e,t){if(!c(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,G[0]=t.x,G[1]=t.y,G[2]=t.hasZ?t.z:0,u(x,G,r)}function u(e,t,r){return f(r,g,j,y,e,t,r)}function g(t,r,o){return e(s(S,t,r,o).distance,\"meters\")}function j(t,o,n){return e(r(L(t,o,n),\"meters\"),\"meters\")}function y(t,r,o){return n(t,o,U)&&n(r,o,W)?e(s(S,U,W,a.WGS84).distance,\"meters\"):null}function R(t){return e(i([t],\"meters\")[0],\"meters\")}function d(t){return e(r(t,\"meters\"),\"meters\")}function h(t){const r=[];if(!o(t,r))return null;let n=0;for(const e of r){let t=0;for(let r=1;r<e.length;++r)t+=s(S,e[r-1],e[r],a.WGS84).distance;n+=t}return e(n,\"meters\")}function L(e,t,r){return{type:\"polyline\",spatialReference:r,paths:[[[...e],[...t]]]}}const S=new m,x=t(),G=t(),U=t(),W=t();export{u as geodesicDistance,l as geodesicDistanceBetweenPoints,p as geodesicLength};\n"],"names":["n","Float32Array","t","r","e","o","u","c","i","a","f","l","_","s","y","w","N","Object","freeze","defineProperty","__proto__","ONES","UNIT_W","UNIT_X","UNIT_Y","UNIT_Z","ZEROS","clone","create","createView","fromValues","ones","unitW","unitX","unitY","unitZ","zeros","Symbol","toStringTag","value","_n$floorInfo","layer","floorInfo","floorField","view","floors","_n$floorInfo2","length","filter","map","concat","push","join","C","D","constructor","super","this","_ray","g","_isWorldDown","_start","_end","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","V","LINE","_laserlineStyle","_laserlineEnabled","_renderOccluded","R","OccludeAndTransparent","_fadedExtensions","T","_laserline","O","isDecoration","applyProperties","destroy","createObject3DResourceFactory","createResources","_createObject3DResources","destroyResources","_destroyExternalResources","recreateGeometry","_recreateObject3DGeometry","cameraChanged","_updateGeometry","createDrapedResourceFactory","_createDrapedResources","_recreateDrapedGeometry","updateVisibility","visible","onAttachedChange","attached","_laserlineAttached","setStartEndFromWorldDownAtLocation","renderCoordsHelper","worldUpAtPosition","b","start","end","width","_updateMaterial","color","polygonOffset","writeDepthEnabled","innerWidth","innerColor","stipplePattern","recreate","stippleOffColor","h","stipplePreferContinuous","falloff","extensionType","isDraped","laserlineStyle","style","laserlineEnabled","renderOccluded","_normalizedRenderOccluded","OccludeAndTransparentStencil","fadedExtensions","_this$object3dResourc","_this$drapedResources","materialParameters","object3dResources","resources","material","setParameters","drapedResources","hasPolygonOffset","writeDepth","x","Array","_createObject3DGeometry","geometries","forEach","_createGeometry","addGeometry","_updateVerticesObject3D","_createDrapedGeometry","_updateVerticesDraped","j","FADED","E","object","_lineSegment","_updateVertexAttributesObject3D","intersectsLine","_updateVertexAttributesDraped","_updateLineSegmentFinite","S","_updateLineSegmentInfinite","m","state","camera","G","c0","Number","MAX_VALUE","RAY","GROUND_RAY","_this$view$elevationP","origin","elevationProvider","getElevation","spatialReference","getAltitude","ray","direction","c1","Math","abs","frustum","P","p","v","_e$geometries$0$getMu","getMutableAttribute","A","POSITION","data","_lineVertices","geometryVertexAttributeUpdated","_e$getMutableAttribut","invalidateBoundingInfo","d","M","_location","_direction","_offset","_length","_destroyObject3DResources","_destroyDrapedResources","location","setDirectionFromPoints","offset","_createGeometries","contentPixelRatio","pixelRatioHandle","remove","projectToScreen","I","_c$getMutableAttribut","_computeStartEnd","unprojectFromScreen","basemapTerrain","overlayManager","renderer","overlayPixelSizeInMapUnits","sortUniqueHints","sort","visualizeIntersectionPoint","primitive","geometry","intersectionPoint","elevationInfo","size","outlineSize","intersectionPointColor","outlineColor","intersectionPointOutlineColor","pixelSnappingEnabled","visualizePoint","point","domain","pointColor","pointOutlineColor","visualizeLine","lineStart","lineEnd","_createLineSegmentHint","type","fadeLeft","fadeRight","visualizeParallelSign","H","parallelLineHintOffset","parallelLineHintLength","parallelLineHintWidth","parallelSignColor","Opaque","renderGroup","SnappingHint","visualizeRightAngleQuad","previousVertex","centerVertex","nextVertex","rightAngleColorDraped","rightAngleColor","Transparent","outlineRenderOccluded","rightAngleOutlineColor","rightAngleHintOutlineSize","rightAngleHintSize","previous","center","next","arguments","undefined","lineColor","TARGET","lineHintWidthTarget","lineHintFadedExtensions","REFERENCE_EXTENSION","lineHintWidthReference","REFERENCE","effectiveTheme","toUnitRGBA","accentColor","lineOutlineColor","selfSnappingZ","_ref","SELF","F","action","screenStart","get","K","screenEnd","renderStart","renderEnd","plane","q","disableDisplay","z","viewingMode","options","selectionMode","store","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","ground","opacity","add","delete","sceneIntersectionHelper","intersectIntersectorScreen","results","min","getIntersectionPoint","intersector","TERRAIN","GROUND","OTHER","fromRenderCoords","U","surfaceType","mapStart","mapEnd","enabled","updating","availability","sublayerSources","constructOnly","prototype","enabledToggled","forceDisabled","selfEnabled","featureEnabled","featureSources","distance","touchSensitivityMultiplier","constraintsActive","effectiveEnabled","effectiveSelfEnabled","effectiveFeatureEnabled","_effectiveFeatureSources","_this$_get$filter","_this$_get","_this$_get2","some","getLogger","warnOnce","_get","find","parent","includes","removeMany","added","removed","toArray","addMany","ofType","readOnly","layerView","_this$view","allLayerViews","valid","_valid","subtypeFilter","_e$subtypes","_e$fieldsIndex$get$na","_e$fieldsIndex$get","snappingSource","subtypes","mode","layerSource","_this$view2","scale","effectiveScaleRange","minScale","maxScale","subtypeCode","fieldsIndex","subtypeField","name","getItemAt","floorFilter","rulesTable","initialize","addHandles","on","refresh","loadRules","getFetchCandidatesParameters","_this$view$type","_this$view3","_f$sourceLayer","_this$view4","_this$view$map$utilit","coordinateHelper","_types","where","feature","sourceLayer","layerId","utilityNetworks","isUtilityLayer","_a$getFeatureSQL","loadStatus","getFeatureSQL","anyVertex","endVertex","returnEdge","vertexMode","_r$map$utilityNetwork","_this$rulesTable","getRulesTable","load","error","title","_this$snappingSource","targetPoint","constraint","otherVertex","otherVertexType","objectId","hints","CENTER","NEXT","_snappingSources","_updatingHandles","_domain","FEATURE","_sourceModules","featureService","module","loader","featureCollection","graphics","notes","scene","_this$options","_createSourceInfo","_set","fetchCandidates","_computeScreenSizeDistanceParameters","_n$layerView","suspended","then","_candidateIsExcluded","excludeFeature","flat","_addRightAngleCandidates","_n$vertexHandle$right","_n$editGeometryOperat","_n$vertexHandle$leftE","_n$editGeometryOperat2","vertexHandle","rightEdge","rightVertex","pos","editGeometryOperations","components","getFirstVertex","leftEdge","leftVertex","getLastVertex","_addRightAngleCandidate","closestTo","L","pointer","resolution","_computeScreenSizeDistanceParameters3D","toRenderCoords","computeScreenPixelSizeAt","unitInMeters","_getCandidateObjectId","uid","attributes","objectIdField","loaded","_createFeatureSnappingSourceType","_createFeatureSnappingSourceFeatureLayer","_createFeatureSnappingSourceGraphicsLayer","_createFeatureSnappingSourceMapNotesLayer","_createFeatureSnappingSourceSceneLayer","_getSourceModule","SceneLayerSnappingSource","_e$layer$source","source","FeatureServiceSnappingSource","geometryType","FeatureCollectionSnappingSource","GraphicsSnappingSource","getGraphicsLayers","_e$layer$sublayers$to","_e$layer$sublayers","sublayers","_loadSourceModule","addPromise","test","snappingSources","_ref2","squaredShortLineThreshold","shortLineThreshold","snap","snapExistingVertex","snapNewVertex","edgeExceedsShortLineThreshold","exceedsShortLineThreshold","isVertical","verticalLineThresholdMeters","squaredProximityThreshold","_squaredTouchProximityThreshold","_squaredMouseProximityThreshold","_referenceLineHint","_lineEndClosestToTarget","closestEndTo","edges","_processCandidateProposal","left","right","component","_n$elevationInfo","_projectedLine","_projectToLineGeodesic","_projectToLinePlanar","shortestSignedDiff","PI","normalize","referenceLine","_referenceLines","edge","addReferenceLine","vertices","_checkEdgeForParallelLines","parallelLineThreshold","_g$elevationInfo","_parallelToPreviousCandidate","k","at","_checkForSnappingCandidate","_checkForSnappingCandidateNormalized","_projectionRay","_checkForSnappingCandidateAlongProjectedRay","_projectionRayGeodesic","_projectionRayPlanar","sign","_f$elevationInfo","point1","point2","_p1","_p2","index","_c$elevationInfo","_snappers","items","ALL","first","second","EventedMixin","snappingEnginesFactory","_engines","_currentMainCandidate","_currentOtherActiveCandidates","_currentSnappedType","MAIN","doneSnapping","emit","viewReady","ready","viewSpatialReference","_recreateEngines","_destroyEngines","_squaredSatisfiesConstraintThreshold","satisfiesConstraintScreenThreshold","scenePoint","_snapMultiPoint","_snapSinglePoint","update","context","_removeVisualization","_selectUpdateInput","visualizer","_arePointsWithinScreenThreshold","_resetSnappingState","draw","SCENE","removeHandles","_ref3","signal","_fetchCandidates","_createSnapResult","_ref4","_t$z","_t$m","hasZ","hasM","Promise","all","apply","snappedPoint","_processCandidates","_findOldConstraintInNewCandidates","_intersectWithOtherCandidates","_updateSnappingCandidate","_findOldCandidateIndex","intersect","closestPoints","_squaredScreenDistance","_squaredPointProximityThreshold","equals","_toScreen","visualizationsActive","hasHandles","engines","_ref5","Map","has","_s$distance","_s$touchSensitivityMu","_a$map$allLayers$toAr","_a$map","allLayers","set","referenceCount","snappingManager","edgeStart","edgeEnd","getGroundElevation","paths","W","WGS84"],"sourceRoot":""}