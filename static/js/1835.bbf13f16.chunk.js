"use strict";(self.webpackChunksc_tbm=self.webpackChunksc_tbm||[]).push([[1835],{81835:(e,t,n)=>{n.r(t),n.d(t,{classBreaks:()=>r,heatmapStatistics:()=>m,histogram:()=>s,summaryStatistics:()=>o,uniqueValues:()=>l});var i=n(28383),a=n(72003);async function o(e){const{attribute:t,features:n}=e,{normalizationType:o,normalizationField:l,minValue:r,maxValue:s,fieldType:m,outStatisticTypes:u}=t,f=await(0,i.Jc)({field:t.field,valueExpression:t.valueExpression,normalizationType:o,normalizationField:l,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n),c=(0,a.Vb)({normalizationType:o,normalizationField:l,minValue:r,maxValue:s}),d={value:.5,fieldType:m},v="esriFieldTypeString"===m?(0,a.z9)({values:f,supportsNullCount:c,percentileParams:d,outStatisticTypes:u}):(0,a.G_)({values:f,minValue:r,maxValue:s,useSampleStdDev:!o,supportsNullCount:c,percentileParams:d,outStatisticTypes:u});return(0,a.oZ)(v,u,"esriFieldTypeDate"===m)}async function l(e){const{attribute:t,features:n}=e,o=await(0,i.Jc)({field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n,!1),l=(0,a.b3)(o);return(0,a.lv)(l,t.domains,t.returnAllCodedValues,t.fieldDelimiter)}async function r(e){const{attribute:t,features:n}=e,{field:o,normalizationType:l,normalizationField:r,normalizationTotal:s,classificationMethod:m}=t,u=await(0,i.Jc)({field:o,valueExpression:t.valueExpression,normalizationType:l,normalizationField:r,normalizationTotal:s,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n),f=(0,a.Rw)(u,{field:o,normalizationType:l,normalizationField:r,normalizationTotal:s,classificationMethod:m,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return(0,a.jM)(f,m)}async function s(e){const{attribute:t,features:n}=e,{field:o,normalizationType:l,normalizationField:r,normalizationTotal:s,classificationMethod:m}=t,u=await(0,i.Jc)({field:o,valueExpression:t.valueExpression,normalizationType:l,normalizationField:r,normalizationTotal:s,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n);return(0,a.$y)(u,{field:o,normalizationType:l,normalizationField:r,normalizationTotal:s,classificationMethod:m,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})}async function m(e){var t;const{attribute:n,features:a}=e,{field:o,radius:l,transform:r,spatialReference:s}=n,m=null!==(t=n.size)&&void 0!==t?t:[0,0],u=(0,i.$r)(null!==a&&void 0!==a?a:[],r,s,m);return(0,i.gV)(u,null!==l&&void 0!==l?l:void 0,o,m[0],m[1])}},28383:(e,t,n)=>{n.d(t,{$r:()=>y,Jc:()=>z,gV:()=>h,rb:()=>T});n(35238),n(50076);var i=n(76931),a=n(18288),o=n(13312),l=n(76279),r=n(80963),s=n(53430),m=n(4414),u=n(42633),f=n(72003),c=n(98976),d=n(19247);let v=null;const p=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function y(e,t,n,i){const a=(0,r.d9)(n)?(0,r.Vp)(n):null,o=a?Math.round((a.valid[1]-a.valid[0])/t.scale[0]):null;return e.map((e=>{const n=new d.A(e.geometry);return(0,l.Gy)(t,n,n),e.geometry=a?function(e,t,n){return e.x<0?e.x+=t:e.x>n&&(e.x-=t),e}(n,null!==o&&void 0!==o?o:0,i[0]):n,e}))}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const l=new Float64Array(a*o);t=Math.round((0,i.Lz)(t));let r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;const u=(0,m.YW)(n);for(const{geometry:i,attributes:f}of e){const{x:e,y:n}=i,c=Math.max(0,e-t),d=Math.max(0,n-t),v=Math.min(o,n+t),p=Math.min(a,e+t),y=+u(f);for(let i=d;i<v;i++)for(let o=c;o<p;o++){const u=i*a+o,f=(0,m.hv)(o-e,i-n,t)*y,c=l[u]+=f;r=Math.min(r,c),s=Math.max(s,c)}}return{min:r,max:s}}function T(e){const t=p.exec(e);if(!t)return null;const{hh:n,mm:i,ss:o,ms:l}=t.groups;return Number(n)*a.vf.hours+Number(i)*a.vf.minutes+Number(o)*a.vf.seconds+Number(l||0)}async function z(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return[];const{field:i,field2:a,field3:l,fieldDelimiter:r,fieldInfos:m,timeZone:d}=e,p=i&&(null===m||void 0===m?void 0:m.find((e=>e.name.toLowerCase()===i.toLowerCase()))),y=!!p&&(0,s.OH)(p),h=!!p&&(0,u.fs)(p),z=e.valueExpression,I=e.normalizationType,w=e.normalizationField,g=e.normalizationTotal,x=[],V=e.viewInfoParams;let b=null,Z=null;if(z){if(!v){const{arcadeUtils:e}=await(0,c.lw)();v=e}v.hasGeometryOperations(z)&&await v.enableGeometryOperations(),b=v.createFunction(z),Z=V?v.getViewInfo({viewingMode:V.viewingMode,scale:V.scale,spatialReference:new o.A(V.spatialReference)}):null}const F=e.fieldInfos,N=t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass||!F?null:{fields:F};return t.forEach((e=>{const t=e.attributes;let o;if(z){const t=N?{...e,layer:N}:e,n=v.createExecContext(t,Z,d);o=v.executeFunction(b,n)}else t&&(o=t[i],a?(o="".concat((0,f.gJ)(o)).concat(r).concat((0,f.gJ)(t[a])),l&&(o="".concat(o).concat(r).concat((0,f.gJ)(t[l])))):"string"==typeof o&&n&&(h?o=o?new Date(o).getTime():null:y&&(o=o?T(o):null)));if(I&&"number"==typeof o&&isFinite(o)){const e=t&&parseFloat(t[w]);o=(0,f.zS)(o,I,e,g)}x.push(o)})),x}},42633:(e,t,n)=>{n.d(t,{fs:()=>l,i0:()=>r});var i=n(65256),a=n(53430),o=(n(98976),n(63919),n(67478));new Set(["integer","small-integer"]);function l(e){return(0,a.vE)(e)||(0,a.zD)(e)||(0,a.Ah)(e)}function r(e,t){const{format:n,timeZoneOptions:a,fieldType:l}=null!==t&&void 0!==t?t:{};let r,s;if(a&&({timeZone:r,timeZoneName:s}=(0,o.hv)(a.layerTimeZone,a.datesInUnknownTimezone,a.viewTimeZone,(0,i.J2)(n||"short-date-short-time"),l)),"string"==typeof e&&isNaN(Date.parse("time-only"===l?"1970-01-01T".concat(e,"Z"):e)))return e;switch(l){case"date-only":{const t=(0,i.J2)(n||"short-date");return"string"==typeof e?(0,i.iS)(e,{...t}):(0,i.Yq)(e,{...t,timeZone:o.n$})}case"time-only":{const t=(0,i.J2)(n||"short-time");return"string"==typeof e?(0,i.F8)(e,t):(0,i.Yq)(e,{...t,timeZone:o.n$})}case"timestamp-offset":{if(!r&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=n||a?(0,i.J2)(n||"short-date-short-time"):void 0,o=t?{...t,timeZone:r,timeZoneName:s}:void 0;return"string"==typeof e?(0,i.Ey)(e,o):(0,i.Yq)(e,o)}default:{const t=n||a?(0,i.J2)(n||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:r,timeZoneName:s}:void 0)}}}}}]);
//# sourceMappingURL=1835.bbf13f16.chunk.js.map